(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,49152,(t,e,n)=>{"use strict";n._=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}},95692,(t,e,n)=>{"use strict";var r=t.r(49152);n._=function(t,e){if(null==t)return{};var n,i,o=r._(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}},88143,(t,e,n)=>{"use strict";function r(t){let{widthInt:e,heightInt:n,blurWidth:r,blurHeight:i,blurDataURL:o,objectFit:s}=t,a=r?40*r:e,u=i?40*i:n,c=a&&u?"viewBox='0 0 ".concat(a," ").concat(u,"'"):"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' ".concat(c,"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='").concat(20,"'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='").concat(20,"'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='").concat(c?"none":"contain"===s?"xMidYMid":"cover"===s?"xMidYMid slice":"none","' style='filter: url(%23b);' href='").concat(o,"'/%3E%3C/svg%3E")}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"getImageBlurSvg",{enumerable:!0,get:function(){return r}})},87690,(t,e,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={VALID_LOADERS:function(){return o},imageConfigDefault:function(){return s}};for(var i in r)Object.defineProperty(n,i,{enumerable:!0,get:r[i]});let o=["default","imgix","cloudinary","akamai","custom"],s={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,maximumResponseBody:5e7,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:[75],unoptimized:!1}},8927,(t,e,n)=>{"use strict";var r=t.r(44086),i=t.r(4571),o=t.r(95692);Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"getImgProps",{enumerable:!0,get:function(){return f}}),t.r(33525);let s=t.r(43369),a=t.r(88143),u=t.r(87690),c=["-moz-initial","fill","none","scale-down",void 0];function l(t){return void 0!==t.default}function h(t){return void 0===t?t:"number"==typeof t?Number.isFinite(t)?t:NaN:"string"==typeof t&&/^[0-9]+$/.test(t)?parseInt(t,10):NaN}function f(t,e){var n,f;let d,p,m,[g,...y]=[t,e],{src:v,sizes:b,unoptimized:w=!1,priority:x=!1,preload:E=!1,loading:T,className:S,quality:_,width:I,height:A,fill:k=!1,style:C,overrideSrc:P,onLoad:D,onLoadingComplete:N,placeholder:O="empty",blurDataURL:R,fetchPriority:M,decoding:L="async",layout:j,objectFit:F,objectPosition:V,lazyBoundary:U,lazyRoot:B}=g,q=o._(g,["src","sizes","unoptimized","priority","preload","loading","className","quality","width","height","fill","style","overrideSrc","onLoad","onLoadingComplete","placeholder","blurDataURL","fetchPriority","decoding","layout","objectFit","objectPosition","lazyBoundary","lazyRoot"]),[z]=y,{imgConf:K,showAltText:W,blurComplete:G,defaultLoader:H}=z,Q=K||u.imageConfigDefault;if("allSizes"in Q)d=Q;else{let t=[...Q.deviceSizes,...Q.imageSizes].sort((t,e)=>t-e),e=Q.deviceSizes.sort((t,e)=>t-e),o=null==(n=Q.qualities)?void 0:n.sort((t,e)=>t-e);d=i._(r._({},Q),{allSizes:t,deviceSizes:e,qualities:o})}if(void 0===H)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let Y=q.loader||H;delete q.loader,delete q.srcSet;let X="__next_img_default"in Y;if(X){if("custom"===d.loader)throw Object.defineProperty(Error('Image with src "'.concat(v,'" is missing "loader" prop.')+"\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader"),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let t=Y;Y=e=>{let{config:n}=e;return t(o._(e,["config"]))}}if(j){"fill"===j&&(k=!0);let t={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[j];t&&(C=r._({},C,t));let e={responsive:"100vw",fill:"100vw"}[j];e&&!b&&(b=e)}let $="",J=h(I),Z=h(A);if((f=v)&&"object"==typeof f&&(l(f)||void 0!==f.src)){let t=l(v)?v.default:v;if(!t.src)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ".concat(JSON.stringify(t))),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!t.height||!t.width)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ".concat(JSON.stringify(t))),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(p=t.blurWidth,m=t.blurHeight,R=R||t.blurDataURL,$=t.src,!k)if(J||Z){if(J&&!Z){let e=J/t.width;Z=Math.round(t.height*e)}else if(!J&&Z){let e=Z/t.height;J=Math.round(t.width*e)}}else J=t.width,Z=t.height}let tt=!x&&!E&&("lazy"===T||void 0===T);(!(v="string"==typeof v?v:$)||v.startsWith("data:")||v.startsWith("blob:"))&&(w=!0,tt=!1),d.unoptimized&&(w=!0),X&&!d.dangerouslyAllowSVG&&v.split("?",1)[0].endsWith(".svg")&&(w=!0);let te=h(_),tn=Object.assign(k?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:F,objectPosition:V}:{},W?{}:{color:"transparent"},C),tr=G||"empty"===O?null:"blur"===O?'url("data:image/svg+xml;charset=utf-8,'.concat((0,a.getImageBlurSvg)({widthInt:J,heightInt:Z,blurWidth:p,blurHeight:m,blurDataURL:R||"",objectFit:tn.objectFit}),'")'):'url("'.concat(O,'")'),ti=c.includes(tn.objectFit)?"fill"===tn.objectFit?"100% 100%":"cover":tn.objectFit,to=tr?{backgroundSize:ti,backgroundPosition:tn.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:tr}:{},ts=function(t){let{config:e,src:n,unoptimized:r,width:i,quality:o,sizes:a,loader:u}=t;if(r){let t=(0,s.getDeploymentId)();if(n.startsWith("/")&&!n.startsWith("//")&&t){let e=n.includes("?")?"&":"?";n="".concat(n).concat(e,"dpl=").concat(t)}return{src:n,srcSet:void 0,sizes:void 0}}let{widths:c,kind:l}=function(t,e,n){let{deviceSizes:r,allSizes:i}=t;if(n){let t=/(^|\s)(1?\d?\d)vw/g,e=[];for(let r;r=t.exec(n);)e.push(parseInt(r[2]));if(e.length){let t=.01*Math.min(...e);return{widths:i.filter(e=>e>=r[0]*t),kind:"w"}}return{widths:i,kind:"w"}}return"number"!=typeof e?{widths:r,kind:"w"}:{widths:[...new Set([e,2*e].map(t=>i.find(e=>e>=t)||i[i.length-1]))],kind:"x"}}(e,i,a),h=c.length-1;return{sizes:a||"w"!==l?a:"100vw",srcSet:c.map((t,r)=>"".concat(u({config:e,src:n,quality:o,width:t})," ").concat("w"===l?t:r+1).concat(l)).join(", "),src:u({config:e,src:n,quality:o,width:c[h]})}}({config:d,src:v,unoptimized:w,width:J,quality:te,sizes:b,loader:Y}),ta=tt?"lazy":T;return{props:i._(r._({},q),{loading:ta,fetchPriority:M,width:J,height:Z,decoding:L,className:S,style:r._({},tn,to),sizes:ts.sizes,srcSet:ts.srcSet,src:P||ts.src}),meta:{unoptimized:w,preload:E||x,placeholder:O,fill:k}}}},98879,(t,e,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});let r=t.r(71645),i="u"<typeof window,o=i?()=>{}:r.useLayoutEffect,s=i?()=>{}:r.useEffect;function a(t){let{headManager:e,reduceComponentsToState:n}=t;function a(){if(e&&e.mountedInstances){let t=r.Children.toArray(Array.from(e.mountedInstances).filter(Boolean));e.updateHead(n(t))}}if(i){var u;null==e||null==(u=e.mountedInstances)||u.add(t.children),a()}return o(()=>{var n;return null==e||null==(n=e.mountedInstances)||n.add(t.children),()=>{var n;null==e||null==(n=e.mountedInstances)||n.delete(t.children)}}),o(()=>(e&&(e._pendingUpdate=a),()=>{e&&(e._pendingUpdate=a)})),s(()=>(e&&e._pendingUpdate&&(e._pendingUpdate(),e._pendingUpdate=null),()=>{e&&e._pendingUpdate&&(e._pendingUpdate(),e._pendingUpdate=null)})),null}},25633,(t,e,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={default:function(){return m},defaultHead:function(){return h}};for(var i in r)Object.defineProperty(n,i,{enumerable:!0,get:r[i]});let o=t.r(55682),s=t.r(90809),a=t.r(43476),u=s._(t.r(71645)),c=o._(t.r(98879)),l=t.r(42732);function h(){return[(0,a.jsx)("meta",{charSet:"utf-8"},"charset"),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")]}function f(t,e){return"string"==typeof e||"number"==typeof e?t:e.type===u.default.Fragment?t.concat(u.default.Children.toArray(e.props.children).reduce((t,e)=>"string"==typeof e||"number"==typeof e?t:t.concat(e),[])):t.concat(e)}t.r(33525);let d=["name","httpEquiv","charSet","itemProp"];function p(t){let e,n,r,i;return t.reduce(f,[]).reverse().concat(h().reverse()).filter((e=new Set,n=new Set,r=new Set,i={},t=>{let o=!0,s=!1;if(t.key&&"number"!=typeof t.key&&t.key.indexOf("$")>0){s=!0;let n=t.key.slice(t.key.indexOf("$")+1);e.has(n)?o=!1:e.add(n)}switch(t.type){case"title":case"base":n.has(t.type)?o=!1:n.add(t.type);break;case"meta":for(let e=0,n=d.length;e<n;e++){let n=d[e];if(t.props.hasOwnProperty(n))if("charSet"===n)r.has(n)?o=!1:r.add(n);else{let e=t.props[n],r=i[n]||new Set;("name"!==n||!s)&&r.has(e)?o=!1:(r.add(e),i[n]=r)}}}return o})).reverse().map((t,e)=>{let n=t.key||e;return u.default.cloneElement(t,{key:n})})}let m=function(t){let{children:e}=t,n=(0,u.useContext)(l.HeadManagerContext);return(0,a.jsx)(c.default,{reduceComponentsToState:p,headManager:n,children:e})};("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),e.exports=n.default)},18556,(t,e,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ImageConfigContext",{enumerable:!0,get:function(){return o}});let r=t.r(55682)._(t.r(71645)),i=t.r(87690),o=r.default.createContext(i.imageConfigDefault)},65856,(t,e,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"RouterContext",{enumerable:!0,get:function(){return r}});let r=t.r(55682)._(t.r(71645)).default.createContext(null)},70965,(t,e,n)=>{"use strict";function r(t,e){var n;let r=t||75;return(null==e||null==(n=e.qualities)?void 0:n.length)?e.qualities.reduce((t,e)=>Math.abs(e-r)<Math.abs(t-r)?e:t,0):r}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"findClosestQuality",{enumerable:!0,get:function(){return r}})},1948,(t,e,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});let r=t.r(70965),i=t.r(43369);function o(t){var e;let{config:n,src:o,width:s,quality:a}=t;if(o.startsWith("/")&&o.includes("?")&&(null==(e=n.localPatterns)?void 0:e.length)===1&&"**"===n.localPatterns[0].pathname&&""===n.localPatterns[0].search)throw Object.defineProperty(Error('Image with src "'.concat(o,'" is using a query string which is not configured in images.localPatterns.')+"\nRead more: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns"),"__NEXT_ERROR_CODE",{value:"E871",enumerable:!1,configurable:!0});let u=(0,r.findClosestQuality)(a,n),c=(0,i.getDeploymentId)();return"".concat(n.path,"?url=").concat(encodeURIComponent(o),"&w=").concat(s,"&q=").concat(u).concat(o.startsWith("/")&&c?"&dpl=".concat(c):"")}o.__next_img_default=!0;let s=o},18581,(t,e,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useMergedRef",{enumerable:!0,get:function(){return i}});let r=t.r(71645);function i(t,e){let n=(0,r.useRef)(null),i=(0,r.useRef)(null);return(0,r.useCallback)(r=>{if(null===r){let t=n.current;t&&(n.current=null,t());let e=i.current;e&&(i.current=null,e())}else t&&(n.current=o(t,r)),e&&(i.current=o(e,r))},[t,e])}function o(t,e){if("function"!=typeof t)return t.current=e,()=>{t.current=null};{let n=t(e);return"function"==typeof n?n:()=>t(null)}}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),e.exports=n.default)},5500,(t,e,n)=>{"use strict";var r=t.r(44086),i=t.r(4571),o=t.r(95692);Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Image",{enumerable:!0,get:function(){return T}});let s=t.r(55682),a=t.r(90809),u=t.r(43476),c=a._(t.r(71645)),l=s._(t.r(74080)),h=s._(t.r(25633)),f=t.r(8927),d=t.r(87690),p=t.r(18556);t.r(33525);let m=t.r(65856),g=s._(t.r(1948)),y=t.r(18581),v={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/interactive-cv-firebase/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function b(t,e,n,o,s,a,u){let c=null==t?void 0:t.src;t&&t["data-loaded-src"]!==c&&(t["data-loaded-src"]=c,("decode"in t?t.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(t.parentElement&&t.isConnected){if("empty"!==e&&s(!0),null==n?void 0:n.current){let e=new Event("load");Object.defineProperty(e,"target",{writable:!1,value:t});let o=!1,s=!1;n.current(i._(r._({},e),{nativeEvent:e,currentTarget:t,target:t,isDefaultPrevented:()=>o,isPropagationStopped:()=>s,persist:()=>{},preventDefault:()=>{o=!0,e.preventDefault()},stopPropagation:()=>{s=!0,e.stopPropagation()}}))}(null==o?void 0:o.current)&&o.current(t)}}))}function w(t){return c.use?{fetchPriority:t}:{fetchpriority:t}}"u"<typeof window&&(globalThis.__NEXT_IMAGE_IMPORTED=!0);let x=(0,c.forwardRef)((t,e)=>{let[n,...s]=[t,e],{src:a,srcSet:l,sizes:h,height:f,width:d,decoding:p,className:m,style:g,fetchPriority:v,placeholder:x,loading:E,unoptimized:T,fill:S,onLoadRef:_,onLoadingCompleteRef:I,setBlurComplete:A,setShowAltText:k,sizesInput:C,onLoad:P,onError:D}=n,N=o._(n,["src","srcSet","sizes","height","width","decoding","className","style","fetchPriority","placeholder","loading","unoptimized","fill","onLoadRef","onLoadingCompleteRef","setBlurComplete","setShowAltText","sizesInput","onLoad","onError"]),[O]=s,R=(0,c.useCallback)(t=>{t&&(D&&(t.src=t.src),t.complete&&b(t,x,_,I,A,T,C))},[a,x,_,I,A,D,T,C]),M=(0,y.useMergedRef)(O,R);return(0,u.jsx)("img",i._(r._({},N,w(v)),{loading:E,width:d,height:f,decoding:p,"data-nimg":S?"fill":"1",className:m,style:g,sizes:h,srcSet:l,src:a,ref:M,onLoad:t=>{b(t.currentTarget,x,_,I,A,T,C)},onError:t=>{k(!0),"empty"!==x&&A(!0),D&&D(t)}}))});function E(t){let{isAppRouter:e,imgAttributes:n}=t,i=r._({as:"image",imageSrcSet:n.srcSet,imageSizes:n.sizes,crossOrigin:n.crossOrigin,referrerPolicy:n.referrerPolicy},w(n.fetchPriority));return e&&l.default.preload?(l.default.preload(n.src,i),null):(0,u.jsx)(h.default,{children:(0,u.jsx)("link",r._({rel:"preload",href:n.srcSet?void 0:n.src},i),"__nimg-"+n.src+n.srcSet+n.sizes)})}let T=(0,c.forwardRef)((t,e)=>{let n=(0,c.useContext)(m.RouterContext),o=(0,c.useContext)(p.ImageConfigContext),s=(0,c.useMemo)(()=>{var t;let e=v||o||d.imageConfigDefault,n=[...e.deviceSizes,...e.imageSizes].sort((t,e)=>t-e),s=e.deviceSizes.sort((t,e)=>t-e),a=null==(t=e.qualities)?void 0:t.sort((t,e)=>t-e);return i._(r._({},e),{allSizes:n,deviceSizes:s,qualities:a,localPatterns:"u"<typeof window?null==o?void 0:o.localPatterns:e.localPatterns})},[o]),{onLoad:a,onLoadingComplete:l}=t,h=(0,c.useRef)(a);(0,c.useEffect)(()=>{h.current=a},[a]);let y=(0,c.useRef)(l);(0,c.useEffect)(()=>{y.current=l},[l]);let[b,w]=(0,c.useState)(!1),[T,S]=(0,c.useState)(!1),{props:_,meta:I}=(0,f.getImgProps)(t,{defaultLoader:g.default,imgConf:s,blurComplete:b,showAltText:T});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(x,i._(r._({},_),{unoptimized:I.unoptimized,placeholder:I.placeholder,fill:I.fill,onLoadRef:h,onLoadingCompleteRef:y,setBlurComplete:w,setShowAltText:S,sizesInput:t.sizes,ref:e})),I.preload?(0,u.jsx)(E,{isAppRouter:!n,imgAttributes:_}):null]})});("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),e.exports=n.default)},94909,(t,e,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={default:function(){return l},getImageProps:function(){return c}};for(var i in r)Object.defineProperty(n,i,{enumerable:!0,get:r[i]});let o=t.r(55682),s=t.r(8927),a=t.r(5500),u=o._(t.r(1948));function c(t){let{props:e}=(0,s.getImgProps)(t,{defaultLoader:u.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/interactive-cv-firebase/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[t,n]of Object.entries(e))void 0===n&&delete e[t];return{props:e}}let l=a.Image},57688,(t,e,n)=>{e.exports=t.r(94909)},46138,t=>{t.v("/interactive-cv-firebase/_next/static/media/firebase.1d102d48.svg")},50509,t=>{t.v("/interactive-cv-firebase/_next/static/media/tailwind.0298b39c.svg")},6718,t=>{t.v("/interactive-cv-firebase/_next/static/media/nextjs.8f334698.svg")},46007,t=>{t.v("/interactive-cv-firebase/_next/static/media/d3.252bc4f7.svg")},4193,t=>{"use strict";let e,n,r;var i,o,s,a=t.i(43476),u=t.i(20786),c=t.i(92808),l=t.i(71645);let h=(0,l.createContext)(null),f=["Mentoring","Active listening","Code review","Empathy","Problem solving","Self-learning"],d=t=>{let{children:e}=t,[n,r]=(0,l.useReducer)(p,["React","Firebase","Tailwind","Next.JS","D3"]);return(0,a.jsx)(h.Provider,{value:(0,c._)((0,u._)({},n),{toggleLight:t=>{r({type:"TOGGLE_LIGHT",name:t})},isActiveLight:t=>n.includes(t),isPermanentLight:t=>f.includes(t)}),children:e})};function p(t,e){if("TOGGLE_LIGHT"===e.type)return t.includes(e.name)?t.filter(t=>t!==e.name):[...t,e.name];throw Error("No such action type for LightProvider: ".concat(e.type))}var m=t.i(13303);let g=(0,l.createContext)(null),y=t=>{let{children:e}=t,[n,r]=(0,l.useReducer)(v,new Set);return(0,a.jsx)(g.Provider,{value:(0,c._)((0,u._)({},n),{loaded:t=>{n.has(t)||r({type:"added",value:t})},isReady:()=>5===n.size}),children:e})},v=(t,e)=>{if("added"===e.type)return new Set([...t,e.value]);throw Error("LoadReducer > This action doesn't exist: ".concat(e.type))};var b=t.i(6378),w=function(t,e){return(w=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function x(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}w(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var E=function(){return(E=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function T(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function S(t,e){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){var c=[a,u];if(n)throw TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){o.label=c[1];break}if(6===c[0]&&o.label<i[1]){o.label=i[1],i=c;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(c);break}i[2]&&o.ops.pop(),o.trys.pop();continue}c=e.call(t,o)}catch(t){c=[6,t],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}function _(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function I(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function A(t,e,n){if(n||2==arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}var k=("function"==typeof SuppressedError&&SuppressedError,function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:(i<2048?e[n++]=i>>6|192:((64512&i)==55296&&r+1<t.length&&(64512&t.charCodeAt(r+1))==56320?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128):e[n++]=i>>12|224,e[n++]=i>>6&63|128),e[n++]=63&i|128)}return e}),C=function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var o=t[n++],s=t[n++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{var o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")},P={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|a>>4,f=(15&a)<<2|c>>6,d=63&c;!u&&(d=64,s||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(k(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):C(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var c=o<<2|s>>4;if(r.push(c),64!==a){var l=s<<4&240|a>>2;if(r.push(l),64!==u){var h=a<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function D(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=D(t[n],e[n]));return t}var N=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function O(){return"u">typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var R=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,M.prototype.create),o}return x(e,t),e}(Error),M=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=r[0]||{},s=this.service+"/"+t,a=this.errors[t],u=a?(e=a,n=o,e.replace(L,function(t,e){var r=n[e];return null!=r?String(r):"<"+e+"?>"})):"Error",c=this.serviceName+": "+u+" ("+s+").";return new R(s,c,o)},t}(),L=/\{\$([^}]+)}/g;function j(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function F(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}function V(t,e){var n=new U(t,e);return n.subscribe.bind(n)}F.prototype.reset=function(){this.chain_[0]=0x67452301,this.chain_[1]=0xefcdab89,this.chain_[2]=0x98badcfe,this.chain_[3]=0x10325476,this.chain_[4]=0xc3d2e1f0,this.inbuf_=0,this.total_=0},F.prototype.compress_=function(t,e){e||(e=0);var n,r,i=this.W_;if("string"==typeof t)for(var o=0;o<16;o++)i[o]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(var o=0;o<16;o++)i[o]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(var o=16;o<80;o++){var s=i[o-3]^i[o-8]^i[o-14]^i[o-16];i[o]=(s<<1|s>>>31)&0xffffffff}for(var a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4],o=0;o<80;o++){o<40?o<20?(n=l^u&(c^l),r=0x5a827999):(n=u^c^l,r=0x6ed9eba1):o<60?(n=u&c|l&(u|c),r=0x8f1bbcdc):(n=u^c^l,r=0xca62c1d6);var s=(a<<5|a>>>27)+n+h+r+i[o]|0;h=l,l=c,c=(u<<30|u>>>2)&0xffffffff,u=a,a=s}this.chain_[0]=this.chain_[0]+a|0,this.chain_[1]=this.chain_[1]+u|0,this.chain_[2]=this.chain_[2]+c|0,this.chain_[3]=this.chain_[3]+l|0,this.chain_[4]=this.chain_[4]+h|0},F.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},F.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);for(var r=0,n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t};var U=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw Error("Missing Observer.");void 0===(r=!function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0;n<e.length;n++){var r=e[n];if(r in t&&"function"==typeof t[r])return!0}return!1}(t,["next","error","complete"])?{next:t,error:e,complete:n}:t).next&&(r.next=B),void 0===r.error&&(r.error=B),void 0===r.complete&&(r.complete=B);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"u">typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function B(){}function q(t){return t&&t._delegate?t._delegate:t}var z=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),K="[DEFAULT]",W=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t=K);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new N;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=E({identifier:K,optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(t){if(r)return null;throw t}if(r)return null;throw Error("Service "+this.name+" is not available")},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if("EAGER"===t.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:K})}catch(t){}try{for(var r=_(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=I(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService({instanceIdentifier:u});a.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=K),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return T(this,void 0,void 0,function(){var t;return S(this,function(e){switch(e.label){case 0:return[4,Promise.all(A(A([],I((t=Array.from(this.instances.values())).filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),I(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=K),this.instances.has(t)},t.prototype.initialize=function(t){void 0===t&&(t={});var e,n,r=t.instanceIdentifier,i=t.options,o=this.normalizeInstanceIdentifier(void 0===r?K:r);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:o,options:void 0===i?{}:i});try{for(var a=_(this.instancesDeferred.entries()),u=a.next();!u.done;u=a.next()){var c=I(u.value,2),l=c[0],h=c[1],f=this.normalizeInstanceIdentifier(l);o===f&&h.resolve(s)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(s,o),s},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r;try{for(var i=_(this.onInitCallbacks),o=i.next();!o.done;o=i.next()){var s=o.value;try{s(t,e)}catch(t){}}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=this.instances.get(n);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n)===K?void 0:e,options:void 0===r?{}:r}),this.instances.set(n,i),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,i)}catch(t){}return i||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:K:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),G=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new W(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();function H(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var Q=[];(td=tm||(tm={}))[td.DEBUG=0]="DEBUG",td[td.VERBOSE=1]="VERBOSE",td[td.INFO=2]="INFO",td[td.WARN=3]="WARN",td[td.ERROR=4]="ERROR",td[td.SILENT=5]="SILENT";var Y={debug:tm.DEBUG,verbose:tm.VERBOSE,info:tm.INFO,warn:tm.WARN,error:tm.ERROR,silent:tm.SILENT},X=tm.INFO,$=((tp={})[tm.DEBUG]="log",tp[tm.VERBOSE]="log",tp[tm.INFO]="info",tp[tm.WARN]="warn",tp[tm.ERROR]="error",tp),J=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=new Date().toISOString(),o=$[e];if(o)console[o].apply(console,H(["["+i+"]  "+t.name+":"],n));else throw Error("Attempted to log a message with an invalid logType (value: "+e+")")}},Z=function(){function t(t){this.name=t,this._logLevel=X,this._logHandler=J,this._userLogHandler=null,Q.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in tm))throw TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?Y[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,H([this,tm.DEBUG],t)),this._logHandler.apply(this,H([this,tm.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,H([this,tm.VERBOSE],t)),this._logHandler.apply(this,H([this,tm.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,H([this,tm.INFO],t)),this._logHandler.apply(this,H([this,tm.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,H([this,tm.WARN],t)),this._logHandler.apply(this,H([this,tm.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,H([this,tm.ERROR],t)),this._logHandler.apply(this,H([this,tm.ERROR],t))},t}();function tt(t){Q.forEach(function(e){e.setLogLevel(t)})}var te=new M("app","Firebase",((tg={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",tg["bad-app-name"]="Illegal App name: '{$appName}",tg["duplicate-app"]="Firebase App named '{$appName}' already exists",tg["app-deleted"]="Firebase App named '{$appName}' already deleted",tg["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",tg["invalid-log-argument"]="First argument to `onLog` must be null or a function.",tg)),tn="@firebase/app",tr="[DEFAULT]",ti=((ty={})[tn]="fire-core",ty["@firebase/analytics"]="fire-analytics",ty["@firebase/app-check"]="fire-app-check",ty["@firebase/auth"]="fire-auth",ty["@firebase/database"]="fire-rtdb",ty["@firebase/functions"]="fire-fn",ty["@firebase/installations"]="fire-iid",ty["@firebase/messaging"]="fire-fcm",ty["@firebase/performance"]="fire-perf",ty["@firebase/remote-config"]="fire-rc",ty["@firebase/storage"]="fire-gcs",ty["@firebase/firestore"]="fire-fst",ty["fire-js"]="fire-js",ty["firebase-wrapper"]="fire-js-all",ty),to=new Z("@firebase/app"),ts=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=D(void 0,t),this.container=new G(e.name),this._addComponent(new z("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=tr),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=tr),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){to.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw te.create("app-deleted",{appName:this.name_})},t}();ts.prototype.name&&ts.prototype.options||ts.prototype.delete||console.log("dc");var ta=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),("object"!=typeof i||null===i)&&(i={name:i});var o=i;void 0===o.name&&(o.name=tr);var s=o.name;if("string"!=typeof s||!s)throw te.create("bad-app-name",{appName:String(s)});if(j(e,s))throw te.create("duplicate-app",{appName:s});var a=new t(n,o,r);return e[s]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!=(r=ti[t])?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),to.warn(u.join(" "));return}o(new z(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:tt,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw te.create("invalid-log-argument");for(var n=0;n<Q.length;n++)!function(n){var r=null;e&&e.level&&(r=Y[e.level]),null===t?n.userLogHandler=null:n.userLogHandler=function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:tm[n].toLowerCase(),message:s,args:i,type:e.name})}}(Q[n])},apps:null,SDK_VERSION:"8.5.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!j(e,t=t||tr))throw te.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return to.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var a=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw te.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&D(a,o.serviceProps),r[s]=a,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,s).apply(this,o.multipleInstances?t:[])}}for(var u=0,c=Object.keys(e);u<c.length;u++)e[c[u]]._addComponent(o);return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(ts);return e.INTERNAL=E(E({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){D(e,t)},createSubscribe:V,ErrorFactory:M,deepExtend:D}),e}(),tu=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if((null==(e=t.getComponent())?void 0:e.type)!=="VERSION")return null;var e,n=t.getImmediate();return n.library+"/"+n.version}).filter(function(t){return t}).join(" ")},t}();if("object"==typeof self&&self.self===self&&void 0!==self.firebase){to.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var tc=self.firebase.SDK_VERSION;tc&&tc.indexOf("LITE")>=0&&to.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var tl=ta.initializeApp;ta.initializeApp=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(){try{return"[object process]"===Object.prototype.toString.call(t.g.process)}catch(t){return!1}}()&&to.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),tl.apply(void 0,e)},ta.INTERNAL.registerComponent(new z("platform-logger",function(t){return new tu(t)},"PRIVATE")),ta.registerVersion(tn,"0.6.21",void 0),ta.registerVersion("fire-js",""),ta.registerVersion("firebase","8.5.0","app");var th=function(t,e){return(th=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function tf(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var td,tp,tm,tg,ty,tv,tb="u">typeof globalThis?globalThis:"u">typeof window?window:t.g,tw=tw||{},tx=tb||self;function tE(){}function tT(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function tS(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function t_(t,e,n){return t.call.apply(t.bind,arguments)}function tI(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function tA(t,e,n){return(tA=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?t_:tI).apply(null,arguments)}function tk(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function tC(){return Date.now()}function tP(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function tD(){this.j=this.j,this.i=this.i}tD.prototype.j=!1,tD.prototype.ja=function(){this.j||(this.j=!0,this.G())},tD.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var tN=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return -1},tO=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function tR(t){return Array.prototype.concat.apply([],arguments)}function tM(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function tL(t){return/^[\s\xa0]*$/.test(t)}var tj=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function tF(t,e){return -1!=t.indexOf(e)}t:{var tV=tx.navigator;if(tV){var tU=tV.userAgent;if(tU){os=tU;break t}}os=""}function tB(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function tq(t){var e={};for(var n in t)e[n]=t[n];return e}var tz="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tK(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<tz.length;o++)n=tz[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function tW(t){return tW[" "](t),t}tW[" "]=tE;var tG=tF(os,"Opera"),tH=tF(os,"Trident")||tF(os,"MSIE"),tQ=tF(os,"Edge"),tY=tQ||tH,tX=tF(os,"Gecko")&&!(tF(os.toLowerCase(),"webkit")&&!tF(os,"Edge"))&&!(tF(os,"Trident")||tF(os,"MSIE"))&&!tF(os,"Edge"),t$=tF(os.toLowerCase(),"webkit")&&!tF(os,"Edge");function tJ(){var t=tx.document;return t?t.documentMode:void 0}t:{var tZ,t0="",t1=(tZ=os,tX?/rv:([^\);]+)(\)|;)/.exec(tZ):tQ?/Edge\/([\d\.]+)/.exec(tZ):tH?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(tZ):t$?/WebKit\/(\S+)/.exec(tZ):tG?/(?:Version)[ \/]?(\S+)/.exec(tZ):void 0);if(t1&&(t0=t1?t1[1]:""),tH){var t2=tJ();if(null!=t2&&t2>parseFloat(t0)){oa=String(t2);break t}}oa=t0}var t3={};function t4(t){var e;return e=function(){for(var e=0,n=tj(String(oa)).split("."),r=tj(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s,a,u,c,l,h,f=n[o]||"",d=r[o]||"";do{if(f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==f[0].length&&0==d[0].length)break;e=(s=0==f[1].length?0:parseInt(f[1],10),(s<(a=0==d[1].length?0:parseInt(d[1],10))?-1:+(s>a))||(u=0==f[2].length,u<(c=0==d[2].length)?-1:+(u>c))||(l=f[2],l<(h=d[2])?-1:+(l>h))),f=f[3],d=d[3]}while(0==e)}return 0<=e},Object.prototype.hasOwnProperty.call(t3,t)?t3[t]:t3[t]=e(t)}var t5=ou=tx.document&&tH&&(tJ()||parseInt(oa,10))||void 0,t6=!tH||9<=Number(t5),t8=tH&&!t4("9"),t9=function(){if(!tx.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{tx.addEventListener("test",tE,e),tx.removeEventListener("test",tE,e)}catch(t){}return t}();function t7(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function et(t,e){if(t7.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(tX){t:{try{tW(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ee[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}t7.prototype.b=function(){this.defaultPrevented=!0},tP(et,t7);var ee={2:"touch",3:"pen",4:"mouse"};et.prototype.b=function(){et.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,t8)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var en="closure_listenable_"+(1e6*Math.random()|0),er=0;function ei(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++er,this.Y=this.Z=!1}function eo(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function es(t){this.src=t,this.a={},this.b=0}function ea(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=tN(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(eo(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function eu(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&!!n==o.capture&&o.ca==r)return i}return -1}es.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=eu(t,e,r,i);return -1<s?(e=t[s],n||(e.Z=!1)):((e=new ei(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var ec="closure_lm_"+(1e6*Math.random()|0),el={};function eh(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=eb(r),e&&e[en]?e.wa(n,r,tS(i)?!!i.capture:!!i,o):ef(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)eh(t,e[o],n,r,i);return null}return n=eb(n),t&&t[en]?t.va(e,n,tS(r)?!!r.capture:!!r,i):ef(t,e,n,!1,r,i)}function ef(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s,a=tS(i)?!!i.capture:!!i;if(a&&!t6)return null;var u=ey(t);if(u||(t[ec]=u=new es(t)),(n=u.add(e,n,r,a,o)).proxy)return n;if(r=s=t6?function(t){return eg.call(s.src,s.listener,t)}:function(t){if(!(t=eg.call(s.src,s.listener,t)))return t},n.proxy=r,r.src=t,r.listener=n,t.addEventListener)t9||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ep(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function ed(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[en])ea(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ep(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ey(e))?(ea(n,t),0==n.b&&(n.src=null,e[ec]=null)):eo(t)}}}function ep(t){return t in el?el[t]:el[t]="on"+t}function em(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&ed(t),n.call(r,e)}function eg(t,e){if(t.Y)return!0;if(!t6){if(!e)t:{e=["window","event"];for(var n=tx,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return em(t,e=new et(e,this))}return em(t,new et(e,this))}function ey(t){return(t=t[ec])instanceof es?t:null}var ev="__closure_events_fn_"+(1e9*Math.random()>>>0);function eb(t){return"function"==typeof t?t:(t[ev]||(t[ev]=function(e){return t.handleEvent(e)}),t[ev])}function ew(){tD.call(this),this.c=new es(this),this.J=this,this.C=null}function ex(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new t7(e,t);else if(e instanceof t7)e.target=e.target||t;else{var i=e;tK(e=new t7(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=eE(s,r,!0,e)&&i}if(i=eE(s=e.a=t,r,!0,e)&&i,i=eE(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=eE(s=e.a=n[o],r,!1,e)&&i}function eE(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&ea(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}tP(ew,tD),ew.prototype[en]=!0,(tv=ew.prototype).addEventListener=function(t,e,n,r){eh(this,t,e,n,r)},tv.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else(i=tS(i)?!!i.capture:!!i,r=eb(r),e&&e[en])?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=eu(s=e.a[n],r,i,o))&&(eo(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=ey(e))&&(n=e.a[n.toString()],e=-1,n&&(e=eu(n,r,i,o)),(r=-1<e?n[e]:null)&&ed(r))}(this,t,e,n,r)},tv.G=function(){if(ew.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)eo(n[r]);delete e.a[t],e.b--}}this.C=null},tv.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},tv.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var eT=tx.JSON.stringify;function eS(){this.b=this.a=null}var e_=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())(function(){return new eI},function(t){t.reset()});function eI(){this.next=this.b=this.a=null}function eA(t,e){var n;oc||(n=tx.Promise.resolve(void 0),oc=function(){n.then(eP)}),ek||(oc(),ek=!0),eC.add(t,e)}eS.prototype.add=function(t,e){var n=e_.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},eI.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},eI.prototype.reset=function(){this.next=this.b=this.a=null};var ek=!1,eC=new eS;function eP(){for(var t,e;t=null,eC.a&&(t=eC.a,eC.a=eC.a.next,eC.a||(eC.b=null),t.next=null),e=t;){try{e.a.call(e.b)}catch(t){!function(t){tx.setTimeout(function(){throw t},0)}(t)}e_.f(e),100>e_.b&&(e_.b++,e.next=e_.a,e_.a=e)}ek=!1}function eD(t,e){ew.call(this),this.b=t||1,this.a=e||tx,this.f=tA(this.Za,this),this.g=tC()}function eN(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function eO(t,e,n){if("function"==typeof t)n&&(t=tA(t,n));else if(t&&"function"==typeof t.handleEvent)t=tA(t.handleEvent,t);else throw Error("Invalid listener argument");return 0x7fffffff<Number(e)?-1:tx.setTimeout(t,e||0)}tP(eD,ew),(tv=eD.prototype).aa=!1,tv.M=null,tv.Za=function(){if(this.aa){var t=tC()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),ex(this,"tick"),this.aa&&(eN(this),this.start()))}},tv.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=tC())},tv.G=function(){eD.X.G.call(this),eN(this),delete this.a};var eR=function(t){function e(){this.constructor=n}function n(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return th(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e),n.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:function t(e){e.a=eO(function(){e.a=null,e.c&&(e.c=!1,t(e))},e.h);var n=e.b;e.b=null,e.g.apply(null,n)}(this)},n.prototype.G=function(){t.prototype.G.call(this),this.a&&(tx.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},n}(tD);function eM(t){tD.call(this),this.b=t,this.a={}}tP(eM,tD);var eL=[];function ej(t,e,n,r){Array.isArray(n)||(n&&(eL[0]=n.toString()),n=eL);for(var i=0;i<n.length;i++){var o=eh(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function eF(t){tB(t.a,function(t,e){this.a.hasOwnProperty(e)&&ed(t)},t),t.a={}}function eV(){this.a=!0}function eU(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}}return eT(n)}catch(t){return e}}(t,n)+(r?" "+r:"")})}eM.prototype.G=function(){eM.X.G.call(this),eF(this)},eM.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},eV.prototype.info=function(){};var eB={},eq=null;function ez(){return eq=eq||new ew}function eK(t){t7.call(this,eB.Fa,t)}function eW(t){var e=ez();ex(e,new eK(e,t))}function eG(t,e){t7.call(this,eB.STAT_EVENT,t),this.stat=e}function eH(t){var e=ez();ex(e,new eG(e,t))}function eQ(t){t7.call(this,eB.Ga,t)}function eY(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return tx.setTimeout(function(){t()},e)}eB.Fa="serverreachability",tP(eK,t7),eB.STAT_EVENT="statevent",tP(eG,t7),eB.Ga="timingevent",tP(eQ,t7);var eX={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},e$={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function eJ(){}function eZ(t){var e;return(e=t.a)||(e=t.a={}),e}function e0(){}eJ.prototype.a=null;var e1={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function e2(){t7.call(this,"d")}function e3(){t7.call(this,"c")}function e4(){}function e5(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new eM(this),this.P=e6,t=tY?125:void 0,this.R=new eD(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}tP(e2,t7),tP(e3,t7),tP(e4,eJ),ol=new e4;var e6=45e3,e8={},e9={};function e7(t,e,n){t.H=1,t.i=nw(np(e)),t.j=n,t.I=!0,nt(t,null)}function nt(t,e){t.u=tC(),nn(t),t.l=np(t.i);var n,r,i,o,s,a,u=t.l,c=t.S;Array.isArray(c)||(c=[String(c)]),nO(u.b,"t",c),t.D=0,t.a=rg(t.g,t.g.C?e:null),0<t.O&&(t.F=new eR(tA(t.Ca,t,t.a),t.O)),ej(t.J,t.a,"readystatechange",t.Xa),e=t.B?tq(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),eW(1),n=t.c,r=t.m,i=t.l,o=t.f,s=t.S,a=t.j,n.info(function(){if(n.a)if(a)for(var t="",e=a.split("&"),u=0;u<e.length;u++){var c=e[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");t=2<=h.length&&"type"==h[1]?t+(l+"=")+c+"&":t+(l+"=redacted&")}}else t=null;else t=a;return"XMLHTTP REQ ("+o+") [attempt "+s+"]: "+r+"\n"+i+"\n"+t})}function ne(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=function(t,e){var n=t.D,r=e.indexOf("\n",n);return -1==r?e9:isNaN(n=Number(e.substring(n,r)))?e8:(r+=1)+n>e.length?e9:(e=e.substr(r,n),t.D=r+n,e)}(t,n);if(i==e9){4==e&&(t.h=4,eH(14),r=!1),eU(t.c,t.f,null,"[Incomplete Response]");break}if(i==e8){t.h=4,eH(15),eU(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}eU(t.c,t.f,i,null),na(t,i)}4==e&&0==n.length&&(t.h=1,eH(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),ru(e),e.F=!0,eH(11))):(eU(t.c,t.f,n,"[Invalid Chunked Response]"),ns(t),no(t))}function nn(t){t.T=tC()+t.P,nr(t,t.P)}function nr(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=eY(tA(t.Va,t),e)}function ni(t){t.o&&(tx.clearTimeout(t.o),t.o=null)}function no(t){0==t.g.v||t.A||rh(t.g,t)}function ns(t){ni(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,eN(t.R),eF(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function na(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||nU(n.b,t))){if(n.I=t.N,!t.C&&nU(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a)if(n.a.u+3e3<t.u)rl(n),n7(n);else break t;ra(n),eH(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=eY(tA(n.Sa,n),6e3));if(1>=nV(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else rd(n,11)}else if((t.C||n.a==t)&&rl(n),!tL(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(tF(l,"spdy")||tF(l,"quic")||tF(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(nB(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,nb(u.B,u.A,f))}}if(n.v=3,n.f&&n.f.ta(),n.U&&(n.N=tC()-t.u,n.c.info("Handshake RTT: "+n.N+"ms")),(u=n).la=rm(u,u.C?u.ga:null,u.fa),t.C){nq(u.b,t);var d=u.D;d&&t.setTimeout(d),t.o&&(ni(t),nn(t)),u.a=t}else rs(u);0<n.g.length&&rn(n)}else"stop"!=i[0]&&"close"!=i[0]||rd(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?rd(n,7):n9(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0)}eW(4)}catch(t){}}function nu(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(tT(t)||"string"==typeof t)tO(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(tT(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(tT(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function nc(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof nc)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function nl(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];nh(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)nh(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function nh(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(tv=e5.prototype).setTimeout=function(t){this.P=t},tv.Xa=function(t){t=t.target;var e=this.F;e&&3==n4(t)?e.f():this.Ca(t)},tv.Ca=function(t){try{if(t==this.a)t:{var e=n4(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!tY&&!this.a.$())){this.A||4!=e||7==n||(8==n||0>=r?eW(3):eW(2)),ni(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,s=this.c,a=this.m,u=this.l,c=this.f,l=this.S,s.info(function(){return"XMLHTTP RESP ("+c+") [ attempt "+l+"]: "+a+"\n"+u+"\n"+e+" "+i}),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a,u,c,l,h,f=this.a;if((h=f.a?f.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tL(h)){var d=h;break e}}d=null}if(d)eU(this.c,this.f,d,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,na(this,d);else{this.b=!1,this.h=3,eH(12),ns(this),no(this);break t}}this.I?(ne(this,e,o),tY&&this.b&&3==e&&(ej(this.J,this.R,"tick",this.Wa),this.R.start())):(eU(this.c,this.f,o,null),na(this,o)),4==e&&ns(this),this.b&&!this.A&&(4==e?rh(this.g,this):(this.b=!1,nn(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,eH(12)):(this.h=0,eH(13)),ns(this),no(this)}}}catch(t){}finally{}},tv.Wa=function(){if(this.a){var t=n4(this.a),e=this.a.$();this.D<e.length&&(ni(this),ne(this,t,e),this.b&&4!=t&&nn(this))}},tv.cancel=function(){this.A=!0,ns(this)},tv.Va=function(){this.o=null;var t,e,n=tC();0<=n-this.T?(t=this.c,e=this.l,t.info(function(){return"TIMEOUT: "+e}),2!=this.H&&(eW(3),eH(17)),ns(this),this.h=2,no(this)):nr(this,this.T-n)},(tv=nc.prototype).K=function(){nl(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},tv.L=function(){return nl(this),this.a.concat()},tv.get=function(t,e){return nh(this.b,t)?this.b[t]:e},tv.set=function(t,e){nh(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},tv.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var nf=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function nd(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof nd){this.a=void 0!==e?e:t.a,nm(this,t.f),this.j=t.j,ng(this,t.c),ny(this,t.h),this.g=t.g,e=t.b;var n=new nC;n.c=e.c,e.a&&(n.a=new nc(e.a),n.b=e.b),nv(this,n),this.i=t.i}else t&&(n=String(t).match(nf))?(this.a=!!e,nm(this,n[1]||"",!0),this.j=nx(n[2]||""),ng(this,n[3]||"",!0),ny(this,n[4]),this.g=nx(n[5]||"",!0),nv(this,n[6]||"",!0),this.i=nx(n[7]||"")):(this.a=!!e,this.b=new nC(null,this.a))}function np(t){return new nd(t)}function nm(t,e,n){t.f=n?nx(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function ng(t,e,n){t.c=n?nx(e,!0):e}function ny(t,e){if(e){if(isNaN(e=Number(e))||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function nv(t,e,n){var r,i;e instanceof nC?(t.b=e,r=t.b,(i=t.a)&&!r.f&&(nP(r),r.c=null,r.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(nD(this,e),nO(this,n,t))},r)),r.f=i):(n||(e=nE(e,nA)),t.b=new nC(e,t.a))}function nb(t,e,n){t.b.set(e,n)}function nw(t){return nb(t,"zx",Math.floor(0x80000000*Math.random()).toString(36)+Math.abs(Math.floor(0x80000000*Math.random())^tC()).toString(36)),t}function nx(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function nE(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,nT),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function nT(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}nd.prototype.toString=function(){var t=[],e=this.f;e&&t.push(nE(e,nS,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(nE(e,nS,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(nE(n,"/"==n.charAt(0)?nI:n_,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",nE(n,nk)),t.join("")};var nS=/[#\/\?@]/g,n_=/[#\?:]/g,nI=/[#\?]/g,nA=/[#\?@]/g,nk=/#/g;function nC(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function nP(t){t.a||(t.a=new nc,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function nD(t,e){nP(t),e=nR(t,e),nh(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,nh((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&nl(t)))}function nN(t,e){return nP(t),e=nR(t,e),nh(t.a.b,e)}function nO(t,e,n){nD(t,e),0<n.length&&(t.c=null,t.a.set(nR(t,e),tM(n)),t.b+=n.length)}function nR(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(tv=nC.prototype).add=function(t,e){nP(this),this.c=null,t=nR(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},tv.forEach=function(t,e){nP(this),this.a.forEach(function(n,r){tO(n,function(n){t.call(e,n,r,this)},this)},this)},tv.L=function(){nP(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},tv.K=function(t){nP(this);var e=[];if("string"==typeof t)nN(this,t)&&(e=tR(e,this.a.get(nR(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=tR(e,t[n])}return e},tv.set=function(t,e){return nP(this),this.c=null,nN(this,t=nR(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},tv.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},tv.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var nM=function(t,e){this.b=t,this.a=e};function nL(t){this.g=t||nj,t=tx.PerformanceNavigationTiming?0<(t=tx.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(tx.ia&&tx.ia.ya&&tx.ia.ya()&&tx.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var nj=10;function nF(t){return!!t.b||!!t.a&&t.a.size>=t.f}function nV(t){return t.b?1:t.a?t.a.size:0}function nU(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function nB(t,e){t.a?t.a.add(e):t.b=e}function nq(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function nz(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=tf(t.a.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return tM(t.c)}function nK(){}function nW(){this.a=new nK}function nG(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}nL.prototype.cancel=function(){var t,e;if(this.c=nz(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=tf(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},nK.prototype.stringify=function(t){return tx.JSON.stringify(t,void 0)},nK.prototype.parse=function(t){return tx.JSON.parse(t,void 0)};var nH=tx.JSON.parse;function nQ(t){ew.call(this),this.headers=new nc,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=nY,this.D=this.F=!1}tP(nQ,ew);var nY="",nX=/^https?$/i,n$=["POST","PUT"];function nJ(t){return"content-type"==t.toLowerCase()}function nZ(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,n0(t),n2(t)}function n0(t){t.u||(t.u=!0,ex(t,"complete"),ex(t,"error"))}function n1(t){if(t.b&&void 0!==tw&&(!t.s[1]||4!=n4(t)||2!=t.W())){if(t.l&&4==n4(t))eO(t.za,0,t);else if(ex(t,"readystatechange"),4==n4(t)){t.b=!1;try{var e,n,r=t.W();switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break;default:i=!1}if(!(e=i)){if(n=0===r){var o=String(t.B).match(nf)[1]||null;if(!o&&tx.self&&tx.self.location){var s=tx.self.location.protocol;o=s.substr(0,s.length-1)}n=!nX.test(o?o.toLowerCase():"")}e=n}if(e)ex(t,"complete"),ex(t,"success");else{t.h=6;try{var a=2<n4(t)?t.a.statusText:""}catch(t){a=""}t.f=a+" ["+t.W()+"]",n0(t)}}finally{n2(t)}}}}function n2(t,e){if(t.a){n3(t);var n=t.a,r=t.s[0]?tE:null;t.a=null,t.s=null,e||ex(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function n3(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(tx.clearTimeout(t.m),t.m=null)}function n4(t){return t.a?t.a.readyState:0}function n5(t,e,n){t:{for(i in n){var r,i=!1;break t}i=!0}i||(r="",tB(n,function(t,e){r+=e,r+=":",r+=t,r+="\r\n"}),n=r,"string"==typeof t?null!=n&&encodeURIComponent(String(n)):nb(t,e,n))}function n6(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function n8(t){this.pa=0,this.g=[],this.c=new eV,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=n6("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=n6("baseRetryDelayMs",5e3,t),this.Ra=n6("retryDelaySeedMs",1e4,t),this.Ma=n6("forwardChannelMaxRetries",2,t),this.ma=n6("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new nL(t&&t.concurrentRequestLimit),this.ka=new nW,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function n9(t){if(rt(t),3==t.v){var e=t.R++,n=np(t.B);nb(n,"SID",t.J),nb(n,"RID",e),nb(n,"TYPE","terminate"),ri(t,n),(e=new e5(t,t.c,e,void 0)).H=2,e.i=nw(np(n)),n=!1,tx.navigator&&tx.navigator.sendBeacon&&(n=tx.navigator.sendBeacon(e.i.toString(),"")),!n&&tx.Image&&((new Image).src=e.i,n=!0),n||(e.a=rg(e.g,null),e.a.ba(e.i)),e.u=tC(),nn(e)}rp(t)}function n7(t){t.a&&(ru(t),t.a.cancel(),t.a=null)}function rt(t){n7(t),t.j&&(tx.clearTimeout(t.j),t.j=null),rl(t),t.b.cancel(),t.h&&("number"==typeof t.h&&tx.clearTimeout(t.h),t.h=null)}function re(t,e){t.g.push(new nM(t.Oa++,e)),3==t.v&&rn(t)}function rn(t){nF(t.b)||t.h||(t.h=!0,eA(t.Ba,t),t.u=0)}function rr(t,e){var n=e?e.f:t.R++,r=np(t.B);nb(r,"SID",t.J),nb(r,"RID",n),nb(r,"AID",t.P),ri(t,r),t.i&&t.l&&n5(r,t.i,t.l),n=new e5(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=ro(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),nB(t.b,n),e7(n,r,e)}function ri(t,e){t.f&&nu({},function(t,n){nb(e,n,t)})}function ro(t,e,n){n=Math.min(t.g.length,n);for(var r=t.f?tA(t.f.Ja,t.f,t):null,i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{!function(t,e,n){var r=n||"";try{nu(t,function(t,n){var i=t;tS(t)&&(i=eT(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}(l,s,"req"+c+"_")}catch(t){r&&r(l)}}if(a){r=s.join("&");break}}return e.s=t=t.g.splice(0,n),r}function rs(t){t.a||t.j||(t.T=1,eA(t.Aa,t),t.o=0)}function ra(t){return!t.a&&!t.j&&!(3<=t.o)&&(t.T++,t.j=eY(tA(t.Aa,t),rf(t,t.o)),t.o++,!0)}function ru(t){null!=t.s&&(tx.clearTimeout(t.s),t.s=null)}function rc(t){t.a=new e5(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=np(t.la);nb(e,"RID","rpc"),nb(e,"SID",t.J),nb(e,"CI",t.H?"0":"1"),nb(e,"AID",t.P),ri(t,e),nb(e,"TYPE","xmlhttp"),t.i&&t.l&&n5(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=nw(np(e)),n.j=null,n.I=!0,nt(n,t)}function rl(t){null!=t.m&&(tx.clearTimeout(t.m),t.m=null)}function rh(t,e){var n,r=null;if(t.a==e){rl(t),ru(t),t.a=null;var i=2}else{if(!nU(t.b,e))return;r=e.s,nq(t.b,e),i=1}if(t.I=e.N,0!=t.v){if(e.b)if(1==i){r=e.j?e.j.length:0,e=tC()-e.u;var o=t.u;ex(i=ez(),new eQ(i,r,e,o)),rn(t)}else rs(t);else if(3==(o=e.h)||0==o&&0<t.I||!(1==i&&(n=e,!(nV(t.b)>=t.b.f-!!t.h)&&(t.h?(t.g=n.s.concat(t.g),!0):1!=t.v&&2!=t.v&&!(t.u>=(t.La?0:t.Ma))&&(t.h=eY(tA(t.Ba,t,n),rf(t,t.u)),t.u++,!0)))||2==i&&ra(t)))switch(r&&0<r.length&&((e=t.b).c=e.c.concat(r)),o){case 1:rd(t,5);break;case 4:rd(t,10);break;case 3:rd(t,6);break;default:rd(t,2)}}}function rf(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function rd(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=tA(t.Ya,t);n||(n=new nd("//www.google.com/images/cleardot.gif"),tx.location&&"http"==tx.location.protocol||nm(n,"https"),nw(n));var i=n.toString(),o=new eV;if(tx.Image){var s=new Image;s.onload=tk(nG,o,s,"TestLoadImage: loaded",!0,r),s.onerror=tk(nG,o,s,"TestLoadImage: error",!1,r),s.onabort=tk(nG,o,s,"TestLoadImage: abort",!1,r),s.ontimeout=tk(nG,o,s,"TestLoadImage: timeout",!1,r),tx.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else r(!1)}else eH(2);t.v=0,t.f&&t.f.ra(e),rp(t),rt(t)}function rp(t){t.v=0,t.I=-1,t.f&&((0!=nz(t.b).length||0!=t.g.length)&&(t.b.c.length=0,tM(t.g),t.g.length=0),t.f.qa())}function rm(t,e,n){var r=(i=n)instanceof nd?np(i):new nd(i,void 0);if(""!=r.c)e&&ng(r,e+"."+r.c),ny(r,r.h);else{var i,o,s,a,u,c,l=tx.location;o=l.protocol,s=e?e+"."+l.hostname:l.hostname,a=+l.port,u=n,c=new nd(null,void 0),o&&nm(c,o),s&&ng(c,s),a&&ny(c,a),u&&(c.g=u),r=c}return t.V&&tB(t.V,function(t,e){nb(r,e,t)}),e=t.A,n=t.na,e&&n&&nb(r,e,n),nb(r,"VER",t.ha),ri(t,r),r}function rg(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new nQ(t.Na)).F=t.C,e}function ry(){}function rv(){if(tH&&!(10<=Number(t5)))throw Error("Environmental error: no available transport.")}function rb(t,e){ew.call(this),this.a=new n8(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!tL(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!tL(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new rE(this)}function rw(t){e2.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function rx(){e3.call(this),this.status=1}function rE(t){this.a=t}(tv=nQ.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?eZ(this.H):eZ(ol),this.a.onreadystatechange=tA(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){nZ(this,t);return}t=n||"";var i,o=new nc(this.headers);r&&nu(r,function(t,e){o.set(e,t)}),r=function(t){t:{for(var e=nJ,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.L()),n=tx.FormData&&t instanceof tx.FormData,!(0<=tN(n$,e))||r||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{n3(this),0<this.o&&((this.D=(i=this.a,tH&&t4(9)&&"number"==typeof i.timeout&&void 0!==i.ontimeout))?(this.a.timeout=this.o,this.a.ontimeout=tA(this.xa,this)):this.m=eO(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){nZ(this,t)}},tv.xa=function(){void 0!==tw&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,ex(this,"timeout"),this.abort(8))},tv.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,ex(this,"complete"),ex(this,"abort"),n2(this))},tv.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),n2(this,!0)),nQ.X.G.call(this)},tv.za=function(){this.j||(this.A||this.l||this.g?n1(this):this.Ua())},tv.Ua=function(){n1(this)},tv.W=function(){try{return 2<n4(this)?this.a.status:-1}catch(t){return -1}},tv.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},tv.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),nH(e)}},tv.ua=function(){return this.h},tv.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(tv=n8.prototype).ha=8,tv.v=1,tv.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new e5(this,this.c,t,void 0),r=this.l;if(this.O&&(r?tK(r=tq(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){e:{var o=this.g[i];if("__data__"in o.a&&"string"==typeof(o=o.a.__data__)){o=o.length;break e}o=void 0}if(void 0===o)break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=ro(this,n,e),nb(i=np(this.B),"RID",t),nb(i,"CVER",22),this.A&&nb(i,"X-HTTP-Session-Id",this.A),ri(this,i),this.i&&r&&n5(i,this.i,r),nB(this.b,n),this.Ia&&nb(i,"TYPE","init"),this.da?(nb(i,"$req",e),nb(i,"SID","null"),n.U=!0,e7(n,i,null)):e7(n,i,e),this.v=2}}else 3==this.v&&(t?rr(this,t):0==this.g.length||nF(this.b)||rr(this))},tv.Aa=function(){if(this.j=null,rc(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=eY(tA(this.Ta,this),t)}},tv.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,eH(10),n7(this),rc(this))},tv.Sa=function(){null!=this.m&&(this.m=null,n7(this),ra(this),eH(19))},tv.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),eH(2)):(this.c.info("Failed to ping google.com"),eH(1))},(tv=ry.prototype).ta=function(){},tv.sa=function(){},tv.ra=function(){},tv.qa=function(){},tv.Ja=function(){},rv.prototype.a=function(t,e){return new rb(t,e)},tP(rb,ew),rb.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;eH(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=rm(t,null,t.fa),rn(t)},rb.prototype.close=function(){n9(this.a)},rb.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,re(this.a,e)}else this.l?((e={}).__data__=eT(t),re(this.a,e)):re(this.a,t)},rb.prototype.G=function(){this.a.f=null,delete this.f,n9(this.a),delete this.a,rb.X.G.call(this)},tP(rw,e2),tP(rx,e3),tP(rE,ry),rE.prototype.ta=function(){ex(this.a,"a")},rE.prototype.sa=function(t){ex(this.a,new rw(t))},rE.prototype.ra=function(t){ex(this.a,new rx(t))},rE.prototype.qa=function(){ex(this.a,"b")},rv.prototype.createWebChannel=rv.prototype.a,rb.prototype.send=rb.prototype.h,rb.prototype.open=rb.prototype.g,rb.prototype.close=rb.prototype.close,eX.NO_ERROR=0,eX.TIMEOUT=8,eX.HTTP_ERROR=6,e$.COMPLETE="complete",e0.EventType=e1,e1.OPEN="a",e1.CLOSE="b",e1.ERROR="c",e1.MESSAGE="d",ew.prototype.listen=ew.prototype.va,nQ.prototype.listenOnce=nQ.prototype.wa,nQ.prototype.getLastError=nQ.prototype.Qa,nQ.prototype.getLastErrorCode=nQ.prototype.ua,nQ.prototype.getStatus=nQ.prototype.W,nQ.prototype.getResponseJson=nQ.prototype.Pa,nQ.prototype.getResponseText=nQ.prototype.$,nQ.prototype.send=nQ.prototype.ba;var rT=t.i(47167),rS=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();rS.o=-1;var r_={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},rI=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return x(e,t),e}(Error),rA=new Z("@firebase/firestore");function rk(){return rA.logLevel}function rC(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(rA.logLevel<=tm.DEBUG){var r=e.map(rN);rA.debug.apply(rA,A(["Firestore (8.5.0): "+t],r))}}function rP(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(rA.logLevel<=tm.ERROR){var r=e.map(rN);rA.error.apply(rA,A(["Firestore (8.5.0): "+t],r))}}function rD(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(rA.logLevel<=tm.WARN){var r=e.map(rN);rA.warn.apply(rA,A(["Firestore (8.5.0): "+t],r))}}function rN(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function rO(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.5.0) INTERNAL ASSERTION FAILED: "+t;throw rP(e),Error(e)}var rR=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=function(t){var e="u">typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(40);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<40;r++)n[r]=Math.floor(256*Math.random());return n}(0),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function rM(t,e){return t<e?-1:+(t>e)}function rL(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}var rj=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0||e>=1e9)throw new rI(r_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-0xe7791f700||t>=0x3afff44180)throw new rI(r_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?rM(this.nanoseconds,t.nanoseconds):rM(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -0xe7791f700).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),rF=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new rj(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function rV(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function rU(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rB(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var rq=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&rO(),void 0===n?n=t.length-e:n>t.length-e&&rO(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return -1;if(i>o)return 1}return t.length<e.length?-1:+(t.length>e.length)},t}(),rz=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return x(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0;i<t.length;i++){var o=t[i];if(o.indexOf("//")>=0)throw new rI(r_.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(rq),rK=/^[_a-zA-Z][_a-zA-Z0-9]*$/,rW=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return x(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return rK.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new rI(r_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new rI(r_.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new rI(r_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?s=!s:"."!==a||s?r+=a:o(),i++}if(o(),s)throw new rI(r_.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(rq),rG=function(){function t(t){this.fields=t,t.sort(rW.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return rL(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),rH=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){for(var t=this.binaryString,e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return rM(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();rH.EMPTY_BYTE_STRING=new rH("");var rQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rY(t){if(t||rO(),"string"==typeof t){var e=0,n=rQ.exec(t);if(n||rO(),n[1]){var r=n[1];e=Number(r=(r+"000000000").substr(0,9))}return{seconds:Math.floor(new Date(t).getTime()/1e3),nanos:e}}return{seconds:rX(t.seconds),nanos:rX(t.nanos)}}function rX(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function r$(t){return"string"==typeof t?rH.fromBase64String(t):rH.fromUint8Array(t)}function rJ(t){var e,n;return"server_timestamp"===(null==(n=((null==(e=null==t?void 0:t.mapValue)?void 0:e.fields)||{}).__type__)?void 0:n.stringValue)}function rZ(t){var e=rY(t.mapValue.fields.__local_write_time__.timestampValue);return new rj(e.seconds,e.nanos)}function r0(t){return null==t}function r1(t){return 0===t&&1/t==-1/0}function r2(t){return"number"==typeof t&&Number.isInteger(t)&&!r1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var r3=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(rz.fromString(e))},t.fromName=function(e){return new t(rz.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===rz.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return rz.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new rz(e.slice()))},t}();function r4(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rJ(t)?4:10:rO()}function r5(t,e){var n=r4(t);if(n!==r4(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rZ(t).isEqual(rZ(e));case 3:if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var r=rY(t.timestampValue),i=rY(e.timestampValue);return r.seconds===i.seconds&&r.nanos===i.nanos;case 5:return t.stringValue===e.stringValue;case 6:return r$(t.bytesValue).isEqual(r$(e.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return rX(t.geoPointValue.latitude)===rX(e.geoPointValue.latitude)&&rX(t.geoPointValue.longitude)===rX(e.geoPointValue.longitude);case 2:if("integerValue"in t&&"integerValue"in e)return rX(t.integerValue)===rX(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var o=rX(t.doubleValue),s=rX(e.doubleValue);return o===s?r1(o)===r1(s):isNaN(o)&&isNaN(s)}return!1;case 9:return rL(t.arrayValue.values||[],e.arrayValue.values||[],r5);case 10:var a=t.mapValue.fields||{},u=e.mapValue.fields||{};if(rV(a)!==rV(u))return!1;for(var c in a)if(a.hasOwnProperty(c)&&(void 0===u[c]||!r5(a[c],u[c])))return!1;return!0;default:return rO()}}function r6(t,e){return void 0!==(t.values||[]).find(function(t){return r5(t,e)})}function r8(t,e){var n,r,i,o,s,a,u,c,l,h=r4(t),f=r4(e);if(h!==f)return rM(h,f);switch(h){case 0:return 0;case 1:return rM(t.booleanValue,e.booleanValue);case 2:return(n=rX(t.integerValue||t.doubleValue))<(r=rX(e.integerValue||e.doubleValue))?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1;case 3:return r9(t.timestampValue,e.timestampValue);case 4:return r9(rZ(t),rZ(e));case 5:return rM(t.stringValue,e.stringValue);case 6:return i=t.bytesValue,o=e.bytesValue,s=r$(i),a=r$(o),s.compareTo(a);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=rM(n[i],r[i]);if(0!==o)return o}return rM(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return u=t.geoPointValue,c=e.geoPointValue,0!==(l=rM(rX(u.latitude),rX(c.latitude)))?l:rM(rX(u.longitude),rX(c.longitude));case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=r8(n[i],r[i]);if(o)return o}return rM(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=rM(r[s],o[s]);if(0!==a)return a;var u=r8(n[r[s]],i[o[s]]);if(0!==u)return u}return rM(r.length,o.length)}(t.mapValue,e.mapValue);default:throw rO()}}function r9(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return rM(t,e);var n=rY(t),r=rY(e),i=rM(n.seconds,r.seconds);return 0!==i?i:rM(n.nanos,r.nanos)}function r7(t){var e,n,r;return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?"time("+(r=rY(t.timestampValue)).seconds+","+r.nanos+")":"stringValue"in t?t.stringValue:"bytesValue"in t?r$(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,r3.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=r7(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+r7(t.fields[o])}return e+"}"}(t.mapValue):rO()}function it(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function ie(t){return!!t&&"integerValue"in t}function ir(t){return!!t&&"arrayValue"in t}function ii(t){return!!t&&"nullValue"in t}function io(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function is(t){return!!t&&"mapValue"in t}var ia=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(rW.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach(function(t,n){t?e.set(n,t):e.delete(n)})},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return r5(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map||(o=o&&10===r4(o)?new Map(Object.entries(o.mapValue.fields||{})):new Map,n.set(i,o)),n=o}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),s=is(o)?Object.assign({},o.mapValue.fields):{};return n.forEach(function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(s[n]=o,i=!0)}else null!==t?(s[n]=t,i=!0):s.hasOwnProperty(n)&&(delete s[n],i=!0)}),i?{mapValue:{fields:s}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(rW.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r)if(!n.mapValue.fields||!is(n=n.mapValue.fields[e.get(r)]))return null;return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}(),iu=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,rF.min(),ia.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,ia.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,ia.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=ia.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=ia.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),ic=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function il(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new ic(t,e,n,r,i,o,s)}function ih(t){if(null===t.h){var e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(function(t){return t.field.canonicalString()+t.op.toString()+r7(t.value)}).join(","),e+="|ob:",e+=t.orderBy.map(function(t){return t.field.canonicalString()+t.dir}).join(","),r0(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=i_(t.startAt)),t.endAt&&(e+="|ub:",e+=i_(t.endAt)),t.h=e}return t.h}function id(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n,r,i,o,s=0;s<t.orderBy.length;s++){if(n=t.orderBy[s],r=e.orderBy[s],!(n.dir===r.dir&&n.field.isEqual(r.field)))return!1}if(t.filters.length!==e.filters.length)return!1;for(var a=0;a<t.filters.length;a++)if(i=t.filters[a],o=e.filters[a],i.op!==o.op||!i.field.isEqual(o.field)||!r5(i.value,o.value))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ik(t.startAt,e.startAt)&&ik(t.endAt,e.endAt)}function ip(t){return r3.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var im=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return x(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new ig(t,n,r):"array-contains"===n?new iw(t,r):"in"===n?new ix(t,r):"not-in"===n?new iE(t,r):"array-contains-any"===n?new iT(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new iy(t,n):new iv(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(r8(e,this.value)):null!==e&&r4(this.value)===r4(e)&&this.m(r8(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return rO()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),ig=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=r3.fromName(r.referenceValue),i}return x(e,t),e.prototype.matches=function(t){var e=r3.comparator(t.key,this.key);return this.m(e)},e}(im),iy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=ib("in",n),r}return x(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(im),iv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=ib("not-in",n),r}return x(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(im);function ib(t,e){var n;return((null==(n=e.arrayValue)?void 0:n.values)||[]).map(function(t){return r3.fromName(t.referenceValue)})}var iw=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return x(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return ir(e)&&r6(e.arrayValue,this.value)},e}(im),ix=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return x(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&r6(this.value.arrayValue,e)},e}(im),iE=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return x(e,t),e.prototype.matches=function(t){if(r6(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!r6(this.value.arrayValue,e)},e}(im),iT=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return x(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!ir(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return r6(e.value.arrayValue,t)})},e}(im),iS=function(t,e){this.position=t,this.before=e};function i_(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return r7(t)}).join(",")}var iI=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function iA(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?r3.comparator(r3.fromName(s.referenceValue),n.key):r8(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function ik(t,e){if(null===t)return null===e;if(null===e||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!r5(t.position[n],e.position[n]))return!1;return!0}var iC=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null,this.startAt,this.endAt};function iP(t){return new iC(t)}function iD(t){return!r0(t.limit)&&"F"===t.limitType}function iN(t){return!r0(t.limit)&&"L"===t.limitType}function iO(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function iR(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function iM(t){return null!==t.collectionGroup}function iL(t){if(null===t.p){t.p=[];var e=iR(t),n=iO(t);if(null!==e&&null===n)e.isKeyField()||t.p.push(new iI(e)),t.p.push(new iI(rW.keyField(),"asc"));else{for(var r=!1,i=0,o=t.explicitOrderBy;i<o.length;i++){var s=o[i];t.p.push(s),s.field.isKeyField()&&(r=!0)}if(!r){var a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new iI(rW.keyField(),a))}}}return t.p}function ij(t){if(!t.T)if("F"===t.limitType)t.T=il(t.path,t.collectionGroup,iL(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var e=[],n=0,r=iL(t);n<r.length;n++){var i=r[n],o="desc"===i.dir?"asc":"desc";e.push(new iI(i.field,o))}var s=t.endAt?new iS(t.endAt.position,!t.endAt.before):null,a=t.startAt?new iS(t.startAt.position,!t.startAt.before):null;t.T=il(t.path,t.collectionGroup,e,t.filters,t.limit,s,a)}return t.T}function iF(t,e,n){return new iC(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function iV(t,e){return id(ij(t),ij(e))&&t.limitType===e.limitType}function iU(t){return ih(ij(t))+"|lt:"+t.limitType}function iB(t){var e,n;return"Query(target="+(n=(e=ij(t)).path.canonicalString(),null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(t){return t.field.canonicalString()+" "+t.op+" "+r7(t.value)}).join(", ")+"]"),r0(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(t){return t.field.canonicalString()+" ("+t.dir+")"}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+i_(e.startAt)),e.endAt&&(n+=", endAt: "+i_(e.endAt)),"Target("+n+")")+"; limitType="+t.limitType+")"}function iq(t,e){var n;return e.isFoundDocument()&&(n=e.key.path,null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):r3.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n))&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&!(t.startAt&&!iA(t.startAt,iL(t),e))&&(!t.endAt||!iA(t.endAt,iL(t),e))}function iz(t){return function(e,n){for(var r=!1,i=0,o=iL(t);i<o.length;i++){var s=o[i],a=function(t,e,n){var r,i,o,s=t.field.isKeyField()?r3.comparator(e.key,n.key):(r=t.field,i=e.data.field(r),o=n.data.field(r),null!==i&&null!==o?r8(i,o):rO());switch(t.dir){case"asc":return s;case"desc":return -1*s;default:return rO()}}(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function iK(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:r1(e)?"-0":e}}function iW(t){return{integerValue:""+t}}function iG(t,e){return r2(e)?iW(e):iK(t,e)}var iH=function(){this._=void 0};function iQ(t,e){return t instanceof i0?ie(e)||e&&"doubleValue"in e?e:{integerValue:0}:null}var iY=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return x(e,t),e}(iH),iX=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return x(e,t),e}(iH);function i$(t,e){for(var n=i2(e),r=function(t){n.some(function(e){return r5(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var iJ=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return x(e,t),e}(iH);function iZ(t,e){for(var n=i2(e),r=function(t){n=n.filter(function(e){return!r5(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var i0=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return x(e,t),e}(iH);function i1(t){return rX(t.integerValue||t.doubleValue)}function i2(t){return ir(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var i3=function(t,e){this.field=t,this.transform=e},i4=function(t,e){this.version=t,this.transformResults=e},i5=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function i6(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var i8=function(){};function i9(t,e,n){t instanceof oe?function(t,e,n){if(i6(t.precondition,e)){var r=t.value.clone(),i=oo(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(ot(e),r).setHasLocalMutations()}}(t,e,n):t instanceof on?function(t,e,n){if(i6(t.precondition,e)){var r=oo(t.fieldTransforms,n,e),i=e.data;i.setAll(or(t)),i.setAll(r),e.convertToFoundDocument(ot(e),i).setHasLocalMutations()}}(t,e,n):i6(t.precondition,e)&&e.convertToNoDocument(rF.min())}function i7(t,e){var n,r;return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(n=t.fieldTransforms,r=e.fieldTransforms,!!(void 0===n&&void 0===r||!(!n||!r)&&rL(n,r,function(t,e){var n,r;return t.field.isEqual(e.field)&&(n=t.transform,r=e.transform,n instanceof iX&&r instanceof iX||n instanceof iJ&&r instanceof iJ?rL(n.elements,r.elements,r5):n instanceof i0&&r instanceof i0?r5(n.A,r.A):n instanceof iY&&r instanceof iY)})))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function ot(t){return t.isFoundDocument()?t.version:rF.min()}var oe=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return x(e,t),e}(i8),on=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return x(e,t),e}(i8);function or(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function oi(t,e,n){var r=new Map;t.length===n.length||rO();for(var i=0;i<n.length;i++){var o,s=t[i],a=s.transform,u=e.data.field(s.field);r.set(s.field,(o=n[i],a instanceof iX?i$(a,u):a instanceof iJ?iZ(a,u):o))}return r}function oo(t,e,n){for(var r=new Map,i=0;i<t.length;i++){var o=t[i],s=o.transform,a=n.data.field(o.field);r.set(o.field,function(t,e,n){var r,i,o;return t instanceof iY?(r={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}},e&&(r.fields.__previous_value__=e),{mapValue:r}):t instanceof iX?i$(t,e):t instanceof iJ?iZ(t,e):(o=i1(i=iQ(t,e))+i1(t.A),ie(i)&&ie(t.A)?iW(o):iK(t.R,o))}(s,a,e))}return r}var os,oa,ou,oc,ol,oh,of,od=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return x(e,t),e}(i8),op=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return x(e,t),e}(i8),om=function(t){this.count=t};function og(t){switch(t){case r_.OK:return rO();case r_.CANCELLED:case r_.UNKNOWN:case r_.DEADLINE_EXCEEDED:case r_.RESOURCE_EXHAUSTED:case r_.INTERNAL:case r_.UNAVAILABLE:case r_.UNAUTHENTICATED:return!1;case r_.INVALID_ARGUMENT:case r_.NOT_FOUND:case r_.ALREADY_EXISTS:case r_.PERMISSION_DENIED:case r_.FAILED_PRECONDITION:case r_.ABORTED:case r_.OUT_OF_RANGE:case r_.UNIMPLEMENTED:case r_.DATA_LOSS:return!0;default:return rO()}}function oy(t){if(void 0===t)return rP("GRPC error has no .code"),r_.UNKNOWN;switch(t){case oh.OK:return r_.OK;case oh.CANCELLED:return r_.CANCELLED;case oh.UNKNOWN:return r_.UNKNOWN;case oh.DEADLINE_EXCEEDED:return r_.DEADLINE_EXCEEDED;case oh.RESOURCE_EXHAUSTED:return r_.RESOURCE_EXHAUSTED;case oh.INTERNAL:return r_.INTERNAL;case oh.UNAVAILABLE:return r_.UNAVAILABLE;case oh.UNAUTHENTICATED:return r_.UNAUTHENTICATED;case oh.INVALID_ARGUMENT:return r_.INVALID_ARGUMENT;case oh.NOT_FOUND:return r_.NOT_FOUND;case oh.ALREADY_EXISTS:return r_.ALREADY_EXISTS;case oh.PERMISSION_DENIED:return r_.PERMISSION_DENIED;case oh.FAILED_PRECONDITION:return r_.FAILED_PRECONDITION;case oh.ABORTED:return r_.ABORTED;case oh.OUT_OF_RANGE:return r_.OUT_OF_RANGE;case oh.UNIMPLEMENTED:return r_.UNIMPLEMENTED;case oh.DATA_LOSS:return r_.DATA_LOSS;default:return rO()}}(of=oh||(oh={}))[of.OK=0]="OK",of[of.CANCELLED=1]="CANCELLED",of[of.UNKNOWN=2]="UNKNOWN",of[of.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",of[of.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",of[of.NOT_FOUND=5]="NOT_FOUND",of[of.ALREADY_EXISTS=6]="ALREADY_EXISTS",of[of.PERMISSION_DENIED=7]="PERMISSION_DENIED",of[of.UNAUTHENTICATED=16]="UNAUTHENTICATED",of[of.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",of[of.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",of[of.ABORTED=10]="ABORTED",of[of.OUT_OF_RANGE=11]="OUT_OF_RANGE",of[of.UNIMPLEMENTED=12]="UNIMPLEMENTED",of[of.INTERNAL=13]="INTERNAL",of[of.UNAVAILABLE=14]="UNAVAILABLE",of[of.DATA_LOSS=15]="DATA_LOSS";var ov=function(){function t(t,e){this.comparator=t,this.root=e||ow.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ow.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ow.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return -1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new ob(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new ob(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new ob(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new ob(this.root,t,this.comparator,!0)},t}(),ob=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),ow=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(0>n(e,i.key))i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){return Math.pow(2,this.check())<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rO();var t=this.left.check();if(t!==this.right.check())throw rO();return t+ +!this.isRed()},t}();ow.EMPTY=null,ow.RED=!0,ow.BLACK=!1,ow.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw rO()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw rO()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw rO()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw rO()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw rO()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new ow(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var ox=function(){function t(t){this.comparator=t,this.data=new ov(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new oE(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new oE(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),oE=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),oT=new ov(r3.comparator),oS=new ov(r3.comparator),o_=new ov(r3.comparator),oI=new ox(r3.comparator);function oA(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=oI,r=0;r<t.length;r++){var i=t[r];n=n.add(i)}return n}var ok=new ox(rM),oC=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,oP.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(rF.min(),r,ok,oT,oA())},t}(),oP=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(rH.EMPTY_BYTE_STRING,n,oA(),oA(),oA())},t}(),oD=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},oN=function(t,e){this.targetId=t,this.V=e},oO=function(t,e,n,r){void 0===n&&(n=rH.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},oR=function(){function t(){this.S=0,this.D=oj(),this.C=rH.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=oA(),e=oA(),n=oA();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:rO()}}),new oP(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=oj()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),oM=function(){function t(t){this.W=t,this.G=new Map,this.H=oT,this.J=oL(),this.Y=new ox(rM)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:rO()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(ip(i))if(0===n){var o=new r3(i.path);this.tt(e,o,iu.newNoDocument(o,rF.min()))}else 1===n||rO();else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&ip(o.target)){var s=new r3(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,iu.newNoDocument(s,t))}r.O&&(n.set(i,r.M()),r.L())}});var r=oA();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new oC(t,n,this.Y,this.H,r);return this.H=oT,this.J=oL(),this.Y=new ox(rM),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=2*!!this.at(t,e.key);this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new oR,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new ox(rM),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||rC("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new oR),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function oL(){return new ov(r3.comparator)}function oj(){return new ov(r3.comparator)}var oF={asc:"ASCENDING",desc:"DESCENDING"},oV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oU=function(t,e){this.databaseId=t,this.I=e};function oB(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function oq(t,e){return t.I?e.toBase64():e.toUint8Array()}function oz(t){var e;return t||rO(),rF.fromTimestamp(new rj((e=rY(t)).seconds,e.nanos))}function oK(t,e){return new rz(["projects",t.projectId,"databases",t.database]).child("documents").child(e).canonicalString()}function oW(t){var e=rz.fromString(t);return o7(e)||rO(),e}function oG(t,e){return oK(t.databaseId,e.path)}function oH(t,e){var n=oW(e);if(n.get(1)!==t.databaseId.projectId)throw new rI(r_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new rI(r_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new r3(o$(n))}function oQ(t,e){return oK(t.databaseId,e)}function oY(t){var e=oW(t);return 4===e.length?rz.emptyPath():o$(e)}function oX(t){return new rz(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function o$(t){return t.length>4&&"documents"===t.get(4)||rO(),t.popFirst(5)}function oJ(t,e,n){return{name:oG(t,e),fields:n.toProto().mapValue.fields}}function oZ(t,e,n){var r=oH(t,e.name),i=oz(e.updateTime),o=new ia({mapValue:{fields:e.fields}}),s=iu.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function o0(t,e){var n,r,i,o;if(e instanceof oe)n={update:oJ(t,e.key,e.value)};else if(e instanceof od)n={delete:oG(t,e.key)};else if(e instanceof on){n={update:oJ(t,e.key,e.data),updateMask:(i=e.fieldMask,o=[],i.fields.forEach(function(t){return o.push(t.canonicalString())}),{fieldPaths:o})}}else{if(!(e instanceof op))return rO();n={verify:oG(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){var e=t.transform;if(e instanceof iY)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(e instanceof iX)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:e.elements}};if(e instanceof iJ)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:e.elements}};if(e instanceof i0)return{fieldPath:t.field.canonicalString(),increment:e.A};throw rO()})),e.precondition.isNone||(n.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:oB(t,r.updateTime.toTimestamp())}:void 0!==r.exists?{exists:r.exists}:rO()),n}function o1(t,e){var n,r=e.currentDocument?void 0!==(n=e.currentDocument).updateTime?i5.updateTime(oz(n.updateTime)):void 0!==n.exists?i5.exists(n.exists):i5.none():i5.none(),i=e.updateTransforms?e.updateTransforms.map(function(e){var n=null;return"setToServerValue"in e?("REQUEST_TIME"===e.setToServerValue||rO(),n=new iY):"appendMissingElements"in e?n=new iX(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new iJ(e.removeAllFromArray.values||[]):"increment"in e?n=new i0(t,e.increment):rO(),new i3(rW.fromServerFormat(e.fieldPath),n)}):[];if(e.update){e.update.name;var o=oH(t,e.update.name),s=new ia({mapValue:{fields:e.update.fields}});return e.updateMask?new on(o,s,new rG((e.updateMask.fieldPaths||[]).map(function(t){return rW.fromServerFormat(t)})),r,i):new oe(o,s,r,i)}return e.delete?new od(oH(t,e.delete),r):e.verify?new op(oH(t,e.verify),r):rO()}function o2(t,e){return{documents:[oQ(t,e.path)]}}function o3(t,e){var n,r={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(r.parent=oQ(t,i),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=oQ(t,i.popLast()),r.structuredQuery.from=[{collectionId:i.lastSegment()}]);var o=function(t){if(0!==t.length){var e=t.map(function(t){if("=="===t.op){if(io(t.value))return{unaryFilter:{field:o8(t.field),op:"IS_NAN"}};if(ii(t.value))return{unaryFilter:{field:o8(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(io(t.value))return{unaryFilter:{field:o8(t.field),op:"IS_NOT_NAN"}};if(ii(t.value))return{unaryFilter:{field:o8(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:o8(t.field),op:oV[t.op],value:t.value}}});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);o&&(r.structuredQuery.where=o);var s=function(t){if(0!==t.length)return t.map(function(t){return{field:o8(t.field),direction:oF[t.dir]}})}(e.orderBy);s&&(r.structuredQuery.orderBy=s);var a=(n=e.limit,t.I||r0(n)?n:{value:n});return null!==a&&(r.structuredQuery.limit=a),e.startAt&&(r.structuredQuery.startAt=o5(e.startAt)),e.endAt&&(r.structuredQuery.endAt=o5(e.endAt)),r}function o4(t){var e,n,r=oY(t.parent),i=t.structuredQuery,o=i.from?i.from.length:0,s=null;if(o>0){1===o||rO();var a=i.from[0];a.allDescendants?s=a.collectionId:r=r.child(a.collectionId)}var u=[];i.where&&(u=function t(e){var n;return e?void 0!==e.unaryFilter?[function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=o9(t.unaryFilter.field);return im.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=o9(t.unaryFilter.field);return im.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=o9(t.unaryFilter.field);return im.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=o9(t.unaryFilter.field);return im.create(i,"!=",{nullValue:"NULL_VALUE"});default:return rO()}}(e)]:void 0!==e.fieldFilter?[(n=e,im.create(o9(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rO()}}(n.fieldFilter.op),n.fieldFilter.value))]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(function(e){return t(e)}).reduce(function(t,e){return t.concat(e)}):rO():[]}(i.where));var c=[];i.orderBy&&(c=i.orderBy.map(function(t){return new iI(o9(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}));var l=null;i.limit&&(l=r0(n="object"==typeof(e=i.limit)?e.value:e)?null:n);var h=null;i.startAt&&(h=o6(i.startAt));var f=null;return i.endAt&&(f=o6(i.endAt)),new iC(r,s,c,u,l,"F",h,f)}function o5(t){return{before:t.before,values:t.position}}function o6(t){var e=!!t.before;return new iS(t.values||[],e)}function o8(t){return{fieldPath:t.canonicalString()}}function o9(t){return rW.fromServerFormat(t.fieldPath)}function o7(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function st(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e+="\x01\x01"),e=function(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}(t.get(n),e);return e+"\x01\x01"}function se(t){var e=t.length;if(e>=2||rO(),2===e)return"\x01"===t.charAt(0)&&"\x01"===t.charAt(1)||rO(),rz.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&rO(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:rO()}o=s+2}return new rz(r)}var sn=function(t,e){this.seconds=t,this.nanoseconds=e},sr=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};sr.store="owner",sr.key="owner";var si=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};si.store="mutationQueues",si.keyPath="userId";var so=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};so.store="mutations",so.keyPath="batchId",so.userMutationsIndex="userMutationsIndex",so.userMutationsKeyPath=["userId","batchId"];var ss=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,st(e)]},t.key=function(t,e,n){return[t,st(e),n]},t}();ss.store="documentMutations",ss.PLACEHOLDER=new ss;var sa=function(t,e){this.path=t,this.readTime=e},su=function(t,e){this.path=t,this.version=e},sc=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};sc.store="remoteDocuments",sc.readTimeIndex="readTimeIndex",sc.readTimeIndexPath="readTime",sc.collectionReadTimeIndex="collectionReadTimeIndex",sc.collectionReadTimeIndexPath=["parentPath","readTime"];var sl=function(t){this.byteSize=t};sl.store="remoteDocumentGlobal",sl.key="remoteDocumentGlobalKey";var sh=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};sh.store="targets",sh.keyPath="targetId",sh.queryTargetsIndexName="queryTargetsIndex",sh.queryTargetsKeyPath=["canonicalId","targetId"];var sf=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};sf.store="targetDocuments",sf.keyPath=["targetId","path"],sf.documentTargetsIndex="documentTargetsIndex",sf.documentTargetsKeyPath=["path","targetId"];var sd=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};sd.key="targetGlobalKey",sd.store="targetGlobal";var sp=function(t,e){this.collectionId=t,this.parent=e};sp.store="collectionParents",sp.keyPath=["collectionId","parent"];var sm=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};sm.store="clientMetadata",sm.keyPath="clientId";var sg=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};sg.store="bundles",sg.keyPath="bundleId";var sy=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};sy.store="namedQueries",sy.keyPath="name";var sv=A(A([],A(A([],A(A([],A(A([],[si.store,so.store,ss.store,sc.store,sh.store,sr.store,sd.store,sf.store]),[sm.store])),[sl.store])),[sp.store])),[sg.store,sy.store]),sb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",sw=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),sx=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},sE=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&rO(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0;i<e.length;i++)r(e[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),sT=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new sx,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new sI(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=sD(e.target.error);n.ft.reject(new sI(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(t){throw new sI(n,t)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(rC("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){return new sk(this.transaction.objectStore(t))},t}(),sS=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(O())&&rP("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return rC("SimpleDb","Removing database:",t),sC(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("u"<typeof indexedDB)return!1;if(t.gt())return!0;var e=O(),n=t._t(e),r=t.Et(e);return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||0<n&&n<10||0<r&&r<4.5)},t.gt=function(){var t;return void 0!==rT.default&&"YES"===(null==(t=rT.default.env)?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i);return Number(e?e[1].split("_").slice(0,2).join("."):"-1")},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i);return Number(e?e[1].split(".").slice(0,2).join("."):"-1")},t.prototype.At=function(t){return T(this,void 0,void 0,function(){var e,n=this;return S(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(rC("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new sI(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new rI(r_.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new sI(t,n))},i.onupgradeneeded=function(t){rC("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next(function(){rC("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return T(this,void 0,void 0,function(){var i,o,s,a,u;return S(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return S(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),s=r(e=sT.open(a.db,t,i?"readonly":"readwrite",n)).catch(function(t){return e.abort(t),sE.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return l="FirebaseError"!==(c=h.sent()).name&&o<3,rC("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),s_=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return sC(this.Pt.delete())},t}(),sI=function(t){function e(e,n){var r=this;return(r=t.call(this,r_.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return x(e,t),e}(rI);function sA(t){return"IndexedDbTransactionError"===t.name}var sk=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(rC("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(rC("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),sC(n)},t.prototype.add=function(t){return rC("SimpleDb","ADD",this.store.name,t,t),sC(this.store.add(t))},t.prototype.get=function(t){var e=this;return sC(this.store.get(t)).next(function(n){return void 0===n&&(n=null),rC("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return rC("SimpleDb","DELETE",this.store.name,t),sC(this.store.delete(t))},t.prototype.count=function(){return rC("SimpleDb","COUNT",this.store.name),sC(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){rC("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.Ot=function(t,e){e?n=t:(n={},e=t);var n,r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new sE(function(n,r){e.onerror=function(t){r(sD(t.target.error))},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new sE(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new s_(i),s=e(i.primaryKey,i.value,o);if(s instanceof sE){var a=s.catch(function(t){return o.done(),sE.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return sE.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function sC(t){return new sE(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){n(sD(t.target.error))}})}var sP=!1;function sD(t){var e=sS._t(O());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new rI("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return sP||(sP=!0,setTimeout(function(){throw r},0)),r}}return t}var sN=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return x(e,t),e}(sw);function sO(t,e){return sS.It(t.Mt,e)}var sR=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&function(t,e,n){var r,i;t instanceof oe?(r=t.value.clone(),i=oi(t.fieldTransforms,e,n.transformResults),r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()):t instanceof on?function(t,e,n){if(i6(t.precondition,e)){var r=oi(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(or(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e,n=0,r=this.baseMutations;n<r.length;n++)(e=r[n]).key.isEqual(t.key)&&i9(e,t,this.localWriteTime);for(var i=0,o=this.mutations;i<o.length;i++)(e=o[i]).key.isEqual(t.key)&&i9(e,t,this.localWriteTime)},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key);e.applyToLocalView(r),r.isValidDocument()||r.convertToNoDocument(rF.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},oA())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&rL(this.mutations,t.mutations,function(t,e){return i7(t,e)})&&rL(this.baseMutations,t.baseMutations,function(t,e){return i7(t,e)})},t}(),sM=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){e.mutations.length===r.length||rO();for(var i=o_,o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),sL=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=rF.min()),void 0===o&&(o=rF.min()),void 0===s&&(s=rH.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),sj=function(t){this.Lt=t};function sF(t,e){if(e.document)return oZ(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=r3.fromSegments(e.noDocument.path),r=sz(e.noDocument.readTime),i=iu.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=r3.fromSegments(e.unknownDocument.path);return r=sz(e.unknownDocument.version),iu.newUnknownDocument(o,r)}return rO()}function sV(t,e,n){var r=sU(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o,s={name:oG(o=t.Lt,e.key),fields:e.data.toProto().mapValue.fields,updateTime:oB(o,e.version.toTimestamp())},a=e.hasCommittedMutations;return new sc(null,null,s,a,r,i)}if(e.isNoDocument()){var u=e.key.path.toArray(),c=sq(e.version);return a=e.hasCommittedMutations,new sc(null,new sa(u,c),null,a,r,i)}return e.isUnknownDocument()?new sc(new su(e.key.path.toArray(),sq(e.version)),null,null,!0,r,i):rO()}function sU(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function sB(t){var e=new rj(t[0],t[1]);return rF.fromTimestamp(e)}function sq(t){var e=t.toTimestamp();return new sn(e.seconds,e.nanoseconds)}function sz(t){var e=new rj(t.seconds,t.nanoseconds);return rF.fromTimestamp(e)}function sK(t,e){for(var n=(e.baseMutations||[]).map(function(e){return o1(t.Lt,e)}),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(i.updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r)}var o=e.mutations.map(function(e){return o1(t.Lt,e)}),s=rj.fromMillis(e.localWriteTimeMs);return new sR(e.batchId,s,n,o)}function sW(t){var e,n,r=sz(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?sz(t.lastLimboFreeSnapshotVersion):rF.min();return void 0!==t.query.documents?(1===(n=t.query).documents.length||rO(),e=ij(iP(oY(n.documents[0])))):e=ij(o4(t.query)),new sL(e,t.targetId,0,t.lastListenSequenceNumber,r,i,rH.fromBase64String(t.resumeToken))}function sG(t,e){var n,r=sq(e.snapshotVersion),i=sq(e.lastLimboFreeSnapshotVersion);n=ip(e.target)?o2(t.Lt,e.target):o3(t.Lt,e.target);var o=e.resumeToken.toBase64();return new sh(e.targetId,ih(e.target),r,o,e.sequenceNumber,i,n)}function sH(t){var e=o4({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?iF(e,e.limit,"L"):e}var sQ=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return sY(t).get(e).next(function(t){if(t)return{id:t.bundleId,createTime:sz(t.createTime),version:t.version}})},t.prototype.saveBundleMetadata=function(t,e){return sY(t).put({bundleId:e.id,createTime:sq(oz(e.createTime)),version:e.version})},t.prototype.getNamedQuery=function(t,e){return sX(t).get(e).next(function(t){if(t)return{name:t.name,query:sH(t.bundledQuery),readTime:sz(t.readTime)}})},t.prototype.saveNamedQuery=function(t,e){return sX(t).put({name:e.name,readTime:sq(oz(e.readTime)),bundledQuery:e.bundledQuery})},t}();function sY(t){return sO(t,sg.store)}function sX(t){return sO(t,sy.store)}var s$=function(){function t(){this.Bt=new sJ}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),sE.resolve()},t.prototype.getCollectionParents=function(t,e){return sE.resolve(this.Bt.getEntries(e))},t}(),sJ=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new ox(rz.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new ox(rz.comparator)).toArray()},t}(),sZ=function(){function t(){this.qt=new sJ}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:st(i)};return s0(t).put(o)}return sE.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[e+"\0",""],!1,!0);return s0(t).Nt(r).next(function(t){for(var r=0;r<t.length;r++){var i=t[r];if(i.collectionId!==e)break;n.push(se(i.parent))}return n})},t}();function s0(t){return sO(t,sp.store)}var s1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},s2=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function s3(t,e,n){var r=t.store(so.store),i=t.store(ss.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Ot({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){1===a||rO()}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=ss.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return sE.waitFor(o).next(function(){return c})}function s4(t){var e;if(!t)return 0;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw rO();e=t.noDocument}return JSON.stringify(e).length}s2.DEFAULT_COLLECTION_PERCENTILE=10,s2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,s2.DEFAULT=new s2(0x2800000,s2.DEFAULT_COLLECTION_PERCENTILE,s2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),s2.DISABLED=new s2(-1,0,0);var s5=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return""!==e.uid||rO(),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,-1/0],[this.userId,1/0]);return s8(t).Ot({index:so.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=s9(t),s=s8(t);return s.add({}).next(function(a){"number"==typeof a||rO();for(var u,c,l,h,f=new sR(a,e,n,r),d=(u=i.R,c=i.userId,l=f.baseMutations.map(function(t){return o0(u.Lt,t)}),h=f.mutations.map(function(t){return o0(u.Lt,t)}),new so(c,f.batchId,f.localWriteTime.toMillis(),l,h)),p=[],m=new ox(function(t,e){return rM(t.canonicalString(),e.canonicalString())}),g=0;g<r.length;g++){var y=r[g],v=ss.key(i.userId,y.key.path,a);m=m.add(y.key.path.popLast()),p.push(s.put(d)),p.push(o.put(v,ss.PLACEHOLDER))}return m.forEach(function(e){p.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=f.keys()}),sE.waitFor(p).next(function(){return f})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return s8(t).get(e).next(function(t){return t?(t.userId===n.userId||rO(),sK(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?sE.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return s8(t).Ot({index:so.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(e.batchId>=r||rO(),o=sK(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,1/0]),n=-1;return s8(t).Ot({index:so.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,1/0]);return s8(t).Nt(so.userMutationsIndex,n).next(function(t){return t.map(function(t){return sK(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=ss.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return s9(t).Ot({range:i},function(r,i,s){var a=r[0],u=r[1],c=r[2],l=se(u);if(a===n.userId&&e.path.isEqual(l))return s8(t).get(c).next(function(t){if(!t)throw rO();t.userId===n.userId||rO(),o.push(sK(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ox(rM),i=[];return e.forEach(function(e){var o=ss.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=s9(t).Ot({range:s},function(t,i,o){var s=t[0],a=t[1],u=t[2],c=se(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()});i.push(a)}),sE.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=ss.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new ox(rM);return s9(t).Ot({range:s},function(t,e,o){var s=t[0],u=t[1],c=t[2],l=se(u);s===n.userId&&r.isPrefixOf(l)?l.length===i&&(a=a.add(c)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(s8(t).get(e).next(function(t){if(null===t)throw rO();t.userId===n.userId||rO(),r.push(sK(n.R,t))}))}),sE.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return s3(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),sE.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return sE.resolve();var r=IDBKeyRange.lowerBound(ss.prefixForUser(e.userId)),i=[];return s9(t).Ot({range:r},function(t,n,r){if(t[0]===e.userId){var o=se(t[1]);i.push(o)}else r.done()}).next(function(){0===i.length||rO()})})},t.prototype.containsKey=function(t,e){return s6(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return s7(t).get(this.userId).next(function(t){return t||new si(e.userId,-1,"")})},t}();function s6(t,e,n){var r=ss.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return s9(t).Ot({range:o,kt:!0},function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()}).next(function(){return s})}function s8(t){return sO(t,so.store)}function s9(t){return sO(t,ss.store)}function s7(t){return sO(t,si.store)}var at=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),ae=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new at(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return rF.fromTimestamp(new rj(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return an(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return e.targetCount>0||rO(),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return an(t).Ot(function(s,a){var u=sW(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return sE.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return an(t).Ot(function(t,n){e(sW(n))})},t.prototype.Xt=function(t){return ar(t).get(sd.key).next(function(t){return null!==t||rO(),t})},t.prototype.Zt=function(t,e){return ar(t).put(sd.key,e)},t.prototype.te=function(t,e){return an(t).put(sG(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=ih(e),r=IDBKeyRange.bound([n,-1/0],[n,1/0]),i=null;return an(t).Ot({range:r,index:sh.queryTargetsIndexName},function(t,n,r){var o=sW(n);id(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=ai(t);return e.forEach(function(e){var s=st(e.path);i.push(o.put(new sf(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),sE.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=ai(t);return sE.forEach(e,function(e){var o=st(e.path);return sE.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=ai(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ai(t),i=oA();return r.Ot({range:n,kt:!0},function(t,e,n){var r=new r3(se(t[1]));i=i.add(r)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=st(e.path),r=IDBKeyRange.bound([n],[n+"\0"],!1,!0),i=0;return ai(t).Ot({index:sf.documentTargetsIndex,kt:!0,range:r},function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return an(t).get(e).next(function(t){return t?sW(t):null})},t}();function an(t){return sO(t,sh.store)}function ar(t){return sO(t,sd.store)}function ai(t){return sO(t,sf.store)}function ao(t){return T(this,void 0,void 0,function(){return S(this,function(e){if(t.code!==r_.FAILED_PRECONDITION||t.message!==sb)throw t;return rC("LocalStore","Unexpectedly lost primary lease"),[2]})})}function as(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=rM(n,i);return 0===s?rM(r,o):s}var aa=function(){function t(t){this.ne=t,this.buffer=new ox(as),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();0>as(e,n)&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),au=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;rC("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return T(e,void 0,void 0,function(){var e;return S(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return sA(e=n.sent())?(rC("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,ao(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),ac=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return sE.resolve(rS.o);var r=new aa(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return -1===this.params.cacheSizeCollectionThreshold?(rC("LruGarbageCollector","Garbage collection skipped; disabled"),sE.resolve(s1)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(rC("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),s1):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(rC("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),rk()<=tm.DEBUG&&rC("LruGarbageCollector","LRU Garbage Collection\n	Counted targets in "+(o-l)+"ms\n	Determined least recently used "+r+" in "+(s-o)+"ms\n	Removed "+i+" targets in "+(a-s)+"ms\n	Removed "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),sE.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),al=function(){function t(t,e){this.db=t,this.garbageCollector=new ac(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return ah(t,n)},t.prototype.removeReference=function(t,e,n){return ah(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return ah(t,e)},t.prototype._e=function(t,e){var n;return n=!1,s7(t).$t(function(r){return s6(t,r,e).next(function(t){return t&&(n=!0),sE.resolve(!t)})}).next(function(){return n})},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),ai(t).delete([0,st(s.path)])})});i.push(u)}}).next(function(){return sE.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return ah(t,e)},t.prototype.we=function(t,e){var n,r=ai(t),i=rS.o;return r.Ot({index:sf.documentTargetsIndex},function(t,r){var o=t[0],s=(t[1],r.path),a=r.sequenceNumber;0===o?(i!==rS.o&&e(new r3(se(n)),i),i=a,n=s):i=rS.o}).next(function(){i!==rS.o&&e(new r3(se(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function ah(t,e){var n;return ai(t).put((n=t.currentSequenceNumber,new sf(0,st(e.path),n)))}var af=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0;r<n.length;r++){var i=n[r],o=i[0],s=i[1];if(this.equalsFn(o,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){rU(this.inner,function(e,n){for(var r=0;r<n.length;r++){var i=n[r];t(i[0],i[1])}})},t.prototype.isEmpty=function(){return rB(this.inner)},t}(),ad=function(){function t(){this.changes=new af(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:rF.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:iu.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?sE.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),ap=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return ay(t).put(av(e),n)},t.prototype.removeEntry=function(t,e){var n=ay(t),r=av(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return ay(t).get(av(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return ay(t).get(av(e)).next(function(t){return{document:n.ye(e,t),size:s4(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=oT;return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=oT,i=new ov(r3.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,s4(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return sE.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return ay(t).Ot({range:r},function(t,e,r){for(var s=r3.fromSegments(t);o&&0>r3.comparator(o,s);)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=oT,o=e.path.length+1,s={};if(n.isEqual(rF.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=sU(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=sc.collectionReadTimeIndex}return ay(t).Ot(s,function(t,n,s){if(t.length===o){var a=sF(r.R,n);e.path.isPrefixOf(a.key.path)?iq(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new am(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return ag(t).get(sl.key).next(function(t){return t||rO(),t})},t.prototype.me=function(t,e){return ag(t).put(sl.key,e)},t.prototype.ye=function(t,e){if(e){var n=sF(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(rF.min()))return n}return iu.newInvalidDocument(t)},t}(),am=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new af(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return x(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new ox(function(t,e){return rM(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=sV(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=s4(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=sV(e.Ie.R,iu.newNoDocument(o,rF.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),sE.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(ad);function ag(t){return sO(t,sl.store)}function ay(t){return sO(t,sc.store)}function av(t){return t.path.toArray()}var ab=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;n<r&&n>=0&&r<=11||rO();var o=new sT("createOrUpgrade",e);n<1&&r>=1&&(t.createObjectStore(sr.store),t.createObjectStore(si.store,{keyPath:si.keyPath}),t.createObjectStore(so.store,{keyPath:so.keyPath,autoIncrement:!0}).createIndex(so.userMutationsIndex,so.userMutationsKeyPath,{unique:!0}),t.createObjectStore(ss.store),aw(t),t.createObjectStore(sc.store));var s=sE.resolve();return n<3&&r>=3&&(0!==n&&(t.deleteObjectStore(sf.store),t.deleteObjectStore(sh.store),t.deleteObjectStore(sd.store),aw(t)),s=s.next(function(){var t,e;return t=o.store(sd.store),e=new sd(0,0,rF.min().toTimestamp(),0),t.put(sd.key,e)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return o.store(so.store).Nt().next(function(e){t.deleteObjectStore(so.store),t.createObjectStore(so.store,{keyPath:so.keyPath,autoIncrement:!0}).createIndex(so.userMutationsIndex,so.userMutationsKeyPath,{unique:!0});var n=o.store(so.store),r=e.map(function(t){return n.put(t)});return sE.waitFor(r)})})),s=s.next(function(){t.createObjectStore(sm.store,{keyPath:sm.keyPath})})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return t.createObjectStore(sl.store),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){var n;t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges"),(n=e.objectStore(sc.store)).createIndex(sc.readTimeIndex,sc.readTimeIndexPath,{unique:!1}),n.createIndex(sc.collectionReadTimeIndex,sc.collectionReadTimeIndexPath,{unique:!1})})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){t.createObjectStore(sg.store,{keyPath:sg.keyPath}),t.createObjectStore(sy.store,{keyPath:sy.keyPath})})),s},t.prototype.be=function(t){var e=0;return t.store(sc.store).Ot(function(t,n){e+=s4(n)}).next(function(){var n=new sl(e);return t.store(sl.store).put(sl.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(si.store),r=t.store(so.store);return n.Nt().next(function(n){return sE.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(so.userMutationsIndex,i).next(function(r){return sE.forEach(r,function(r){r.userId===n.userId||rO();var i=sK(e.R,r);return s3(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(sf.store),n=t.store(sc.store);return t.store(sd.store).get(sd.key).next(function(t){var r=[];return n.Ot(function(n,i){var o=new rz(n),s=[0,st(o)];r.push(e.get(s).next(function(n){return n?sE.resolve():e.put(new sf(0,st(o),t.highestListenSequenceNumber))}))}).next(function(){return sE.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(sp.store,{keyPath:sp.keyPath});var n=e.store(sp.store),r=new sJ,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:st(i)})}};return e.store(sc.store).Ot({kt:!0},function(t,e){return i(new rz(t).popLast())}).next(function(){return e.store(ss.store).Ot({kt:!0},function(t,e){t[0];var n=t[1];return i((t[2],se(n)).popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(sh.store);return n.Ot(function(t,r){var i=sW(r),o=sG(e.R,i);return n.put(o)})},t}();function aw(t){t.createObjectStore(sf.store,{keyPath:sf.keyPath}).createIndex(sf.documentTargetsIndex,sf.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(sh.store,{keyPath:sh.keyPath}).createIndex(sh.queryTargetsIndexName,sh.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(sd.store)}var ax="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",aE=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=-1/0,this.Me=function(t){return Promise.resolve()},!t.yt())throw new rI(r_.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new al(this,i),this.Le=n+"main",this.R=new sj(u),this.Be=new sS(this.Le,11,new ab(this.R)),this.qe=new ae(this.referenceDelegate,this.R),this.Ut=new sZ,this.Ue=new ap(this.R,this.Ut),this.Qe=new sQ,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&rP("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new rI(r_.FAILED_PRECONDITION,ax);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new rS(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return T(e,void 0,void 0,function(){return S(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return T(e,void 0,void 0,function(){return S(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return T(e,void 0,void 0,function(){return S(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return aS(e).put(new sm(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(sA(e))return rC("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return rC("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return aT(t).get(sr.key).next(function(t){return sE.resolve(e.tn(t))})},t.prototype.en=function(t){return aS(t).delete(this.clientId)},t.prototype.nn=function(){return T(this,void 0,void 0,function(){var t,e,n,r,i=this;return S(this,function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=sO(t,sm.store);return e.Nt().next(function(t){var n=i.rn(t,18e5),r=t.filter(function(t){return -1===n.indexOf(t)});return sE.forEach(r,function(t){return e.delete(t.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(t=o.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)r=n[e],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?sE.resolve(!0):aT(t).get(sr.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new rI(r_.FAILED_PRECONDITION,ax);return!1}}return!(!e.networkEnabled||!e.inForeground)||aS(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(t){return e.isPrimary!==t&&rC("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return T(this,void 0,void 0,function(){var t=this;return S(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[sr.store,sm.store],function(e){var n=new sN(e,rS.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return aS(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return s5.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return rC("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",sv,function(o){return r=new sN(o,i.Ne?i.Ne.next():rS.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw rP("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new rI(r_.FAILED_PRECONDITION,sb);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return aT(t).get(sr.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new rI(r_.FAILED_PRECONDITION,ax)})},t.prototype.Ze=function(t){var e=new sr(this.clientId,this.allowTabSynchronization,Date.now());return aT(t).put(sr.key,e)},t.yt=function(){return sS.yt()},t.prototype.Xe=function(t){var e=this,n=aT(t);return n.get(sr.key).next(function(t){return e.tn(t)?(rC("IndexedDbPersistence","Releasing primary lease."),n.delete(sr.key)):sE.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(rP("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null==(t=this.window)?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null==(e=this.Ke)?void 0:e.getItem(this.on(t)));return rC("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return rP("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){rP("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function aT(t){return sO(t,sr.store)}function aS(t){return sO(t,sm.store)}function a_(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var aI=function(t,e){this.progress=t,this.wn=e},aA=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0;e<n.length;e++)n[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0;r<e.length;r++)e[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return r3.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length?this.Tn(t,e.path):iM(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new r3(e)).next(function(t){var e=oS;return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=oS;return this.Ut.getCollectionParents(t,i).next(function(s){return sE.forEach(s,function(s){var a=new iC(s.child(i),null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt);return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return i=e,o.Rn(t,i,r).next(function(t){r=t;for(var e=0;e<i.length;e++)for(var n=i[e],o=0,s=n.mutations;o<s.length;o++){var a=s[o],u=a.key,c=r.get(u);null==c&&(c=iu.newInvalidDocument(u),r=r.insert(u,c)),i9(a,c,n.localWriteTime),c.isFoundDocument()||(r=r.remove(u))}})}).next(function(){return r.forEach(function(t,n){iq(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=oA(),i=0;i<e.length;i++)for(var o=0,s=e[i].mutations;o<s.length;o++){var a=s[o];a instanceof on&&null===n.get(a.key)&&(r=r.add(a.key))}var u=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(u=u.insert(t,e))}),u})},t}(),ak=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=oA(),i=oA(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),aC=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())||n.isEqual(rF.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(iD(e)||iN(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(rk()<=tm.DEBUG&&rC("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),iB(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new ox(iz(t));return e.forEach(function(e,r){iq(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return rk()<=tm.DEBUG&&rC("QueryEngine","Using full collection scan to execute query:",iB(e)),this.Sn.getDocumentsMatchingQuery(t,e,rF.min())},t}(),aP=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new ov(rM),this.kn=new af(function(t){return ih(t)},id),this.On=rF.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new aA(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function aD(t,e){return T(this,void 0,void 0,function(){var n,r,i,o;return S(this,function(s){switch(s.label){case 0:return r=(n=t)._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new aA(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=oA(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];s=s.add(f.key)}}for(var d=0;d<e.length;d++){var p=e[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++){var y=g[m];s=s.add(y.key)}}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function aN(t){return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.qe.getLastRemoteSnapshotVersion(e)})}function aO(t,e,n,r,i){var o=oA();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=oT;return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(rF.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):rC("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function aR(t,e){return t.persistence.runTransaction("Allocate target","readwrite",function(n){var r;return t.qe.getTargetData(n,e).next(function(i){return i?(r=i,sE.resolve(r)):t.qe.allocateTargetId(n).next(function(i){return r=new sL(e,i,0,n.currentSequenceNumber),t.qe.addTargetData(n,r).next(function(){return r})})})}).then(function(n){var r=t.Fn.get(n.targetId);return(null===r||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Fn=t.Fn.insert(n.targetId,n),t.kn.set(e,n.targetId)),n})}function aM(t,e,n){return T(this,void 0,void 0,function(){var r,i,o,s;return S(this,function(a){switch(a.label){case 0:i=(r=t).Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!sA(s=a.sent()))throw s;return rC("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function aL(t,e,n){var r=rF.min(),i=oA();return t.persistence.runTransaction("Execute query","readonly",function(o){var s,a;return(s=ij(e),void 0!==(a=t.kn.get(s))?sE.resolve(t.Fn.get(a)):t.qe.getTargetData(o,s)).next(function(e){if(e)return r=e.lastLimboFreeSnapshotVersion,t.qe.getMatchingKeysForTargetId(o,e.targetId).next(function(t){i=t})}).next(function(){return t.xn.getDocumentsMatchingQuery(o,e,n?r:rF.min(),n?i:oA())}).next(function(t){return{documents:t,Bn:i}})})}function aj(t,e){var n=t.qe,r=t.Fn.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",function(t){return n.lt(t,e).next(function(t){return t?t.target:null})})}function aF(t){return t.persistence.runTransaction("Get new document changes","readonly",function(e){var n,r,i,o,s,a;return n=t.$n,r=t.On,i=oT,o=sU(r),s=ay(e),a=IDBKeyRange.lowerBound(o,!0),s.Ot({index:sc.readTimeIndex,range:a},function(t,e){var r=sF(n.R,e);i=i.insert(r.key,r),o=e.readTime}).next(function(){return{wn:i,readTime:sB(o)}})}).then(function(e){var n=e.wn;return t.On=e.readTime,n})}var aV=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return sE.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){return this.Kn.set(e.id,{id:e.id,version:e.version,createTime:oz(e.createTime)}),sE.resolve()},t.prototype.getNamedQuery=function(t,e){return sE.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,{name:e.name,query:sH(e.bundledQuery),readTime:oz(e.readTime)}),sE.resolve()},t}(),aU=function(){function t(){this.Wn=new ox(aB.Gn),this.zn=new ox(aB.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new aB(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new aB(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new r3(new rz([])),r=new aB(n,t),i=new aB(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new r3(new rz([])),n=new aB(e,t),r=new aB(e,t+1),i=oA();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new aB(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),aB=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return r3.comparator(t.key,e.key)||rM(t.ns,e.ns)},t.Hn=function(t,e){return rM(t.ns,e.ns)||r3.comparator(t.key,e.key)},t}(),aq=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new ox(aB.Gn)}return t.prototype.checkEmpty=function(t){return sE.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new sR(i,e,n,r);this._n.push(o);for(var s=0;s<r.length;s++){var a=r[s];this.rs=this.rs.add(new aB(a.key,i)),this.Ut.addToCollectionParentIndex(t,a.key.path.popLast())}return sE.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return sE.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return sE.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return sE.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return sE.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new aB(e,0),i=new aB(e,1/0),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),sE.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ox(rM);return e.forEach(function(t){var e=new aB(t,0),i=new aB(t,1/0);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),sE.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;r3.isDocumentKey(i)||(i=i.child(""));var o=new aB(new r3(i),0),s=new ox(rM);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),sE.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;0===this.hs(e.batchId,"removed")||rO(),this._n.shift();var r=this.rs;return sE.forEach(e.mutations,function(i){var o=new aB(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new aB(e,0),r=this.rs.firstAfterOrEqual(n);return sE.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,sE.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),az=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new ov(r3.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return sE.resolve(n?n.document.clone():iu.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=oT;return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():iu.newInvalidDocument(t))}),sE.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=oT,i=new r3(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.key,u=s.value,c=u.document,l=u.readTime;if(!e.path.isPrefixOf(a.path))break;0>=l.compareTo(n)||iq(e,c)&&(r=r.insert(c.key,c.clone()))}return sE.resolve(r)},t.prototype.fs=function(t,e){return sE.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new aK(this)},t.prototype.getSize=function(t){return sE.resolve(this.size)},t}(),aK=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return x(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),sE.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(ad),aW=function(){function t(t){this.persistence=t,this.ds=new af(function(t){return ih(t)},id),this.lastRemoteSnapshotVersion=rF.min(),this.highestTargetId=0,this.ws=0,this._s=new aU,this.targetCount=0,this.ys=at.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),sE.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return sE.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return sE.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),sE.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),sE.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new at(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,sE.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),sE.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,sE.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),sE.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return sE.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return sE.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),sE.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),sE.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),sE.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return sE.resolve(n)},t.prototype.containsKey=function(t,e){return sE.resolve(this._s.containsKey(e))},t}(),aG=function(){function t(t,e){var n=this;this.gs={},this.Ne=new rS(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new aW(this),this.Ut=new s$,this.Ue=new az(this.Ut,function(t){return n.referenceDelegate.ps(t)}),this.R=new sj(e),this.Qe=new aV(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new aq(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;rC("MemoryPersistence","Starting transaction:",t);var i=new aH(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return sE.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),aH=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return x(e,t),e}(sw),aQ=function(){function t(t){this.persistence=t,this.As=new aU,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw rO()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),sE.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),sE.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),sE.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return sE.forEach(this.vs,function(r){var i=r3.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return sE.or([function(){return sE.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),aY=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function aX(t,e){return"firestore_clients_"+t+"_"+e}function a$(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function aJ(t,e){return"firestore_targets_"+t+"_"+e}aY.UNAUTHENTICATED=new aY(null),aY.GOOGLE_CREDENTIALS=new aY("google-credentials-uid"),aY.FIRST_PARTY=new aY("first-party-uid");var aZ=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new rI(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(rP("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),a0=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new rI(i.error.code,i.error.message)),o?new t(e,i.state,r):(rP("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),a1=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=ok,s=0;i&&s<r.activeTargetIds.length;++s)i=r2(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(rP("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),a2=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(rP("SharedClientState","Failed to parse online state: "+e),null)},t}(),a3=function(){function t(){this.activeTargetIds=ok}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){return JSON.stringify({activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()})},t}(),a4=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new ov(rM),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=aX(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.ks=this.ks.insert(this.Ns,new a3),this.Ls=RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Qs="firestore_bundle_loaded_"+this.persistenceKey,this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return T(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l,h=this;return S(this,function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(aX(this.persistenceKey,r)))&&(o=a1.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.Os;u<c.length;u++)l=c[u],this.Fs(l);return this.Os=[],this.window.addEventListener("unload",function(){return h.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(aJ(this.persistenceKey,t));if(n){var r=a0.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(aJ(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return rC("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){rC("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){rC("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this;if(t.storageArea===this.storage){if(rC("SharedClientState","EVENT",t.key,t.newValue),t.key===this.$s)return void rP("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return T(e,void 0,void 0,function(){var e,n,r,i,o,s;return S(this,function(a){if(this.started){if(null!==t.key){if(this.Ls.test(t.key)){if(null==t.newValue)return e=this.ti(t.key),[2,this.ei(e,null)];if(n=this.ni(t.key,t.newValue))return[2,this.ei(n.clientId,n)]}else if(this.Bs.test(t.key)){if(null!==t.newValue&&(r=this.si(t.key,t.newValue)))return[2,this.ii(r)]}else if(this.qs.test(t.key)){if(null!==t.newValue&&(i=this.ri(t.key,t.newValue)))return[2,this.oi(i)]}else if(t.key===this.Us){if(null!==t.newValue&&(o=this.js(t.newValue)))return[2,this.Ws(o)]}else if(t.key===this.Ms)(s=function(t){var e=rS.o;if(null!=t)try{var n=JSON.parse(t);"number"==typeof n||rO(),e=n}catch(t){rP("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==rS.o&&this.sequenceNumberHandler(s);else if(t.key===this.Qs)return[2,this.syncEngine.ci()]}}else this.Os.push(t);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new aZ(this.currentUser,t,e,n),i=a$(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=a$(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=aJ(this.persistenceKey,t),i=new a0(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return a1.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return aZ.Vs(new aY(i),r,e)},t.prototype.ri=function(t,e){var n=Number(this.qs.exec(t)[1]);return a0.Vs(n,e)},t.prototype.js=function(t){return a2.Vs(t)},t.prototype.ii=function(t){return T(this,void 0,void 0,function(){return S(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(rC("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=ok;return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),a5=function(){function t(){this.li=new a3,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new a3,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),a6=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),a8=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){rC("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){rC("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"u">typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),a9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},a7=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),ut=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return x(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var s=new nQ;s.listenOnce(e$.COMPLETE,function(){try{switch(s.getLastErrorCode()){case eX.NO_ERROR:var e=s.getResponseJson();rC("Connection","XHR received:",JSON.stringify(e)),i(e);break;case eX.TIMEOUT:rC("Connection",'RPC "'+t+'" timed out'),o(new rI(r_.DEADLINE_EXCEEDED,"Request time out"));break;case eX.HTTP_ERROR:var n=s.getStatus();if(rC("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a,u=(a=r.status.toLowerCase().replace(/_/g,"-"),Object.values(r_).indexOf(a)>=0?a:r_.UNKNOWN);o(new rI(u,r.message))}else o(new rI(r_.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new rI(r_.UNAVAILABLE,"Connection failed."));break;default:rO()}}finally{rC("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.$i=function(t,e){var n,r,i=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=new rv,s=ez(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(a.initMessageHeaders,e),"u">typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(O())||"object"==typeof navigator&&"ReactNative"===navigator.product||O().indexOf("Electron/")>=0||(n=O()).indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0||O().indexOf("MSAppHost/")>=0||"object"==typeof(r="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==r.id||(a.httpHeadersOverwriteParam="$httpHeaders");var u=i.join("");rC("Connection","Creating WebChannel: "+u,a);var c=o.createWebChannel(u,a),l=!1,h=!1,f=new a7({Ei:function(t){h?rC("Connection","Not sending because WebChannel is closed:",t):(l||(rC("Connection","Opening WebChannel transport."),c.open(),l=!0),rC("Connection","WebChannel sending:",t),c.send(t))},Ti:function(){return c.close()}}),d=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return d(c,e0.EventType.OPEN,function(){h||rC("Connection","WebChannel transport opened.")}),d(c,e0.EventType.CLOSE,function(){h||(h=!0,rC("Connection","WebChannel transport closed"),f.Vi())}),d(c,e0.EventType.ERROR,function(t){h||(h=!0,rD("Connection","WebChannel transport errored:",t),f.Vi(new rI(r_.UNAVAILABLE,"The operation could not be completed")))}),d(c,e0.EventType.MESSAGE,function(t){var e;if(!h){var n=t.data[0];n||rO();var r=n.error||(null==(e=n[0])?void 0:e.error);if(r){rC("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=oh[t];if(void 0!==e)return oy(e)}(i),s=r.message;void 0===o&&(o=r_.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),h=!0,f.Vi(new rI(o,s)),c.close()}else rC("Connection","WebChannel received:",n),f.Si(n)}}),d(s,eB.STAT_EVENT,function(t){10===t.stat?rC("Connection","Detected buffering proxy"):11===t.stat&&rC("Connection","Detected no buffering proxy")}),setTimeout(function(){f.Pi()},0),f},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);rC("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return rC("RestConnection","Received: ",t),t},function(e){throw rD("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.5.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=a9[t];return this.Di+"/v1/"+e+":"+n},t}());function ue(){return"u">typeof window?window:null}function un(){return"u">typeof document?document:null}function ur(t){return new oU(t,!0)}var ui=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&rC("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),uo=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ui(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return T(this,void 0,void 0,function(){return S(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return T(this,void 0,void 0,function(){return S(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return T(this,void 0,void 0,function(){return S(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===r_.RESOURCE_EXHAUSTED?(rP(e.toString()),rP("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===r_.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new rI(r_.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return T(t,void 0,void 0,function(){return S(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return rC("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(rC("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),us=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return x(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r,i,o,s="NO_CHANGE"===(r=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:rO(),a=e.targetChange.targetIds||[],u=(i=e.targetChange.resumeToken,t.I?(void 0===i||"string"==typeof i||rO(),rH.fromBase64String(i||"")):(void 0===i||i instanceof Uint8Array||rO(),rH.fromUint8Array(i||new Uint8Array))),c=(l=e.targetChange.cause)&&new rI(void 0===(o=l).code?r_.UNKNOWN:oy(o.code),o.message||"");n=new oO(s,a,u,c||null)}else if("documentChange"in e){e.documentChange,(s=e.documentChange).document,s.document.name,s.document.updateTime,a=oH(t,s.document.name),u=oz(s.document.updateTime);var l=new ia({mapValue:{fields:s.document.fields}});n=new oD((c=iu.newFoundDocument(a,u,l),s.targetIds||[]),s.removedTargetIds||[],c.key,c)}else if("documentDelete"in e)e.documentDelete,(s=e.documentDelete).document,a=oH(t,s.document),u=s.readTime?oz(s.readTime):rF.min(),l=iu.newNoDocument(a,u),n=new oD([],c=s.removedTargetIds||[],l.key,l);else if("documentRemove"in e)e.documentRemove,(s=e.documentRemove).document,a=oH(t,s.document),n=new oD([],u=s.removedTargetIds||[],a,null);else{if(!("filter"in e))return rO();e.filter;var h=e.filter;h.targetId,a=new om(s=h.count||0),n=new oN(u=h.targetId,a)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return rF.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?rF.min():e.readTime?oz(e.readTime):rF.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e,n,r,i,o={};o.database=oX(this.R),e=this.R,(n=ip(r=t.target)?{documents:o2(e,r)}:{query:o3(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=oq(e,t.resumeToken):t.snapshotVersion.compareTo(rF.min())>0&&(n.readTime=oB(e,t.snapshotVersion.toTimestamp())),o.addTarget=n;var s=(this.R,null==(i=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rO()}}(0,t.purpose))?null:{"goog-listen-tags":i});s&&(o.labels=s),this.cr(o)},e.prototype.yr=function(t){var e={};e.database=oX(this.R),e.removeTarget=t,this.cr(e)},e}(uo),ua=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return x(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(t.streamToken||rO(),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e,n,r=(e=t.writeResults,n=t.commitTime,e&&e.length>0?(void 0!==n||rO(),e.map(function(t){var e;return(e=t.updateTime?oz(t.updateTime):oz(n)).isEqual(rF.min())&&(e=oz(n)),new i4(e,t.transformResults||[])})):[]),i=oz(t.commitTime);return this.listener.Tr(i,r)}return t.writeResults&&0!==t.writeResults.length&&rO(),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=oX(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return o0(e.R,t)})};this.cr(n)},e}(uo),uu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return x(e,t),e.prototype.br=function(){if(this.Rr)throw new rI(r_.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===r_.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new rI(r_.UNKNOWN,t.toString())})},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Oi(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===r_.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new rI(r_.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),uc=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(rP(e),this.Vr=!1):rC("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),ul=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return T(o,void 0,void 0,function(){return S(this,function(t){switch(t.label){case 0:return ub(this)?(rC("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return T(this,void 0,void 0,function(){var e;return S(this,function(n){switch(n.label){case 0:return(e=t).$r.add(4),[4,uf(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,uh(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new uc(n,r)};function uh(t){return T(this,void 0,void 0,function(){var e,n;return S(this,function(r){switch(r.label){case 0:if(!ub(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function uf(t){return T(this,void 0,void 0,function(){var e,n;return S(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function ud(t,e){t.Or.has(e.targetId)||(t.Or.set(e.targetId,e),uv(t)?uy(t):uO(t).er()&&um(t,e))}function up(t,e){var n=uO(t);t.Or.delete(e),n.er()&&ug(t,e),0===t.Or.size&&(n.er()?n.ir():ub(t)&&t.Br.set("Unknown"))}function um(t,e){t.qr.U(e.targetId),uO(t).mr(e)}function ug(t,e){t.qr.U(e),uO(t).yr(e)}function uy(t){t.qr=new oM({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),uO(t).start(),t.Br.Sr()}function uv(t){return ub(t)&&!uO(t).tr()&&t.Or.size>0}function ub(t){return 0===t.$r.size}function uw(t){return T(this,void 0,void 0,function(){return S(this,function(e){return t.Or.forEach(function(e,n){um(t,e)}),[2]})})}function ux(t,e){return T(this,void 0,void 0,function(){return S(this,function(n){return t.qr=void 0,uv(t)?(t.Br.Nr(e),uy(t)):t.Br.set("Unknown"),[2]})})}function uE(t,e,n){return T(this,void 0,void 0,function(){var r,i,o;return S(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof oO&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return T(this,void 0,void 0,function(){var n,r,i,o;return S(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?(o=i[r],t.Or.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:s.sent(),t.Or.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:case 4:return s.sent(),[3,5];case 3:return r=s.sent(),rC("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,uT(t,r)];case 5:return[3,13];case 6:if(e instanceof oD?t.qr.X(e):e instanceof oN?t.qr.rt(e):t.qr.et(e),n.isEqual(rF.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,aN(t.localStore)];case 8:var a;return i=s.sent(),n.compareTo(i)>=0?[4,((a=t.qr.ut(n)).targetChanges.forEach(function(e,r){if(e.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(e.resumeToken,n))}}),a.targetMismatches.forEach(function(e){var n=t.Or.get(e);n&&(t.Or.set(e,n.withResumeToken(rH.EMPTY_BYTE_STRING,n.snapshotVersion)),ug(t,e),um(t,new sL(n.target,e,1,n.sequenceNumber)))}),t.remoteSyncer.applyRemoteEvent(a))]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return rC("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,uT(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function uT(t,e,n){return T(this,void 0,void 0,function(){var r=this;return S(this,function(i){switch(i.label){case 0:if(!sA(e))throw e;return t.$r.add(1),[4,uf(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return aN(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return T(r,void 0,void 0,function(){return S(this,function(e){switch(e.label){case 0:return rC("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,uh(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function uS(t,e){return e().catch(function(n){return uT(t,n,e)})}function u_(t){return T(this,void 0,void 0,function(){var e,n,r,i,o;return S(this,function(s){var a,u,c,l,h;switch(s.label){case 0:n=uR(e=t),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!(ub(a=e)&&a.kr.length<10))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,(u=e.localStore,c=r,u.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===c&&(c=-1),u._n.getNextMutationBatchAfterBatchId(t,c)}))];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,(l=e).kr.push(i),(h=uR(l)).er()&&h.pr&&h.Er(i.mutations),[3,6]);case 4:return o=s.sent(),[4,uT(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return uI(e)&&uA(e),[2]}})})}function uI(t){return ub(t)&&!uR(t).tr()&&t.kr.length>0}function uA(t){uR(t).start()}function uk(t){return T(this,void 0,void 0,function(){return S(this,function(e){return uR(t).Ar(),[2]})})}function uC(t){return T(this,void 0,void 0,function(){var e,n,r,i;return S(this,function(o){for(e=uR(t),n=0,r=t.kr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]})})}function uP(t,e,n){return T(this,void 0,void 0,function(){var r,i;return S(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=sM.from(r,e,n),[4,uS(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,u_(t)];case 2:return o.sent(),[2]}})})}function uD(t,e){return T(this,void 0,void 0,function(){return S(this,function(n){switch(n.label){case 0:return e&&uR(t).pr?[4,function(t,e){return T(this,void 0,void 0,function(){var n,r;return S(this,function(i){switch(i.label){case 0:return og(r=e.code)&&r!==r_.ABORTED?(n=t.kr.shift(),uR(t).sr(),[4,uS(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,u_(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return uI(t)&&uA(t),[2]}})})}function uN(t,e){return T(this,void 0,void 0,function(){var n;return S(this,function(r){switch(r.label){case 0:return n=t,e?(n.$r.delete(2),[4,uh(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,uf(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function uO(t){var e,n,r,i=this;return t.Ur||(e=t.datastore,n=t.asyncQueue,r={Ii:uw.bind(null,t),Ri:ux.bind(null,t),_r:uE.bind(null,t)},e.br(),t.Ur=new us(n,e.Hi,e.credentials,e.R,r),t.Mr.push(function(e){return T(i,void 0,void 0,function(){return S(this,function(n){switch(n.label){case 0:return e?(t.Ur.sr(),uv(t)?uy(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:n.sent(),t.qr=void 0,n.label=3;case 3:return[2]}})})})),t.Ur}function uR(t){var e,n,r,i=this;return t.Qr||(e=t.datastore,n=t.asyncQueue,r={Ii:uk.bind(null,t),Ri:uD.bind(null,t),Ir:uC.bind(null,t),Tr:uP.bind(null,t)},e.br(),t.Qr=new ua(n,e.Hi,e.credentials,e.R,r),t.Mr.push(function(e){return T(i,void 0,void 0,function(){return S(this,function(n){switch(n.label){case 0:return e?(t.Qr.sr(),[4,u_(t)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:n.sent(),t.kr.length>0&&(rC("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),n.label=4;case 4:return[2]}})})})),t.Qr}var uM=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new sx,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new rI(r_.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function uL(t,e){if(rP("AsyncQueue",e+": "+t),sA(t))return new rI(r_.UNAVAILABLE,e+": "+t);throw t}var uj=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||r3.comparator(e.key,n.key)}:function(t,e){return r3.comparator(t.key,e.key)},this.keyedMap=oS,this.sortedSet=new ov(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),uF=function(){function t(){this.Kr=new ov(r3.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):rO():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),uV=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,uj.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&iV(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),uU=function(){this.Wr=void 0,this.listeners=[]},uB=function(){this.queries=new af(function(t){return iU(t)},iV),this.onlineState="Unknown",this.Gr=new Set};function uq(t,e){return T(this,void 0,void 0,function(){var n,r,i,o,s,a;return S(this,function(u){switch(u.label){case 0:if(n=t,r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new uU),!i)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=u.sent(),[3,4];case 3:return a=uL(u.sent(),"Initialization of query '"+iB(e.query)+"' failed"),[2,void e.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&uG(n),[2]}})})}function uz(t,e){return T(this,void 0,void 0,function(){var n,r,i,o,s;return S(this,function(a){return n=t,r=e.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function uK(t,e){for(var n=!1,r=0;r<e.length;r++){var i=e[r],o=i.query,s=t.queries.get(o);if(s){for(var a=0,u=s.listeners;a<u.length;a++)u[a].Hr(i)&&(n=!0);s.Wr=i}}n&&uG(t)}function uW(t,e,n){var r=t.queries.get(e);if(r)for(var i=0,o=r.listeners;i<o.length;i++)o[i].onError(n);t.queries.delete(e)}function uG(t){t.Gr.forEach(function(t){t.next()})}var uH=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new uV(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=uV.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),uQ=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),uY=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return oH(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?oZ(this.R,t.document,!1):iu.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return oz(t)},t}();function uX(t,e,n){var r;this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress={taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:(r=t).totalDocuments,totalBytes:r.totalBytes}}uX.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},uX.prototype.co=function(t){for(var e=new Map,n=new uY(this.R),r=0;r<t.length;r++){var i=t[r];if(i.metadata.queries)for(var o=n.qn(i.metadata.name),s=0,a=i.metadata.queries;s<a.length;s++){var u=a[s],c=(e.get(u)||oA()).add(o);e.set(u,c)}}return e},uX.prototype.complete=function(){return T(this,void 0,void 0,function(){var t,e,n,r,i;return S(this,function(o){switch(o.label){case 0:return[4,function(t,e,n,r){return T(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return S(this,function(p){switch(p.label){case 0:for(i=t,o=oA(),s=oT,a=o_,u=0,c=n;u<c.length;u++)l=c[u],h=e.qn(l.metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return f=i.$n.newChangeBuffer({trackRemovals:!0}),[4,aR(i,ij(iP(rz.fromString("__bundle__/docs/"+r))))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return aO(t,f,s,rF.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}(this.localStore,new uY(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,function(t,e,n){return void 0===n&&(n=oA()),T(this,void 0,void 0,function(){var r,i;return S(this,function(o){switch(o.label){case 0:return[4,aR(t,ij(sH(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=t).persistence.runTransaction("Save named query","readwrite",function(t){var o=oz(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var s=r.withResumeToken(rH.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}(this.localStore,i,e.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new aI(Object.assign({},this.progress),t))]}})})};var u$=function(t){this.key=t},uJ=function(t){this.key=t},uZ=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=oA(),this.mutatedKeys=oA(),this.lo=iz(t),this.fo=new uj(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new uF,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=iD(this.query)&&i.size===this.query.limit?i.last():null,c=iN(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=iq(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&0>n.lo(h,c))&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),iD(this.query)||iN(this.query))for(;s.size>this.query.limit;){var l=iD(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){var n,i,o;return n=t.type,i=e.type,(o=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rO()}})(n)-o(i)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new uV(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new uF,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=oA(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new uJ(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new u$(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=oA();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return uV.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),u0=function(t,e,n){this.query=t,this.targetId=e,this.view=n},u1=function(t){this.key=t,this.bo=!1},u2=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new af(function(t){return iU(t)},iV),this.Vo=new Map,this.So=new Set,this.Do=new ov(r3.comparator),this.Co=new Map,this.No=new aU,this.xo={},this.Fo=new Map,this.ko=at.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function u3(t,e){return T(this,void 0,void 0,function(){var n,r,i,o,s,a;return S(this,function(u){switch(u.label){case 0:return(o=(n=cb(t)).Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,aR(n.localStore,ij(e))];case 2:return s=u.sent(),a=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,u4(n,e,r,"current"===a)];case 3:i=u.sent(),n.isPrimaryClient&&ud(n.remoteStore,s),u.label=4;case 4:return[2,i]}})})}function u4(t,e,n,r){return T(this,void 0,void 0,function(){var i,o,s,a,u,c;return S(this,function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return T(this,void 0,void 0,function(){var i,o,s;return S(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,aL(t.localStore,e.query,!1).then(function(t){var n=t.documents;return e.view._o(n,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(ca(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,aL(t.localStore,e,!0)];case 1:return s=(o=new uZ(e,(i=l.sent()).Bn))._o(i.documents),a=oP.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),ca(t,n,u.To),c=new u0(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function u5(t,e){return T(this,void 0,void 0,function(){var n,r,i;return S(this,function(o){switch(o.label){case 0:return r=(n=t).Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!iV(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,aM(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),up(n.remoteStore,r.targetId),co(n,r.targetId)}).catch(ao)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return co(n,r.targetId),[4,aM(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function u6(t,e,n){return T(this,void 0,void 0,function(){var r,i,o;return S(this,function(s){var a,u,c,l,h,f,d;switch(s.label){case 0:r=cw(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,(a=r.localStore,c=rj.now(),l=e.reduce(function(t,e){return t.add(e.key)},oA()),a.persistence.runTransaction("Locally write mutations","readwrite",function(t){return a.Mn.pn(t,l).next(function(n){u=n;for(var r=[],i=0;i<e.length;i++){var o=e[i],s=function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=iQ(o.transform,s||null);null!=a&&(null==n&&(n=ia.empty()),n.set(o.field,a))}return n||null}(o,u.get(o.key));null!=s&&r.push(new on(o.key,s,function t(e){var n=[];return rU(e.fields||{},function(e,r){var i=new rW([e]);if(is(r)){var o=t(r.mapValue).fields;if(0===o.length)n.push(i);else for(var s=0;s<o.length;s++){var a=o[s];n.push(i.child(a))}}else n.push(i)}),new rG(n)}(s.toProto().mapValue),i5.exists(!0)))}return a._n.addMutationBatch(t,c,r,e)})}).then(function(t){return t.applyToLocalDocumentSet(u),{batchId:t.batchId,changes:u}}))];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),h=r,f=i.batchId,(d=h.xo[h.currentUser.toKey()])||(d=new ov(rM)),d=d.insert(f,n),h.xo[h.currentUser.toKey()]=d,[4,cc(r,i.changes)];case 3:return s.sent(),[4,u_(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=uL(s.sent(),"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function u8(t,e){return T(this,void 0,void 0,function(){var n,r;return S(this,function(i){var o,s,a;switch(i.label){case 0:n=t,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,(o=n.localStore,s=e.snapshotVersion,a=o.Fn,o.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var n=o.$n.newChangeBuffer({trackRemovals:!0});a=o.Fn;var r=[];e.targetChanges.forEach(function(e,n){var i=a.get(n);if(i){r.push(o.qe.removeMatchingKeys(t,e.removedDocuments,n).next(function(){return o.qe.addMatchingKeys(t,e.addedDocuments,n)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=i.withResumeToken(u,s).withSequenceNumber(t.currentSequenceNumber);a=a.insert(n,c),c.resumeToken.approximateByteSize()>0||rO(),(0===i.resumeToken.approximateByteSize()||c.snapshotVersion.toMicroseconds()-i.snapshotVersion.toMicroseconds()>=3e8||e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size>0)&&r.push(o.qe.updateTargetData(t,c))}}});var i=oT;if(e.documentUpdates.forEach(function(n,i){e.resolvedLimboDocuments.has(n)&&r.push(o.persistence.referenceDelegate.updateLimboDocument(t,n))}),r.push(aO(t,n,e.documentUpdates,s,void 0).next(function(t){i=t})),!s.isEqual(rF.min())){var u=o.qe.getLastRemoteSnapshotVersion(t).next(function(e){return o.qe.setTargetsMetadata(t,t.currentSequenceNumber,s)});r.push(u)}return sE.waitFor(r).next(function(){return n.apply(t)}).next(function(){return o.Mn.En(t,i)}).next(function(){return i})}).then(function(t){return o.Fn=a,t}))];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1||rO(),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?r.bo||rO():t.removedDocuments.size>0&&(r.bo||rO(),r.bo=!1))}),[4,cc(n,r,e)];case 3:case 5:return i.sent(),[3,6];case 4:return[4,ao(i.sent())];case 6:return[2]}})})}function u9(t,e,n){if(t.isPrimaryClient&&0===n||!t.isPrimaryClient&&1===n){var r,i,o=[];t.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&o.push(r.snapshot)}),(r=t.eventManager).onlineState=e,i=!1,r.queries.forEach(function(t,n){for(var r=0,o=n.listeners;r<o.length;r++)o[r].zr(e)&&(i=!0)}),i&&uG(r),o.length&&t.vo._r(o),t.onlineState=e,t.isPrimaryClient&&t.sharedClientState.setOnlineState(e)}}function u7(t,e,n){return T(this,void 0,void 0,function(){var r,i,o,s,a,u;return S(this,function(c){switch(c.label){case 0:return(r=t).sharedClientState.updateQueryState(e,"rejected",n),(o=(i=r.Co.get(e))&&i.key)?(s=(s=new ov(r3.comparator)).insert(o,iu.newNoDocument(o,rF.min())),a=oA().add(o),u=new oC(rF.min(),new Map,new ox(rM),s,a),[4,u8(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),cu(r),[3,4];case 2:return[4,aM(r.localStore,e,!1).then(function(){return co(r,e,n)}).catch(ao)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function ct(t,e){return T(this,void 0,void 0,function(){var n,r,i;return S(this,function(o){var s;switch(o.label){case 0:n=t,r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(s=n.localStore,s.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var n,r,i,o=e.batch.keys(),a=s.$n.newChangeBuffer({trackRemovals:!0});return(r=(n=e.batch).keys(),i=sE.resolve(),r.forEach(function(r){i=i.next(function(){return a.getEntry(t,r)}).next(function(t){var i=e.docVersions.get(r);null!==i||rO(),0>t.version.compareTo(i)&&(n.applyToRemoteDocument(t,e),t.isValidDocument()&&a.addEntry(t,e.commitVersion))})}),i.next(function(){return s._n.removeMutationBatch(t,n)})).next(function(){return a.apply(t)}).next(function(){return s._n.performConsistencyCheck(t)}).next(function(){return s.Mn.pn(t,o)})}))];case 2:return i=o.sent(),ci(n,r,null),cr(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,cc(n,i)];case 3:case 5:return o.sent(),[3,6];case 4:return[4,ao(o.sent())];case 6:return[2]}})})}function ce(t,e,n){return T(this,void 0,void 0,function(){var r,i;return S(this,function(o){var s;switch(o.label){case 0:r=t,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(s=r.localStore,s.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var n;return s._n.lookupMutationBatch(t,e).next(function(e){return null!==e||rO(),n=e.keys(),s._n.removeMutationBatch(t,e)}).next(function(){return s._n.performConsistencyCheck(t)}).next(function(){return s.Mn.pn(t,n)})}))];case 2:return i=o.sent(),ci(r,e,n),cr(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,cc(r,i)];case 3:case 5:return o.sent(),[3,6];case 4:return[4,ao(o.sent())];case 6:return[2]}})})}function cn(t,e){return T(this,void 0,void 0,function(){var n,r,i,o;return S(this,function(s){var a;switch(s.label){case 0:ub((n=t).remoteStore)||rC("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,(a=n.localStore).persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return a._n.getHighestUnacknowledgedBatchId(t)})];case 2:return -1===(r=s.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=uL(s.sent(),"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function cr(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function ci(t,e,n){var r=t.xo[t.currentUser.toKey()];if(r){var i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),t.xo[t.currentUser.toKey()]=r}}function co(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||cs(t,e)})}function cs(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(up(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),cu(t))}function ca(t,e,n){for(var r=0;r<n.length;r++){var i=n[r];i instanceof u$?(t.No.addReference(i.key,e),function(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(rC("SyncEngine","New document in limbo: "+n),t.So.add(r),cu(t))}(t,i)):i instanceof uJ?(rC("SyncEngine","Document no longer in limbo: "+i.key),t.No.removeReference(i.key,e),t.No.containsKey(i.key)||cs(t,i.key)):rO()}}function cu(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new r3(rz.fromString(e)),r=t.ko.next();t.Co.set(r,new u1(n)),t.Do=t.Do.insert(n,r),ud(t.remoteStore,new sL(ij(iP(n.path)),r,2,rS.o))}}function cc(t,e,n){return T(this,void 0,void 0,function(){var r,i,o,s;return S(this,function(a){switch(a.label){case 0:return i=[],o=[],s=[],(r=t).Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.$o(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=ak.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return T(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l;return S(this,function(h){switch(h.label){case 0:n=t,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return sE.forEach(e,function(e){return sE.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return sE.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return h.sent(),[3,4];case 3:if(!sA(r=h.sent()))throw r;return rC("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(c=(u=n.Fn.get(a)).snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(a,l));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function cl(t,e){return T(this,void 0,void 0,function(){var n,r;return S(this,function(i){var o;switch(i.label){case 0:return(n=t).currentUser.isEqual(e)?[3,3]:(rC("SyncEngine","User change. New user:",e.toKey()),[4,aD(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,(o=n).Fo.forEach(function(t){t.forEach(function(t){t.reject(new rI(r_.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Fo.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,cc(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function ch(t,e){var n=t.Co.get(e);if(n&&n.bo)return oA().add(n.key);var r=oA(),i=t.Vo.get(e);if(!i)return r;for(var o=0;o<i.length;o++){var s=i[o],a=t.Po.get(s);r=r.unionWith(a.view.wo)}return r}function cf(t){return T(this,void 0,void 0,function(){var e;return S(this,function(n){return[2,aF((e=t).localStore).then(function(t){return cc(e,t)})]})})}function cd(t,e,n,r){return T(this,void 0,void 0,function(){var i,o;return S(this,function(s){var a,u,c;switch(s.label){case 0:return[4,(a=(i=t).localStore,u=a._n,a.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return u.jt(t,e).next(function(e){return e?a.Mn.pn(t,e):sE.resolve(null)})}))];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,u_(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(ci(i,e,r||null),cr(i,e),c=i.localStore,c._n.Gt(e)):rO(),s.label=4;case 4:return[4,cc(i,o)];case 5:return s.sent(),[3,7];case 6:rC("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function cp(t,e,n){return T(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p,m;return S(this,function(g){switch(g.label){case 0:n=t,r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(a=s[o],u=void 0,(c=n.Vo.get(a))&&0!==c.length?[4,aR(n.localStore,ij(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=h[l],d=n.Po.get(f),[4,function(t,e){return T(this,void 0,void 0,function(){var n,r,i;return S(this,function(o){switch(o.label){case 0:return[4,aL((n=t).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&ca(n,e.targetId,i.To),i)]}})})}(n,d)]):[3,6];case 4:(p=g.sent()).snapshot&&i.push(p.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,aj(n.localStore,a)];case 8:return m=g.sent(),[4,aR(n.localStore,m)];case 9:return u=g.sent(),[4,u4(n,cm(m),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function cm(t){var e,n,r,i,o;return e=t.path,n=t.collectionGroup,r=t.orderBy,i=t.filters,o=t.limit,new iC(e,n,r,i,o,"F",t.startAt,t.endAt)}function cg(t){return t.localStore.persistence.fn()}function cy(t,e,n,r){return T(this,void 0,void 0,function(){var i,o,s;return S(this,function(a){switch(a.label){case 0:return(i=t).Oo?(rC("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,aF(i.localStore)];case 3:return o=a.sent(),s=oC.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,cc(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,aM(i.localStore,e,!0)];case 6:return a.sent(),co(i,e,r),[3,8];case 7:rO(),a.label=8;case 8:return[2]}})})}function cv(t,e,n){return T(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h,f;return S(this,function(d){switch(d.label){case 0:if(!(r=cb(t)).Oo)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?(s=o[i],r.Vo.has(s)?(rC("SyncEngine","Adding an already active target "+s),[3,5]):[4,aj(r.localStore,s)]):[3,6];case 2:return a=d.sent(),[4,aR(r.localStore,a)];case 3:return u=d.sent(),[4,u4(r,cm(a),u.targetId,!1)];case 4:d.sent(),ud(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return S(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,aM(r.localStore,t,!1).then(function(){up(r.remoteStore,t),co(r,t)}).catch(ao)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function cb(t){return t.remoteStore.remoteSyncer.applyRemoteEvent=u8.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ch.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=u7.bind(null,t),t.vo._r=uK.bind(null,t.eventManager),t.vo.Mo=uW.bind(null,t.eventManager),t}function cw(t){return t.remoteStore.remoteSyncer.applySuccessfulWrite=ct.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ce.bind(null,t),t}var cx=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return T(this,void 0,void 0,function(){return S(this,function(e){switch(e.label){case 0:return this.R=ur(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){var e,n;return e=this.persistence,n=new aC,new aP(e,n,t.initialUser,this.R)},t.prototype.qo=function(t){return new aG(aQ.bs,this.R)},t.prototype.Bo=function(t){return new a5},t.prototype.terminate=function(){return T(this,void 0,void 0,function(){return S(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),cE=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return x(e,t),e.prototype.initialize=function(e){return T(this,void 0,void 0,function(){return S(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,function(t){return T(this,void 0,void 0,function(){var e;return S(this,function(n){return[2,(e=t).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){var e,n;return e=ay(t),n=rF.min(),e.Ot({index:sc.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=sB(e.readTime)),r.done()}).next(function(){return n})}).then(function(t){e.On=t})]})})}(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,cw(this.Ko.syncEngine)];case 4:return n.sent(),[4,u_(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){var e,n;return e=this.persistence,n=new aC,new aP(e,n,t.initialUser,this.R)},e.prototype.Uo=function(t){return new au(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=a_(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?s2.withCacheSize(this.cacheSizeBytes):s2.DEFAULT;return new aE(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,ue(),un(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new a5},e}(cx),cT=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return x(e,t),e.prototype.initialize=function(e){return T(this,void 0,void 0,function(){var n,r=this;return S(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof a4?(this.sharedClientState.syncEngine={ui:cd.bind(null,n),ai:cy.bind(null,n),hi:cv.bind(null,n),fn:cg.bind(null,n),ci:cf.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return T(r,void 0,void 0,function(){return S(this,function(e){switch(e.label){case 0:return[4,function(t,e){return T(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return S(this,function(l){var h;switch(l.label){case 0:return cb(n=t),cw(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,cp(n,r.toArray())]);case 1:return i=l.sent(),n.Oo=!0,[4,uN(n.remoteStore,!0)];case 2:for(l.sent(),o=0,s=i;o<s.length;o++)a=s[o],ud(n.remoteStore,a);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?u.push(e):c=c.then(function(){return co(n,e),aM(n.localStore,e,!0)}),up(n.remoteStore,e)}),[4,c]);case 4:return l.sent(),[4,cp(n,u)];case 5:return l.sent(),(h=n).Co.forEach(function(t,e){up(h.remoteStore,e)}),h.No.ts(),h.Co=new Map,h.Do=new ov(r3.comparator),n.Oo=!1,[4,uN(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}})})}(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=ue();if(!a4.yt(e))throw new rI(r_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=a_(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new a4(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(cE),cS=function(){function t(){}return t.prototype.initialize=function(t,e){return T(this,void 0,void 0,function(){var n=this;return S(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return u9(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=cl.bind(null,this.syncEngine),[4,uN(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new uB},t.prototype.createDatastore=function(t){var e=ur(t.databaseInfo.databaseId),n=new ut(t.databaseInfo);return new uu(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r=this;return e=this.localStore,n=this.datastore,new ul(e,n,t.asyncQueue,function(t){return u9(r.syncEngine,t,0)},a8.yt()?new a8:new a6)},t.prototype.createSyncEngine=function(t,e){var n,r,i,o,s,a,u;return n=this.localStore,r=this.remoteStore,i=this.eventManager,o=this.sharedClientState,s=t.initialUser,a=t.maxConcurrentLimboResolutions,u=new u2(n,r,i,o,s,a),e&&(u.Oo=!0),u},t.prototype.terminate=function(){return function(t){return T(this,void 0,void 0,function(){var e;return S(this,function(n){switch(n.label){case 0:return e=t,rC("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,uf(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),c_=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),cI=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new sx,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return T(this,void 0,void 0,function(){return S(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return T(this,void 0,void 0,function(){return S(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return T(this,void 0,void 0,function(){var t,e,n;return S(this,function(r){switch(r.label){case 0:return[4,this.Jo()];case 1:return null===(t=r.sent())?[2,null]:(isNaN(n=Number(e=this.zo.decode(t)))&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return[2,new uQ(JSON.parse(r.sent()),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return 123===t})},t.prototype.Jo=function(){return T(this,void 0,void 0,function(){var t,e;return S(this,function(n){switch(n.label){case 0:return 0>this.Zo()?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return T(this,void 0,void 0,function(){var e;return S(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return T(this,void 0,void 0,function(){var t,e;return S(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return T(this,void 0,void 0,function(){var e,n=this;return S(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new rI(r_.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return T(this,void 0,void 0,function(){var n,r,i,o,s,a;return S(this,function(u){switch(u.label){case 0:return r=oX((n=t).R)+"/documents",i={documents:e.map(function(t){return oG(n.R,t)})},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e,r,i,o,a,u,c=(e=n.R,"found"in t?(t.found||rO(),t.found.name,t.found.updateTime,r=oH(e,t.found.name),i=oz(t.found.updateTime),o=new ia({mapValue:{fields:t.found.fields}}),iu.newFoundDocument(r,i,o)):"missing"in t?(t.missing||rO(),t.readTime||rO(),a=oH(e,t.missing),u=oz(t.readTime),iu.newNoDocument(a,u)):rO());s.set(c.key.toString(),c)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());e||rO(),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new od(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return T(this,void 0,void 0,function(){var t,e=this;return S(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=r3.fromPath(n);e.mutations.push(new op(r,e.precondition(r)))}),[4,function(t,e){return T(this,void 0,void 0,function(){var n,r,i;return S(this,function(o){switch(o.label){case 0:return r=oX((n=t).R)+"/documents",i={writes:e.map(function(t){return o0(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw rO();e=rF.min()}var e,n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new rI(r_.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?i5.updateTime(e):i5.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(rF.min()))throw new rI(r_.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return i5.updateTime(e)}return i5.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),cA=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new ui(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return T(t,void 0,void 0,function(){var t,e,n=this;return S(this,function(r){return t=new cI(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!r0(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!og(e)}return!1},t}(),ck=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=aY.UNAUTHENTICATED,this.clientId=rR.u(),this.credentialListener=function(){},this.receivedInitialUser=new sx,this.credentials.setChangeListener(function(t){rC("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return T(this,void 0,void 0,function(){return S(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new rI(r_.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new sx;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return T(t,void 0,void 0,function(){var t;return S(this,function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:n.sent(),n.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:n.sent(),n.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=uL(n.sent(),"Failed to shutdown persistence"),e.reject(t),[3,6];case 6:return[2]}})})}),e.promise},t}();function cC(t,e){return T(this,void 0,void 0,function(){var n,r,i=this;return S(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),rC("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return T(i,void 0,void 0,function(){return S(this,function(t){switch(t.label){case 0:return[4,aD(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function cP(t,e){return T(this,void 0,void 0,function(){var n,r;return S(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,cD(t)];case 1:return n=i.sent(),rC("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return T(this,void 0,void 0,function(){var n,r;return S(this,function(i){switch(i.label){case 0:return(n=t).asyncQueue.verifyOperationInProgress(),rC("RemoteStore","RemoteStore received new credentials"),r=ub(n),n.$r.add(3),[4,uf(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,uh(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function cD(t){return T(this,void 0,void 0,function(){return S(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(rC("FirestoreClient","Using default OfflineComponentProvider"),[4,cC(t,new cx)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function cN(t){return T(this,void 0,void 0,function(){return S(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(rC("FirestoreClient","Using default OnlineComponentProvider"),[4,cP(t,new cS)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function cO(t){return cD(t).then(function(t){return t.persistence})}function cR(t){return cD(t).then(function(t){return t.localStore})}function cM(t){return cN(t).then(function(t){return t.remoteStore})}function cL(t){return cN(t).then(function(t){return t.syncEngine})}function cj(t){return T(this,void 0,void 0,function(){var e,n;return S(this,function(r){switch(r.label){case 0:return[4,cN(t)];case 1:return[2,((n=(e=r.sent()).eventManager).onListen=u3.bind(null,e.syncEngine),n.onUnlisten=u5.bind(null,e.syncEngine),n)]}})})}function cF(t,e,n){var r=this;void 0===n&&(n={});var i=new sx;return t.asyncQueue.enqueueAndForget(function(){return T(r,void 0,void 0,function(){var r;return S(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new c_({next:function(o){e.enqueueAndForget(function(){return uz(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new rI(r_.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new rI(r_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new uH(iP(n.path),o,{includeMetadataChanges:!0,so:!0});return uq(t,s)},[4,cj(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function cV(t,e,n){var r=this;void 0===n&&(n={});var i=new sx;return t.asyncQueue.enqueueAndForget(function(){return T(r,void 0,void 0,function(){var r;return S(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new uH(n,new c_({next:function(n){e.enqueueAndForget(function(){return uz(t,o)}),n.fromCache&&"server"===r.source?i.reject(new rI(r_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),{includeMetadataChanges:!0,so:!0});return uq(t,o)},[4,cj(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var cU=function(t,e,n,r,i,o,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s},cB=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),cq=new Map,cz=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},cK=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(aY.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),cW=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(this.token.user)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),cG=function(){function t(t){var e=this;this.oc=null,this.currentUser=aY.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(rC("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?("string"==typeof n.accessToken||rO(),new cz(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return null===t||"string"==typeof t||rO(),new aY(t)},t}(),cH=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=aY.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),cQ=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new cH(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(aY.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function cY(t,e,n){if(!n)throw new rI(r_.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function cX(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new rI(r_.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function c$(t,e,n,r){if(!0===e&&!0===r)throw new rI(r_.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function cJ(t){if(!r3.isDocumentKey(t))throw new rI(r_.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function cZ(t){if(r3.isDocumentKey(t))throw new rI(r_.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function c0(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":rO()}function c1(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new rI(r_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=c0(t);throw new rI(r_.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function c2(t,e){if(e<=0)throw new rI(r_.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var c3=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new rI(r_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null==(e=t.ssl)||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=0x2800000;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new rI(r_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,c$("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),c4=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new c3({}),this._settingsFrozen=!1,t instanceof cB?(this._databaseId=t,this._credentials=new cK):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new rI(r_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cB(t.options.projectId)}(t),this._credentials=new cG(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new rI(r_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new rI(r_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new c3(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new cK;switch(t.type){case"gapi":var e=t.client;return"object"==typeof e&&null!==e&&e.auth&&e.auth.getAuthHeaderValueForFirstParty||rO(),new cQ(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new rI(r_.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){var t;return(t=cq.get(this))&&(rC("ComponentProvider","Removing Datastore"),cq.delete(this),t.terminate()),Promise.resolve()},t}(),c5=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new c8(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),c6=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),c8=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,iP(r))||this)._path=r,i.type="collection",i}return x(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new c5(this.firestore,null,new r3(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(c6);function c9(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=q(t),cY("collection","path",e),t instanceof c4)return cZ(n=rz.fromString.apply(rz,A([e],r))),new c8(t,null,n);if(!(t instanceof c5||t instanceof c8))throw new rI(r_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return cZ(n=rz.fromString.apply(rz,A([t.path],r)).child(rz.fromString(e))),new c8(t.firestore,null,n)}function c7(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=q(t),1==arguments.length&&(e=rR.u()),cY("doc","path",e),t instanceof c4)return cJ(n=rz.fromString.apply(rz,A([e],r))),new c5(t,null,new r3(n));if(!(t instanceof c5||t instanceof c8))throw new rI(r_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return cJ(n=t._path.child(rz.fromString.apply(rz,A([e],r)))),new c5(t.firestore,t instanceof c8?t.converter:null,new r3(n))}function lt(t,e){return t=q(t),e=q(e),(t instanceof c5||t instanceof c8)&&(e instanceof c5||e instanceof c8)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function le(t,e){return t=q(t),e=q(e),t instanceof c6&&e instanceof c6&&t.firestore===e.firestore&&iV(t._query,e._query)&&t.converter===e.converter}var ln=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new ui(this,"async_queue_retry"),this.Ec=function(){var e=un();e&&rC("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=un();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=un();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(t){}):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.dc.push(t),e.Ac()})},t.prototype.Ac=function(){return T(this,void 0,void 0,function(){var t,e=this;return S(this,function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!sA(t=n.sent()))throw t;return rC("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji(function(){return e.Ac()}),n.label=5;case 5:return[2]}})})},t.prototype.Ic=function(t){var e=this,n=this.fc.then(function(){return e.yc=!0,t().catch(function(t){var n;throw e.mc=t,e.yc=!1,rP("INTERNAL UNHANDLED ERROR: ",(n=t.message||"",t.stack&&(n=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),n)),t}).then(function(t){return e.yc=!1,t})});return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=uM.createAndSchedule(this,t,e,n,function(t){return r.Rc(t)});return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&rO()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return T(this,void 0,void 0,function(){var t;return S(this,function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then(function(){e._c.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()})},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function lr(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)}function li(){this._progressObserver={},this._taskCompletionResolver=new sx,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}li.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},li.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},li.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},li.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},li.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},li.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)};var lo=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new ln,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return x(e,t),e.prototype._terminate=function(){return this._firestoreClient||la(this),this._firestoreClient.terminate()},e}(c4);function ls(t){return t._firestoreClient||la(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function la(t){var e,n,r,i=t._freezeSettings(),o=(e=t._databaseId,n=(null==(r=t._app)?void 0:r.options.appId)||"",new cU(e,n,t._persistenceKey,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling));t._firestoreClient=new ck(t._credentials,t._queue,o)}function lu(t,e,n){var r=this,i=new sx;return t.asyncQueue.enqueue(function(){return T(r,void 0,void 0,function(){var r;return S(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,cC(t,n)];case 1:return o.sent(),[4,cP(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:var s;if(!("FirebaseError"===(s=r=o.sent()).name?s.code===r_.FAILED_PRECONDITION||s.code===r_.UNIMPLEMENTED:!("u">typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function lc(t){if(t._initialized||t._terminated)throw new rI(r_.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ll=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new rI(r_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rW(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),lh=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(rH.fromBase64String(e))}catch(t){throw new rI(r_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},t.fromUint8Array=function(e){return new t(rH.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),lf=function(t){this._methodName=t},ld=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new rI(r_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new rI(r_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return rM(this._lat,t._lat)||rM(this._long,t._long)},t}(),lp=/^__.*__$/,lm=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new on(t,this.data,this.fieldMask,e,this.fieldTransforms):new oe(t,this.data,e,this.fieldTransforms)},t}(),lg=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new on(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function ly(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rO()}}var lv=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null==(e=this.path)?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null==(e=this.path)?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return lF(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(ly(this.Dc)&&lp.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),lb=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||ur(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new lv({Dc:t,methodName:e,Lc:n,path:rW.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function lw(t){var e=t._freezeSettings(),n=ur(t._databaseId);return new lb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lx(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Bc(o.merge||o.mergeFields?2:0,e,n,i);lR("Data must be an object, but it was:",s,r);var a,u,c=lN(r,s);if(o.merge)a=new rG(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=lM(e,f[h],n);if(!s.contains(d))throw new rI(r_.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");lV(l,d)||l.push(d)}a=new rG(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new lm(new ia(c),a,u)}var lE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return x(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw 1===t.Dc?t.$c(this._methodName+"() can only appear at the top level of your update data"):t.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(lf);function lT(t,e,n){return new lv({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var lS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return x(e,t),e.prototype._toFieldTransform=function(t){return new i3(t.path,new iY)},e.prototype.isEqual=function(t){return t instanceof e},e}(lf),l_=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return x(e,t),e.prototype._toFieldTransform=function(t){var e=lT(this,t,!0),n=new iX(this.qc.map(function(t){return lD(t,e)}));return new i3(t.path,n)},e.prototype.isEqual=function(t){return this===t},e}(lf),lI=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return x(e,t),e.prototype._toFieldTransform=function(t){var e=lT(this,t,!0),n=new iJ(this.qc.map(function(t){return lD(t,e)}));return new i3(t.path,n)},e.prototype.isEqual=function(t){return this===t},e}(lf),lA=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return x(e,t),e.prototype._toFieldTransform=function(t){var e=new i0(t.R,iG(t.R,this.Uc));return new i3(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(lf);function lk(t,e,n,r){var i=t.Bc(1,e,n);lR("Data must be an object, but it was:",i,r);var o=[],s=ia.empty();return rU(r,function(t,r){var a=lj(e,t,n);r=q(r);var u=i.kc(a);if(r instanceof lE)o.push(a);else{var c=lD(r,u);null!=c&&(o.push(a),s.set(a,c))}}),new lg(s,new rG(o),i.fieldTransforms)}function lC(t,e,n,r,i,o){var s=t.Bc(1,e,n),a=[lM(e,r,n)],u=[i];if(o.length%2!=0)throw new rI(r_.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(lM(e,o[c])),u.push(o[c+1]);for(var l=[],h=ia.empty(),f=a.length-1;f>=0;--f)if(!lV(l,a[f])){var d=a[f],p=u[f];p=q(p);var m=s.kc(d);if(p instanceof lE)l.push(d);else{var g=lD(p,m);null!=g&&(l.push(d),h.set(d,g))}}return new lg(h,new rG(l),s.fieldTransforms)}function lP(t,e,n,r){return void 0===r&&(r=!1),lD(n,t.Bc(r?4:3,e))}function lD(t,e){if(lO(t=q(t)))return lR("Unsupported field value:",e,t),lN(t,e);if(t instanceof lf)return function(t,e){if(!ly(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");for(var n=t,r=[],i=0,o=0;o<n.length;o++){var s=lD(n[o],e.Oc(i));null==s&&(s={nullValue:"NULL_VALUE"}),r.push(s),i++}return{arrayValue:{values:r}}}var a=t;if(null===(a=q(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return iG(e.R,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){var u=rj.fromDate(a);return{timestampValue:oB(e.R,u)}}if(a instanceof rj)return u=new rj(a.seconds,1e3*Math.floor(a.nanoseconds/1e3)),{timestampValue:oB(e.R,u)};if(a instanceof ld)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof lh)return{bytesValue:oq(e.R,a._byteString)};if(a instanceof c5){u=e.databaseId;var c=a.firestore._databaseId;if(!c.isEqual(u))throw e.$c("Document reference is for database "+c.projectId+"/"+c.database+" but should be for database "+u.projectId+"/"+u.database);return{referenceValue:oK(a.firestore._databaseId||e.databaseId,a._key.path)}}throw e.$c("Unsupported field value: "+c0(a))}function lN(t,e){var n={};return rB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rU(t,function(t,r){var i=lD(r,e.Nc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function lO(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof rj||t instanceof ld||t instanceof lh||t instanceof c5||t instanceof lf)}function lR(t,e,n){if(!lO(n)||"object"!=typeof n||null===n||Object.getPrototypeOf(n)!==Object.prototype&&null!==Object.getPrototypeOf(n)){var r=c0(n);throw"an object"===r?e.$c(t+" a custom object"):e.$c(t+" "+r)}}function lM(t,e,n){if((e=q(e))instanceof ll)return e._internalPath;if("string"==typeof e)return lj(t,e);throw lF("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var lL=RegExp("[~\\*/\\[\\]]");function lj(t,e,n){if(e.search(lL)>=0)throw lF("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(ll.bind.apply(ll,A([void 0],e.split(".")))))._internalPath}catch(r){throw lF("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function lF(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new rI(r_.INVALID_ARGUMENT,(a+=". ")+t+u)}function lV(t,e){return t.some(function(t){return t.isEqual(e)})}var lU=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new c5(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new lB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(lq("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),lB=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return x(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(lU);function lq(t,e){return"string"==typeof e?lj(t,e):e instanceof ll?e._internalPath:e._delegate._internalPath}var lz=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),lK=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return x(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new lW(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(lq("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(lU),lW=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return x(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(lK),lG=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new lz(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new lW(n._firestore,n._userDataWriter,r.key,r,new lz(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new rI(r_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){var r=new lW(t._firestore,t._userDataWriter,e.doc.key,e.doc,new lz(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new lW(t._firestore,t._userDataWriter,e.doc.key,e.doc,new lz(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:function(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rO()}}(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function lH(t,e){return t instanceof lK&&e instanceof lK?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof lG&&e instanceof lG&&t._firestore===e._firestore&&le(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function lQ(t){if(iN(t)&&0===t.explicitOrderBy.length)throw new rI(r_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var lY=function(){};function lX(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++)t=e[r]._apply(t);return t}var l$=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return x(e,t),e.prototype._apply=function(t){var e,n,r=lw(t.firestore),i=function(t,e,n,r,i,o,s){if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new rI(r_.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){l4(s,o);for(var a,u=[],c=0;c<s.length;c++){var l=s[c];u.push(l3(r,t,l))}a={arrayValue:{values:u}}}else a=l3(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||l4(s,o),a=lP(n,"where",s,"in"===o||"not-in"===o);var h=im.create(i,o,a);return function(t,e){if(e.g()){var n=iR(t);if(null!==n&&!n.isEqual(e.field))throw new rI(r_.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=iO(t);null!==r&&l5(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new rI(r_.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new rI(r_.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,r,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new c6(t.firestore,t.converter,(e=t._query,n=e.filters.concat([i]),new iC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)))},e}(lY),lJ=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return x(e,t),e.prototype._apply=function(t){var e,n,r=function(t,e,n){if(null!==t.startAt)throw new rI(r_.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new rI(r_.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new iI(e,n);return function(t,e){if(null===iO(t)){var n=iR(t);null!==n&&l5(t,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new c6(t.firestore,t.converter,(e=t._query,n=e.explicitOrderBy.concat([r]),new iC(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)))},e}(lY),lZ=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return x(e,t),e.prototype._apply=function(t){return new c6(t.firestore,t.converter,iF(t._query,this.Gc,this.zc))},e}(lY),l0=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return x(e,t),e.prototype._apply=function(t){var e,n=l2(t,this.type,this.Hc,this.Jc);return new c6(t.firestore,t.converter,(e=t._query,new iC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,n,e.endAt)))},e}(lY),l1=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return x(e,t),e.prototype._apply=function(t){var e,n=l2(t,this.type,this.Hc,this.Jc);return new c6(t.firestore,t.converter,(e=t._query,new iC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,n)))},e}(lY);function l2(t,e,n,r){if(n[0]=q(n[0]),n[0]instanceof lU)return function(t,e,n,r,i){if(!r)throw new rI(r_.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=iL(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(it(e,r.key));else{var c=r.data.field(u.field);if(rJ(c))throw new rI(r_.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new rI(r_.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new iS(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=lw(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new rI(r_.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new rI(r_.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!iM(t)&&-1!==c.indexOf("/"))throw new rI(r_.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(rz.fromString(c));if(!r3.isDocumentKey(l))throw new rI(r_.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new r3(l);a.push(it(e,h))}else{var f=lP(n,r,c);a.push(f)}}return new iS(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function l3(t,e,n){if("string"==typeof(n=q(n))){if(""===n)throw new rI(r_.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!iM(e)&&-1!==n.indexOf("/"))throw new rI(r_.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(rz.fromString(n));if(!r3.isDocumentKey(r))throw new rI(r_.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return it(t,new r3(r))}if(n instanceof c5)return it(t,n._key);throw new rI(r_.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+c0(n)+".")}function l4(t,e){if(!Array.isArray(t)||0===t.length)throw new rI(r_.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new rI(r_.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function l5(t,e,n){if(!n.isEqual(e))throw new rI(r_.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var l6=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),r4(t)){case 0:return null;case 1:return t.booleanValue;case 2:return rX(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(r$(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw rO()}},t.prototype.convertObject=function(t,e){var n=this,r={};return rU(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new ld(rX(t.latitude),rX(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return rJ(n)?t(n):n}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(rZ(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=rY(t);return new rj(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=rz.fromString(t);o7(n)||rO();var r=new cB(n.get(1),n.get(3)),i=new r3(n.popFirst(5));return r.isEqual(e)||rP("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function l8(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var l9=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return x(e,t),e.prototype.convertBytes=function(t){return new lh(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new c5(this.firestore,null,e)},e}(l6),l7=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=lw(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=ht(t,this._firestore),i=l8(r.converter,e,n),o=lx(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,i5.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=ht(t,this._firestore);return o="string"==typeof(e=q(e))||e instanceof ll?lC(this._dataReader,"WriteBatch.update",s._key,e,n,r):lk(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,i5.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=ht(t,this._firestore);return this._mutations=this._mutations.concat(new od(e._key,i5.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new rI(r_.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function ht(t,e){if((t=q(t)).firestore!==e)throw new rI(r_.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var he=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return x(e,t),e.prototype.convertBytes=function(t){return new lh(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new c5(this.firestore,null,e)},e}(l6);function hn(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=c1(t,c5);var o=c1(t.firestore,lo),s=lw(o);return hi(o,[("string"==typeof(e=q(e))||e instanceof ll?lC(s,"updateDoc",t._key,e,n,r):lk(s,"updateDoc",t._key,e)).toMutation(t._key,i5.exists(!0))])}function hr(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=q(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[0]||lr(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(lr(i[a])){var f=i[a];i[a]=null==(e=f.next)?void 0:e.bind(f),i[a+1]=null==(n=f.error)?void 0:n.bind(f),i[a+2]=null==(r=f.complete)?void 0:r.bind(f)}if(t instanceof c5)c=c1(t.firestore,lo),l=iP(t._key.path),u={next:function(e){i[a]&&i[a](ho(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=c1(t,c6);c=c1(d.firestore,lo),l=d._query;var p=new he(c);u={next:function(t){i[a]&&i[a](new lG(c,p,d,t))},error:i[a+1],complete:i[a+2]},lQ(t._query)}return function(t,e,n,r){var i=this,o=new c_(r),s=new uH(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return T(i,void 0,void 0,function(){var e;return S(this,function(n){switch(n.label){case 0:return e=uq,[4,cj(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return T(i,void 0,void 0,function(){var e;return S(this,function(n){switch(n.label){case 0:return e=uz,[4,cj(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(ls(c),l,h,u)}function hi(t,e){return function(t,e){var n=this,r=new sx;return t.asyncQueue.enqueueAndForget(function(){return T(n,void 0,void 0,function(){var n;return S(this,function(i){switch(i.label){case 0:return n=u6,[4,cL(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(ls(t),e)}function ho(t,e,n){var r=n.docs.get(e._key),i=new he(t);return new lK(t,i,e._key,r,new lz(n.hasPendingWrites,n.fromCache),e.converter)}var hs=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return x(e,t),e.prototype.get=function(e){var n=this,r=ht(e,this._firestore),i=new he(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new lK(n._firestore,i,r._key,t._document,new lz(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=lw(t)}return t.prototype.get=function(t){var e=this,n=ht(t,this._firestore),r=new l9(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return rO();var i=t[0];if(i.isFoundDocument())return new lU(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new lU(e._firestore,r,n._key,null,n.converter);throw rO()})},t.prototype.set=function(t,e,n){var r=ht(t,this._firestore),i=l8(r.converter,e,n),o=lx(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=ht(t,this._firestore);return o="string"==typeof(e=q(e))||e instanceof ll?lC(this._dataReader,"Transaction.update",s._key,e,n,r):lk(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=ht(t,this._firestore);return this._transaction.delete(e._key),this},t}());function ha(){if("u"<typeof Uint8Array)throw new rI(r_.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function hu(){if("u"<typeof atob)throw new rI(r_.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var hc=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return hu(),new t(lh.fromBase64String(e))},t.fromUint8Array=function(e){return ha(),new t(lh.fromUint8Array(e))},t.prototype.toBase64=function(){return hu(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return ha(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),hl=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){var n,r,i,o,s;return n=t._delegate,r={forceOwnership:e},lc(n=c1(n,lo)),i=ls(n),o=n._freezeSettings(),lu(i,s=new cS,new cE(s,o.cacheSizeBytes,null==r?void 0:r.forceOwnership))},t.prototype.enableMultiTabIndexedDbPersistence=function(t){var e,n,r,i;return lc(e=c1(e=t._delegate,lo)),n=ls(e),r=e._freezeSettings(),lu(n,i=new cS,new cT(i,r.cacheSizeBytes))},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new rI(r_.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new sx;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return T(e,void 0,void 0,function(){var e;return S(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return T(this,void 0,void 0,function(){var e;return S(this,function(n){switch(n.label){case 0:return sS.yt()?(e=t+"main",[4,sS.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}})})}(a_(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),hh=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof cB||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=c1(t,c4))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&rD("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=function(t,e){if(t.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n="demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=E({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[P.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),P.encodeString(JSON.stringify(o),!1),""].join(".")}(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new rI(r_.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new cW(new cz(o,new aY(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return T(e,void 0,void 0,function(){var e,n;return S(this,function(r){switch(r.label){case 0:return[4,cO(t)];case 1:return e=r.sent(),[4,cM(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),n.$r.delete(0),uh(n))]}})})})}(ls(c1(this._delegate,lo)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return T(e,void 0,void 0,function(){var e,n;return S(this,function(r){switch(r.label){case 0:return[4,cO(t)];case 1:return e=r.sent(),[4,cM(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return T(this,void 0,void 0,function(){var e;return S(this,function(n){switch(n.label){case 0:return(e=t).$r.add(0),[4,uf(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(ls(c1(this._delegate,lo)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&c$("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new sx;return t.asyncQueue.enqueueAndForget(function(){return T(e,void 0,void 0,function(){var e;return S(this,function(r){switch(r.label){case 0:return e=cn,[4,cL(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(ls(c1(this._delegate,lo)))},t.prototype.onSnapshotsInSync=function(t){var e;return e=this._delegate,function(t,e){var n=this,r=new c_(e);return t.asyncQueue.enqueueAndForget(function(){return T(n,void 0,void 0,function(){var e;return S(this,function(n){switch(n.label){case 0:return e=function(t,e){t.Gr.add(e),e.next()},[4,cj(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return T(n,void 0,void 0,function(){var e;return S(this,function(n){switch(n.label){case 0:return e=function(t,e){t.Gr.delete(e)},[4,cj(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(ls(e=c1(e,lo)),lr(t)?t:{next:t})},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new rI(r_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new h_(this,c9(this._delegate,t))}catch(t){throw hy(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new hg(this,c7(this._delegate,t))}catch(t){throw hy(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new hE(this,function(t,e){if(t=c1(t,c4),cY("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new rI(r_.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new c6(t,null,new iC(rz.emptyPath(),e))}(this._delegate,t))}catch(t){throw hy(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e,n,r=this;return e=this._delegate,n=function(e){return t(new hd(r,e))},function(t,e){var n=this,r=new sx;return t.asyncQueue.enqueueAndForget(function(){return T(n,void 0,void 0,function(){var n;return S(this,function(i){switch(i.label){case 0:return[4,cN(t).then(function(t){return t.datastore})];case 1:return n=i.sent(),new cA(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(ls(e),function(t){return n(new hs(e,t))})},t.prototype.batch=function(){var t=this;return ls(this._delegate),new hp(new l7(this._delegate,function(e){return hi(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new rI(r_.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new rI(r_.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),hf=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return x(e,t),e.prototype.convertBytes=function(t){return new hc(new lh(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return hg.Zc(e,this.firestore,null)},e}(l6),hd=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new hf(t)}return t.prototype.get=function(t){var e=this,n=c1(t,c5);return this._delegate.get(n).then(function(t){return new hw(e._firestore,new lK(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=c1(t,c5);return n?(cX("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=c1(t,c5);return 2==arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,A([s,e,n],i)),this},t.prototype.delete=function(t){var e=c1(t,c5);return this._delegate.delete(e),this},t}(),hp=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=c1(t,c5);return n?(cX("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=c1(t,c5);return 2==arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,A([s,e,n],i)),this},t.prototype.delete=function(t){var e=c1(t,c5);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),hm=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new lW(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new hx(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new hf(e),n),i.set(n,o)),o},t}();hm.eu=new WeakMap;var hg=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new hf(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new rI(r_.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new c5(n._delegate,r,new r3(e)))},t.Zc=function(e,n,r){return new t(n,new c5(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new h_(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new h_(this.firestore,c9(this._delegate,t))}catch(t){throw hy(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=q(t))instanceof c5&&lt(this._delegate,t)},t.prototype.set=function(t,e){e=cX("DocumentReference.set",e);try{var n,r,i,o;return n=this._delegate,r=e,n=c1(n,c5),i=c1(n.firestore,lo),o=l8(n.converter,t,r),hi(i,[lx(lw(i),"setDoc",n._key,o,null!==n.converter,r).toMutation(n._key,i5.none())])}catch(t){throw hy(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1==arguments.length?hn(this._delegate,t):hn.apply(void 0,A([this._delegate,t,e],n))}catch(t){throw hy(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){var t;return hi(c1((t=this._delegate).firestore,lo),[new od(t._key,i5.none())])},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=hv(e),i=hb(e,function(e){return new hw(t.firestore,new lK(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return hr(this._delegate,r,i)},t.prototype.get=function(t){var e,n,r,i,o,s,a,u,c=this;return("cache"===(null==t?void 0:t.source)?(e=c1(e=this._delegate,c5),r=ls(n=c1(e.firestore,lo)),i=new he(n),(function(t,e){var n=this,r=new sx;return t.asyncQueue.enqueueAndForget(function(){return T(n,void 0,void 0,function(){var n;return S(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return T(this,void 0,void 0,function(){var r;return S(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t.persistence.runTransaction("read document","readonly",function(n){return t.Mn.mn(n,e)})];case 1:return(r=i.sent()).isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new rI(r_.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=uL(i.sent(),"Failed to get document '"+e+" from cache"),n.reject(r),[3,3];case 3:return[2]}})})},[4,cR(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise})(r,e._key).then(function(t){return new lK(n,i,e._key,t,new lz(null!==t&&t.hasLocalMutations,!0),e.converter)})):"server"===(null==t?void 0:t.source)?(o=c1(o=this._delegate,c5),cF(ls(s=c1(o.firestore,lo)),o._key,{source:"server"}).then(function(t){return ho(s,o,t)})):(a=c1(a=this._delegate,c5),cF(ls(u=c1(a.firestore,lo)),a._key).then(function(t){return ho(u,a,t)}))).then(function(t){return new hw(c.firestore,new lK(c.firestore._delegate,c._userDataWriter,t._key,t._document,t.metadata,c._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(hm.tu(this.firestore,e)):this._delegate.withConverter(null))},t}();function hy(t,e,n){return t.message=t.message.replace(e,n),t}function hv(t){for(var e=0;e<t.length;e++){var n=t[e];if("object"==typeof n&&!lr(n))return n}return{}}function hb(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null==(n=(i=lr(t[0])?t[0]:lr(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)?void 0:n.bind(i),complete:null==(r=i.complete)?void 0:r.bind(i)}}var hw=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new hg(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return lH(this._delegate,t._delegate)},t}(),hx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return x(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(hw),hE=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new hf(t)}return t.prototype.where=function(e,n,r){try{var i;return new t(this.firestore,lX(this._delegate,(i=lq("where",e),new l$(i,n,r))))}catch(t){throw hy(t,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{var r,i,o;return new t(this.firestore,lX(this._delegate,(r=n,void 0===r&&(r="asc"),i=r,o=lq("orderBy",e),new lJ(o,i))))}catch(t){throw hy(t,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,lX(this._delegate,(c2("limit",e),new lZ("limit",e,"F"))))}catch(t){throw hy(t,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,lX(this._delegate,(c2("limitToLast",e),new lZ("limitToLast",e,"L"))))}catch(t){throw hy(t,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,lX(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new l0("startAt",t,!0)}).apply(void 0,e)))}catch(t){throw hy(t,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,lX(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new l0("startAfter",t,!1)}).apply(void 0,e)))}catch(t){throw hy(t,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,lX(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new l1("endBefore",t,!0)}).apply(void 0,e)))}catch(t){throw hy(t,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,lX(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new l1("endAt",t,!1)}).apply(void 0,e)))}catch(t){throw hy(t,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return le(this._delegate,t._delegate)},t.prototype.get=function(t){var e,n,r,i,o,s,a,u,c,l,h,f,d=this;return("cache"===(null==t?void 0:t.source)?(e=c1(e=this._delegate,c6),r=ls(n=c1(e.firestore,lo)),i=new he(n),(function(t,e){var n=this,r=new sx;return t.asyncQueue.enqueueAndForget(function(){return T(n,void 0,void 0,function(){var n;return S(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return T(this,void 0,void 0,function(){var r,i,o,s;return S(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,aL(t,e,!0)];case 1:return i=(r=new uZ(e,(s=a.sent()).Bn))._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=uL(a.sent(),"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}})})},[4,cR(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise})(r,e._query).then(function(t){return new lG(n,i,e,t)})):"server"===(null==t?void 0:t.source)?(o=c1(o=this._delegate,c6),a=ls(s=c1(o.firestore,lo)),u=new he(s),cV(a,o._query,{source:"server"}).then(function(t){return new lG(s,u,o,t)})):(c=c1(c=this._delegate,c6),h=ls(l=c1(c.firestore,lo)),f=new he(l),lQ(c._query),cV(h,c._query).then(function(t){return new lG(l,f,c,t)}))).then(function(t){return new hS(d.firestore,new lG(d.firestore._delegate,d._userDataWriter,d._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=hv(e),i=hb(e,function(e){return new hS(t.firestore,new lG(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return hr(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(hm.tu(this.firestore,e)):this._delegate.withConverter(null))},t}(),hT=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new hx(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),hS=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new hE(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new hx(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new hT(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new hx(n._firestore,r))})},t.prototype.isEqual=function(t){return lH(this._delegate,t._delegate)},t}(),h_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return x(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new hg(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new hg(this.firestore,void 0===t?c7(this._delegate):c7(this._delegate,t))}catch(t){throw hy(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e,n,r,i,o=this;return(e=this._delegate,n=c1(e.firestore,lo),r=c7(e),i=l8(e.converter,t),hi(n,[lx(lw(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,i5.exists(!1))]).then(function(){return r})).then(function(t){return new hg(o.firestore,t)})},e.prototype.isEqual=function(t){return lt(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(hm.tu(this.firestore,t)):this._delegate.withConverter(null))},e}(hE),hI={Firestore:hh,GeoPoint:ld,Timestamp:rj,Blob:hc,Transaction:hd,WriteBatch:hp,DocumentReference:hg,DocumentSnapshot:hw,Query:hE,QueryDocumentSnapshot:hx,QuerySnapshot:hS,CollectionReference:h_,FieldPath:function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(ll.bind.apply(ll,A([void 0],t)))}return t.documentId=function(){return new t(rW.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=q(t))instanceof ll&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),FieldValue:function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new lS("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new lE("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new l_("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lI("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=new lA("increment",e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),setLogLevel:function(t){rA.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};ta.INTERNAL.registerComponent(new z("firestore",function(t){return function(t,e){return new hh(t,new lo(t,e),new hl)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},hI))),ta.registerVersion("@firebase/firestore","2.3.0"),ta.initializeApp({apiKey:"AIzaSyB9VDZh5MyfQ5FuOJdiKz3GBl_zm5mEqo0",authDomain:"portfolio-cv-45ef6.firebaseapp.com",projectId:"portfolio-cv-45ef6",storageBucket:"portfolio-cv-45ef6.firebasestorage.app",messagingSenderId:"980896584557",appId:"1:980896584557:web:2612a9d6c7d47506c78064"});let hA=ta.firestore(),hk=t=>{let[e,n]=(0,l.useState)(null),[r,i]=(0,l.useState)(!1),[o,s]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let e=hA.collection(t).onSnapshot(t=>{i(!0);let e=[];t.docs.forEach(t=>{e.push((0,c._)((0,u._)({},t.data()),{id:t.id}))}),n(e),i(!1),s(null)},t=>{n(null),i(!1),s("Could not fetch the data.")});return()=>e()},[t]),{data:e,isPending:r,error:o}},hC=(0,l.createContext)({sections:{interests:{fr:"Intrts",en:"Interests"},education:{fr:"ducation",en:"Education"},highlights:{fr:"Projets",en:"Projects"},experiences:{fr:"Expriences",en:"Experiences"},skills:{fr:"Comptences",en:"Skills"},languages:{fr:"Langues",en:"Languages"},role:{fr:"Dvelopper web fullstack",en:"Fullstack Web Developer"}},placeholders:{interestInfo:{en:"Hover an icon above to show more info!",fr:"Survolez une icne pour en savoir plus!"},goToDesktopPls:{en:"Switch to desktop for a completely different viewing experience!",fr:"Passez sur grand cran pour un visionnage compltement diffrent !"}}}),hP="heading",hD=t=>{let{level:e,className:n,children:r}=t;switch(e){case 1:return(0,a.jsx)("h1",{className:"".concat(hP," ").concat(n," font-bold text-xl my-2"),children:r});case 2:return(0,a.jsx)("h2",{className:"".concat(hP," ").concat(n," font-semibold text-lg my-1"),children:r});case 3:return(0,a.jsx)("h3",{className:"".concat(hP," ").concat(n," font-semibold text-base"),children:r});default:return(0,a.jsx)("p",{children:r})}};function hN(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function hR(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hO(Object(n),!0).forEach(function(e){var r,i;r=e,i=n[e],(r=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hO(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}let hM=()=>{},hL={},hj={},hF=null,hV={mark:hM,measure:hM};try{"u">typeof window&&(hL=window),"u">typeof document&&(hj=document),"u">typeof MutationObserver&&(hF=MutationObserver),"u">typeof performance&&(hV=performance)}catch(t){}let{userAgent:hU=""}=hL.navigator||{},hB=hL,hq=hj,hz=hF,hK=hV;hB.document;let hW=!!hq.documentElement&&!!hq.head&&"function"==typeof hq.addEventListener&&"function"==typeof hq.createElement,hG=~hU.indexOf("MSIE")||~hU.indexOf("Trident/");var hH={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},hQ=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],hY="classic",hX="duotone",h$=[hY,hX,"sharp","sharp-duotone"],hJ=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),hZ=["fak","fa-kit","fakd","fa-kit-duotone"],h0=["fak","fakd"],h1=["fak","fa-kit","fakd","fa-kit-duotone"],h2={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},h3=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],h4=[1,2,3,4,5,6,7,8,9,10],h5=h4.concat([11,12,13,14,15,16,17,18,19,20]),h6=["classic","duotone","sharp","sharp-duotone","solid","regular","light","thin","duotone","brands","2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","duotone-group","swap-opacity","primary","secondary"].concat(h4.map(t=>"".concat(t,"x"))).concat(h5.map(t=>"w-".concat(t)));let h8="___FONT_AWESOME___",h9="svg-inline--fa",h7="data-fa-i2svg",ft="data-fa-pseudo-element",fe="data-prefix",fn="data-icon",fr="fontawesome-i2svg",fi=["HTML","HEAD","STYLE","SCRIPT"],fo=(()=>{try{return!0}catch(t){return!1}})();function fs(t){return new Proxy(t,{get:(t,e)=>e in t?t[e]:t[hY]})}let fa=hR({},hH);fa[hY]=hR(hR(hR(hR({},{"fa-duotone":"duotone"}),hH[hY]),{fak:"kit","fa-kit":"kit"}),{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"});let fu=fs(fa),fc=hR({},{classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}});fc[hY]=hR(hR(hR(hR({},{duotone:"fad"}),fc[hY]),{kit:"fak"}),{"kit-duotone":"fakd"});let fl=fs(fc),fh=hR({},h2);fh[hY]=hR(hR({},fh[hY]),{fak:"fa-kit"});let ff=fs(fh),fd=hR({},{classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}});fd[hY]=hR(hR({},fd[hY]),{"fa-kit":"fak"}),fs(fd);let fp=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,fm="fa-layers-text",fg=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i;fs(hR({},{classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}}));let fy=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],fv=["kit",...h6],fb=hB.FontAwesomeConfig||{};hq&&"function"==typeof hq.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(t=>{var e;let[n,r]=t,i=""===(e=function(t){var e=hq.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(n))||"false"!==e&&("true"===e||e);null!=i&&(fb[r]=i)});let fw={styleDefault:"solid",familyDefault:hY,cssPrefix:"fa",replacementClass:h9,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};fb.familyPrefix&&(fb.cssPrefix=fb.familyPrefix);let fx=hR(hR({},fw),fb);fx.autoReplaceSvg||(fx.observeMutations=!1);let fE={};Object.keys(fw).forEach(t=>{Object.defineProperty(fE,t,{enumerable:!0,set:function(e){fx[t]=e,fT.forEach(t=>t(fE))},get:function(){return fx[t]}})}),Object.defineProperty(fE,"familyPrefix",{enumerable:!0,set:function(t){fx.cssPrefix=t,fT.forEach(t=>t(fE))},get:function(){return fx.cssPrefix}}),hB.FontAwesomeConfig=fE;let fT=[],fS={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function f_(){let t=12,e="";for(;t-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function fI(t){let e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function fA(t){return t.classList?fI(t.classList):(t.getAttribute("class")||"").split(" ").filter(t=>t)}function fk(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function fC(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function fP(t){return t.size!==fS.size||t.x!==fS.x||t.y!==fS.y||t.rotate!==fS.rotate||t.flipX||t.flipY}function fD(){let t=fE.cssPrefix,e=fE.replacementClass,n=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-counter-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(-1 * var(--fa-li-width, 2em));\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  animation-name: fa-beat;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  animation-name: fa-bounce;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  animation-name: fa-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  animation-name: fa-beat-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  animation-name: fa-flip;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  animation-name: fa-shake;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  animation-name: fa-spin;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 2s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  animation-name: fa-spin;\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    animation-delay: -1ms;\n    animation-duration: 1ms;\n    animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    transform: scale(1);\n  }\n  45% {\n    transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-shake {\n  0% {\n    transform: rotate(-15deg);\n  }\n  4% {\n    transform: rotate(15deg);\n  }\n  8%, 24% {\n    transform: rotate(-18deg);\n  }\n  12%, 28% {\n    transform: rotate(18deg);\n  }\n  16% {\n    transform: rotate(-22deg);\n  }\n  20% {\n    transform: rotate(22deg);\n  }\n  32% {\n    transform: rotate(-12deg);\n  }\n  36% {\n    transform: rotate(12deg);\n  }\n  40%, 100% {\n    transform: rotate(0deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}';if("fa"!==t||e!==h9){let r=RegExp("\\.".concat("fa","\\-"),"g"),i=RegExp("\\--".concat("fa","\\-"),"g"),o=RegExp("\\.".concat(h9),"g");n=n.replace(r,".".concat(t,"-")).replace(i,"--".concat(t,"-")).replace(o,".".concat(e))}return n}let fN=!1;function fO(){fE.autoAddCss&&!fN&&(!function(t){if(!t||!hW)return;let e=hq.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;let n=hq.head.childNodes,r=null;for(let t=n.length-1;t>-1;t--){let e=n[t];["STYLE","LINK"].indexOf((e.tagName||"").toUpperCase())>-1&&(r=e)}hq.head.insertBefore(e,r)}(fD()),fN=!0)}let fR=hB||{};fR[h8]||(fR[h8]={}),fR[h8].styles||(fR[h8].styles={}),fR[h8].hooks||(fR[h8].hooks={}),fR[h8].shims||(fR[h8].shims=[]);var fM=fR[h8];let fL=[],fj=function(){hq.removeEventListener("DOMContentLoaded",fj),fF=1,fL.map(t=>t())},fF=!1;function fV(t){let{tag:e,attributes:n={},children:r=[]}=t;return"string"==typeof t?fk(t):"<".concat(e," ").concat(Object.keys(n||{}).reduce((t,e)=>t+"".concat(e,'="').concat(fk(n[e]),'" '),"").trim(),">").concat(r.map(fV).join(""),"</").concat(e,">")}function fU(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}hW&&((fF=(hq.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(hq.readyState))||hq.addEventListener("DOMContentLoaded",fj));var fB=function(t,e,n,r){var i,o,s,a=Object.keys(t),u=a.length,c=void 0!==r?function(t,n,i,o){return e.call(r,t,n,i,o)}:e;for(void 0===n?(i=1,s=t[a[0]]):(i=0,s=n);i<u;i++)s=c(s,t[o=a[i]],o,t);return s};function fq(t){let e=function(t){let e=[],n=0,r=t.length;for(;n<r;){let i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){let r=t.charCodeAt(n++);(64512&r)==56320?e.push(((1023&i)<<10)+(1023&r)+65536):(e.push(i),n--)}else e.push(i)}return e}(t);return 1===e.length?e[0].toString(16):null}function fz(t){return Object.keys(t).reduce((e,n)=>{let r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function fK(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{skipHooks:r=!1}=n,i=fz(e);"function"!=typeof fM.hooks.addPack||r?fM.styles[t]=hR(hR({},fM.styles[t]||{}),i):fM.hooks.addPack(t,fz(e)),"fas"===t&&fK("fa",e)}let{styles:fW,shims:fG}=fM,fH=Object.keys(ff),fQ=fH.reduce((t,e)=>(t[e]=Object.keys(ff[e]),t),{}),fY=null,fX={},f$={},fJ={},fZ={},f0={},f1=()=>{let t=t=>fB(fW,(e,n,r)=>(e[r]=fB(n,t,{}),e),{});fX=t((t,e,n)=>(e[3]&&(t[e[3]]=n),e[2]&&e[2].filter(t=>"number"==typeof t).forEach(e=>{t[e.toString(16)]=n}),t)),f$=t((t,e,n)=>(t[n]=n,e[2]&&e[2].filter(t=>"string"==typeof t).forEach(e=>{t[e]=n}),t)),f0=t((t,e,n)=>{let r=e[2];return t[n]=n,r.forEach(e=>{t[e]=n}),t});let e="far"in fW||fE.autoFetchSvg,n=fB(fG,(t,n)=>{let r=n[0],i=n[1],o=n[2];return"far"!==i||e||(i="fas"),"string"==typeof r&&(t.names[r]={prefix:i,iconName:o}),"number"==typeof r&&(t.unicodes[r.toString(16)]={prefix:i,iconName:o}),t},{names:{},unicodes:{}});fJ=n.names,fZ=n.unicodes,fY=f6(fE.styleDefault,{family:fE.familyDefault})};function f2(t,e){return(fX[t]||{})[e]}function f3(t,e){return(f0[t]||{})[e]}function f4(t){return fJ[t]||{prefix:null,iconName:null}}fT.push(t=>{fY=f6(t.styleDefault,{family:fE.familyDefault})}),f1();let f5=()=>({prefix:null,iconName:null,rest:[]});function f6(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{family:n=hY}=e,r=fu[n][t];if(n===hX&&!t)return"fad";let i=fl[n][t]||fl[n][r],o=t in fM.styles?t:null;return i||o||null}function f8(t){return t.sort().filter((t,e,n)=>n.indexOf(t)===e)}function f9(t){let e,n,r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{skipLookups:s=!1}=o,a=null,u=h3.concat(h1),c=f8(t.filter(t=>u.includes(t))),l=f8(t.filter(t=>!h3.includes(t))),[h=null]=c.filter(t=>(a=t,!hQ.includes(t))),f=(e=hY,n=fH.reduce((t,e)=>(t[e]="".concat(fE.cssPrefix,"-").concat(e),t),{}),h$.forEach(t=>{(c.includes(n[t])||c.some(e=>fQ[t].includes(e)))&&(e=t)}),e),d=hR(hR({},(r=[],i=null,l.forEach(t=>{var e;let n,o,s,a=(e=fE.cssPrefix,o=(n=t.split("-"))[0],s=n.slice(1).join("-"),o!==e||""===s||~fv.indexOf(s)?null:s);a?i=a:t&&r.push(t)}),{iconName:i,rest:r})),{},{prefix:f6(h,{family:f})});return hR(hR(hR({},d),function(t){let{values:e,family:n,canonical:r,givenPrefix:i="",styles:o={},config:s={}}=t,a=n===hX,u=e.includes("fa-duotone")||e.includes("fad"),c="duotone"===s.familyDefault,l="fad"===r.prefix||"fa-duotone"===r.prefix;return!a&&(u||c||l)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&f7.includes(n)&&(Object.keys(o).find(t=>dt.includes(t))||s.autoFetchSvg)&&(r.prefix=hJ.get(n).defaultShortPrefixId,r.iconName=f3(r.prefix,r.iconName)||r.iconName),("fa"===r.prefix||"fa"===i)&&(r.prefix=fY||"fas"),r}({values:t,family:f,styles:fW,config:fE,canonical:d,givenPrefix:a})),function(t,e,n){let{prefix:r,iconName:i}=n;if(t||!r||!i)return{prefix:r,iconName:i};let o="fa"===e?f4(i):{},s=f3(r,i);return i=o.iconName||s||i,"far"!==(r=o.prefix||r)||fW.far||!fW.fas||fE.autoFetchSvg||(r="fas"),{prefix:r,iconName:i}}(s,a,d))}let f7=h$.filter(t=>t!==hY||t!==hX),dt=Object.keys(h2).filter(t=>t!==hY).map(t=>Object.keys(h2[t])).flat(),de=[],dn={},dr={},di=Object.keys(dr);function ds(t,e){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(dn[t]||[]).forEach(t=>{e=t.apply(null,[e,...r])}),e}function da(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(dn[t]||[]).forEach(t=>{t.apply(null,n)})}function du(){let t=arguments[0],e=Array.prototype.slice.call(arguments,1);return dr[t]?dr[t].apply(null,e):void 0}function dc(t){"fa"===t.prefix&&(t.prefix="fas");let{iconName:e}=t,n=t.prefix||fY;if(e)return e=f3(n,e)||e,fU(dl.definitions,n,e)||fU(fM.styles,n,e)}let dl=new class{add(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];let r=e.reduce(this._pullDefinitions,{});Object.keys(r).forEach(t=>{this.definitions[t]=hR(hR({},this.definitions[t]||{}),r[t]),fK(t,r[t]);let e=ff[hY][t];e&&fK(e,r[t]),f1()})}reset(){this.definitions={}}_pullDefinitions(t,e){let n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map(e=>{let{prefix:r,iconName:i,icon:o}=n[e],s=o[2];t[r]||(t[r]={}),s.length>0&&s.forEach(e=>{"string"==typeof e&&(t[r][e]=o)}),t[r][i]=o}),t}constructor(){this.definitions={}}},dh={noAuto:()=>{fE.autoReplaceSvg=!1,fE.observeMutations=!1,da("noAuto")},config:fE,dom:{i2svg:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return hW?(da("beforeI2svg",t),du("pseudoElements2svg",t),du("i2svg",t)):Promise.reject(Error("Operation requires a DOM of some kind."))},watch:function(){var t;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{autoReplaceSvgRoot:n}=e;!1===fE.autoReplaceSvg&&(fE.autoReplaceSvg=!0),fE.observeMutations=!0,t=()=>{df({autoReplaceSvgRoot:n}),da("watch",e)},hW&&(fF?setTimeout(t,0):fL.push(t))}},parse:{icon:t=>{if(null===t)return null;if("object"==typeof t&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:f3(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&2===t.length){let e=0===t[1].indexOf("fa-")?t[1].slice(3):t[1],n=f6(t[0]);return{prefix:n,iconName:f3(n,e)||e}}if("string"==typeof t&&(t.indexOf("".concat(fE.cssPrefix,"-"))>-1||t.match(fp))){let e=f9(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||fY,iconName:f3(e.prefix,e.iconName)||e.iconName}}if("string"==typeof t){let e=fY;return{prefix:e,iconName:f3(e,t)||t}}}},library:dl,findIconDefinition:dc,toHtml:fV},df=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{autoReplaceSvgRoot:e=hq}=t;(Object.keys(fM.styles).length>0||fE.autoFetchSvg)&&hW&&fE.autoReplaceSvg&&dh.dom.i2svg({node:e})};function dd(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(t=>fV(t))}}),Object.defineProperty(t,"node",{get:function(){if(!hW)return;let e=hq.createElement("div");return e.innerHTML=t.html,e.children}}),t}function dp(t){let{icons:{main:e,mask:n},prefix:r,iconName:i,transform:o,symbol:s,title:a,maskId:u,titleId:c,extra:l,watchable:h=!1}=t,{width:f,height:d}=n.found?n:e,p=h0.includes(r),m=[fE.replacementClass,i?"".concat(fE.cssPrefix,"-").concat(i):""].filter(t=>-1===l.classes.indexOf(t)).filter(t=>""!==t||!!t).concat(l.classes).join(" "),g={children:[],attributes:hR(hR({},l.attributes),{},{"data-prefix":r,"data-icon":i,class:m,role:l.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(f," ").concat(d)})},y=p&&!~l.classes.indexOf("fa-fw")?{width:"".concat(f/d*1,"em")}:{};h&&(g.attributes[h7]=""),a&&(g.children.push({tag:"title",attributes:{id:g.attributes["aria-labelledby"]||"title-".concat(c||f_())},children:[a]}),delete g.attributes.title);let v=hR(hR({},g),{},{prefix:r,iconName:i,main:e,mask:n,maskId:u,transform:o,symbol:s,styles:hR(hR({},y),l.styles)}),{children:b,attributes:w}=n.found&&e.found?du("generateAbstractMask",v)||{children:[],attributes:{}}:du("generateAbstractIcon",v)||{children:[],attributes:{}};return(v.children=b,v.attributes=w,s)?function(t){let{prefix:e,iconName:n,children:r,attributes:i,symbol:o}=t,s=!0===o?"".concat(e,"-").concat(fE.cssPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:hR(hR({},i),{},{id:s}),children:r}]}]}(v):function(t){let{children:e,main:n,mask:r,attributes:i,styles:o,transform:s}=t;if(fP(s)&&n.found&&!r.found){let{width:t,height:e}=n,r={x:t/e/2,y:.5};i.style=fC(hR(hR({},o),{},{"transform-origin":"".concat(r.x+s.x/16,"em ").concat(r.y+s.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(v)}function dm(t){let{content:e,width:n,height:r,transform:i,title:o,extra:s,watchable:a=!1}=t,u=hR(hR(hR({},s.attributes),o?{title:o}:{}),{},{class:s.classes.join(" ")});a&&(u[h7]="");let c=hR({},s.styles);fP(i)&&(c.transform=function(t){let{transform:e,width:n=16,height:r=16,startCentered:i=!1}=t,o="";return i&&hG?o+="translate(".concat(e.x/16-n/2,"em, ").concat(e.y/16-r/2,"em) "):i?o+="translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):o+="translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),o+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),o+="rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),c["-webkit-transform"]=c.transform);let l=fC(c);l.length>0&&(u.style=l);let h=[];return h.push({tag:"span",attributes:u,children:[e]}),o&&h.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),h}let{styles:dg}=fM;function dy(t){let e=t[0],n=t[1],[r]=t.slice(4);return{found:!0,width:e,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(fE.cssPrefix,"-").concat("duotone-group")},children:[{tag:"path",attributes:{class:"".concat(fE.cssPrefix,"-").concat("secondary"),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(fE.cssPrefix,"-").concat("primary"),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}let dv={found:!1,width:512,height:512};function db(t,e){let n=e;return"fa"===e&&null!==fE.styleDefault&&(e=fY),new Promise((r,i)=>{var o,s;if("fa"===n){let n=f4(t)||{};t=n.iconName||t,e=n.prefix||e}if(t&&e&&dg[e]&&dg[e][t])return r(dy(dg[e][t]));o=t,s=e,fo||fE.showMissingIcons||!o||console.error('Icon with name "'.concat(o,'" and prefix "').concat(s,'" is missing.')),r(hR(hR({},dv),{},{icon:fE.showMissingIcons&&t&&du("missingIconAbstract")||{}}))})}let dw=()=>{},dx=fE.measurePerformance&&hK&&hK.mark&&hK.measure?hK:{mark:dw,measure:dw},dE='FA "6.7.2"';var dT=t=>(dx.mark("".concat(dE," ").concat(t," begins")),()=>{var e;return e=t,void(dx.mark("".concat(dE," ").concat(e," ends")),dx.measure("".concat(dE," ").concat(e),"".concat(dE," ").concat(e," begins"),"".concat(dE," ").concat(e," ends")))});let dS=()=>{};function d_(t){return"string"==typeof(t.getAttribute?t.getAttribute(h7):null)}function dI(t){return hq.createElementNS("http://www.w3.org/2000/svg",t)}function dA(t){return hq.createElement(t)}let dk={replace:function(t){let e=t[0];if(e.parentNode)if(t[1].forEach(t=>{e.parentNode.insertBefore(function t(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{ceFn:r="svg"===e.tag?dI:dA}=n;if("string"==typeof e)return hq.createTextNode(e);let i=r(e.tag);return Object.keys(e.attributes||[]).forEach(function(t){i.setAttribute(t,e.attributes[t])}),(e.children||[]).forEach(function(e){i.appendChild(t(e,{ceFn:r}))}),i}(t),e)}),null===e.getAttribute(h7)&&fE.keepOriginalSource){let t,n=hq.createComment((t=" ".concat(e.outerHTML," "),t="".concat(t,"Font Awesome fontawesome.com ")));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){let e=t[0],n=t[1];if(~fA(e).indexOf(fE.replacementClass))return dk.replace(t);let r=new RegExp("".concat(fE.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){let t=n[0].attributes.class.split(" ").reduce((t,e)=>(e===fE.replacementClass||e.match(r)?t.toSvg.push(e):t.toNode.push(e),t),{toNode:[],toSvg:[]});n[0].attributes.class=t.toSvg.join(" "),0===t.toNode.length?e.removeAttribute("class"):e.setAttribute("class",t.toNode.join(" "))}let i=n.map(t=>fV(t)).join("\n");e.setAttribute(h7,""),e.innerHTML=i}};function dC(t){t()}function dP(t,e){let n="function"==typeof e?e:dS;if(0===t.length)n();else{let e=dC;"async"===fE.mutateApproach&&(e=hB.requestAnimationFrame||dC),e(()=>{let e=!0===fE.autoReplaceSvg?dk.replace:dk[fE.autoReplaceSvg]||dk.replace,r=dT("mutate");t.map(e),r(),n()})}}let dD=!1,dN=null;function dO(t){if(!hz||!fE.observeMutations)return;let{treeCallback:e=dS,nodeCallback:n=dS,pseudoElementsCallback:r=dS,observeMutationsRoot:i=hq}=t;dN=new hz(t=>{if(dD)return;let i=fY;fI(t).forEach(t=>{if("childList"===t.type&&t.addedNodes.length>0&&!d_(t.addedNodes[0])&&(fE.searchPseudoElements&&r(t.target),e(t.target)),"attributes"===t.type&&t.target.parentNode&&fE.searchPseudoElements&&r(t.target.parentNode),"attributes"===t.type&&d_(t.target)&&~fy.indexOf(t.attributeName)){var o,s;let e,r;if("class"===t.attributeName&&(e=(o=t.target).getAttribute?o.getAttribute(fe):null,r=o.getAttribute?o.getAttribute(fn):null,e&&r)){let{prefix:e,iconName:n}=f9(fA(t.target));t.target.setAttribute(fe,e||i),n&&t.target.setAttribute(fn,n)}else(s=t.target)&&s.classList&&s.classList.contains&&s.classList.contains(fE.replacementClass)&&n(t.target)}})}),hW&&dN.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function dR(t){var e,n,r;let i,o,s,a,u,c,l,h,f,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},{iconName:p,prefix:m,rest:g}=(i=(e=t).getAttribute("data-prefix"),o=e.getAttribute("data-icon"),s=void 0!==e.innerText?e.innerText.trim():"",((a=f9(fA(e))).prefix||(a.prefix=fY),i&&o&&(a.prefix=i,a.iconName=o),a.iconName&&a.prefix)?a:(a.prefix&&s.length>0&&(n=a.prefix,r=e.innerText,a.iconName=(f$[n]||{})[r]||f2(a.prefix,fq(e.innerText))),!a.iconName&&fE.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(a.iconName=e.firstChild.data),a)),y=(u=fI(t.attributes).reduce((t,e)=>("class"!==t.name&&"style"!==t.name&&(t[e.name]=e.value),t),{}),c=t.getAttribute("title"),l=t.getAttribute("data-fa-title-id"),fE.autoA11y&&(c?u["aria-labelledby"]="".concat(fE.replacementClass,"-title-").concat(l||f_()):(u["aria-hidden"]="true",u.focusable="false")),u),v=ds("parseNodeAttributes",{},t),b=d.styleParser?(h=t.getAttribute("style"),f=[],h&&(f=h.split(";").reduce((t,e)=>{let n=e.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(t[r]=i.join(":").trim()),t},{})),f):[];return hR({iconName:p,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:m,transform:fS,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:g,styles:b,attributes:y}},v)}let{styles:dM}=fM;function dL(t){let e="nest"===fE.autoReplaceSvg?dR(t,{styleParser:!1}):dR(t);return~e.extra.classes.indexOf(fm)?du("generateLayersText",t,e):du("generateSvgReplacementMutation",t,e)}function dj(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!hW)return Promise.resolve();let n=hq.documentElement.classList,r=t=>n.add("".concat(fr,"-").concat(t)),i=t=>n.remove("".concat(fr,"-").concat(t)),o=fE.autoFetchSvg?[...hZ,...h3]:hQ.concat(Object.keys(dM));o.includes("fa")||o.push("fa");let s=[".".concat(fm,":not([").concat(h7,"])")].concat(o.map(t=>".".concat(t,":not([").concat(h7,"])"))).join(", ");if(0===s.length)return Promise.resolve();let a=[];try{a=fI(t.querySelectorAll(s))}catch(t){}if(!(a.length>0))return Promise.resolve();r("pending"),i("complete");let u=dT("onTree"),c=a.reduce((t,e)=>{try{let n=dL(e);n&&t.push(n)}catch(t){fo||"MissingIcon"!==t.name||console.error(t)}return t},[]);return new Promise((t,n)=>{Promise.all(c).then(n=>{dP(n,()=>{r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),u(),t()})}).catch(t=>{u(),n(t)})})}function dF(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;dL(t).then(t=>{t&&dP([t],e)})}let dV=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{transform:n=fS,symbol:r=!1,mask:i=null,maskId:o=null,title:s=null,titleId:a=null,classes:u=[],attributes:c={},styles:l={}}=e;if(!t)return;let{prefix:h,iconName:f,icon:d}=t;return dd(hR({type:"icon"},t),()=>(da("beforeDOMElementCreation",{iconDefinition:t,params:e}),fE.autoA11y&&(s?c["aria-labelledby"]="".concat(fE.replacementClass,"-title-").concat(a||f_()):(c["aria-hidden"]="true",c.focusable="false")),dp({icons:{main:dy(d),mask:i?dy(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:h,iconName:f,transform:hR(hR({},fS),n),symbol:r,title:s,maskId:o,titleId:a,extra:{attributes:c,styles:l,classes:u}})))},dU=RegExp('"',"ug"),dB=hR(hR(hR(hR({},{FontAwesome:{normal:"fas",400:"fas"}}),{"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}}),{"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}}),{"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}}),dq=Object.keys(dB).reduce((t,e)=>(t[e.toLowerCase()]=dB[e],t),{}),dz=Object.keys(dq).reduce((t,e)=>{let n=dq[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function dK(t,e){let n="".concat("data-fa-pseudo-element-pending").concat(e.replace(":","-"));return new Promise((r,i)=>{if(null!==t.getAttribute(n))return r();let o=fI(t.children).filter(t=>t.getAttribute(ft)===e)[0],s=hB.getComputedStyle(t,e),a=s.getPropertyValue("font-family"),u=a.match(fg),c=s.getPropertyValue("font-weight"),l=s.getPropertyValue("content");if(o&&!u)return t.removeChild(o),r();if(u&&"none"!==l&&""!==l){var h;let l,f,d,p,m,g,y,v,b,w,x=s.getPropertyValue("content"),E=(p=a.replace(/^['"]|['"]$/g,"").toLowerCase(),g=isNaN(m=parseInt(c))?"normal":m,(dq[p]||{})[g]||dz[p]),{value:T,isSecondary:S}=(y=x.replace(dU,""),f=(h=y).length,b=(v=(d=h.charCodeAt(0))>=55296&&d<=56319&&f>1&&(l=h.charCodeAt(1))>=56320&&l<=57343?(d-55296)*1024+l-56320+65536:d)>=1105920&&v<=1112319,{value:(w=2===y.length&&y[0]===y[1])?fq(y[0]):fq(y),isSecondary:b||w}),_=u[0].startsWith("FontAwesome"),I=f2(E,T),A=I;if(_){let t,e,n=(t=fZ[T],e=f2("fas",T),t||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null});n.iconName&&n.prefix&&(I=n.iconName,E=n.prefix)}if(!I||S||o&&o.getAttribute(fe)===E&&o.getAttribute(fn)===A)r();else{t.setAttribute(n,A),o&&t.removeChild(o);let s={iconName:null,title:null,titleId:null,prefix:null,transform:fS,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},{extra:a}=s;a.attributes[ft]=e,db(I,E).then(i=>{let o=dp(hR(hR({},s),{},{icons:{main:i,mask:f5()},prefix:E,iconName:A,extra:a,watchable:!0})),u=hq.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(u,t.firstChild):t.appendChild(u),u.outerHTML=o.map(t=>fV(t)).join("\n"),t.removeAttribute(n),r()}).catch(i)}}else r()})}function dW(t){return Promise.all([dK(t,"::before"),dK(t,"::after")])}function dG(t){return t.parentNode!==document.head&&!~fi.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(ft)&&(!t.parentNode||"svg"!==t.parentNode.tagName)}function dH(t){if(hW)return new Promise((e,n)=>{let r=fI(t.querySelectorAll("*")).filter(dG).map(dW),i=dT("searchPseudoElements");dD=!0,Promise.all(r).then(()=>{i(),dD=!1,e()}).catch(()=>{i(),dD=!1,n()})})}let dQ=!1,dY=t=>t.toLowerCase().split(" ").reduce((t,e)=>{let n=e.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return t.flipX=!0,t;if(r&&"v"===i)return t.flipY=!0,t;if(isNaN(i=parseFloat(i)))return t;switch(r){case"grow":t.size=t.size+i;break;case"shrink":t.size=t.size-i;break;case"left":t.x=t.x-i;break;case"right":t.x=t.x+i;break;case"up":t.y=t.y-i;break;case"down":t.y=t.y+i;break;case"rotate":t.rotate=t.rotate+i}return t},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0}),dX={x:0,y:0,width:"100%",height:"100%"};function d$(t){let e=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}!function(t,e){let{mixoutsTo:n}=e;de=t,dn={},Object.keys(dr).forEach(t=>{-1===di.indexOf(t)&&delete dr[t]}),de.forEach(t=>{let e=t.mixout?t.mixout():{};if(Object.keys(e).forEach(t=>{"function"==typeof e[t]&&(n[t]=e[t]),"object"==typeof e[t]&&Object.keys(e[t]).forEach(r=>{n[t]||(n[t]={}),n[t][r]=e[t][r]})}),t.hooks){let e=t.hooks();Object.keys(e).forEach(t=>{dn[t]||(dn[t]=[]),dn[t].push(e[t])})}t.provides&&t.provides(dr)})}([{mixout:()=>({dom:{css:fD,insertCss:fO}}),hooks:()=>({beforeDOMElementCreation(){fO()},beforeI2svg(){fO()}})},{mixout:()=>({icon:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(t||{}).icon?t:dc(t||{}),{mask:r}=e;return r&&(r=(r||{}).icon?r:dc(r||{})),dV(n,hR(hR({},e),{},{mask:r}))}}),hooks:()=>({mutationObserverCallbacks:t=>(t.treeCallback=dj,t.nodeCallback=dF,t)}),provides(t){t.i2svg=function(t){let{node:e=hq,callback:n=()=>{}}=t;return dj(e,n)},t.generateSvgReplacementMutation=function(t,e){let{iconName:n,title:r,titleId:i,prefix:o,transform:s,symbol:a,mask:u,maskId:c,extra:l}=e;return new Promise((e,h)=>{Promise.all([db(n,o),u.iconName?db(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(u=>{let[h,f]=u;e([t,dp({icons:{main:h,mask:f},prefix:o,iconName:n,transform:s,symbol:a,maskId:c,title:r,titleId:i,extra:l,watchable:!0})])}).catch(h)})},t.generateAbstractIcon=function(t){let e,{children:n,attributes:r,main:i,transform:o,styles:s}=t,a=fC(s);return a.length>0&&(r.style=a),fP(o)&&(e=du("generateAbstractTransformGrouping",{main:i,transform:o,containerWidth:i.width,iconWidth:i.width})),n.push(e||i.icon),{children:n,attributes:r}}}},{mixout:()=>({layer(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{classes:n=[]}=e;return dd({type:"layer"},()=>{da("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(t=>{Array.isArray(t)?t.map(t=>{r=r.concat(t.abstract)}):r=r.concat(t.abstract)}),[{tag:"span",attributes:{class:["".concat(fE.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}})},{mixout:()=>({counter(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{title:n=null,classes:r=[],attributes:i={},styles:o={}}=e;return dd({type:"counter",content:t},()=>(da("beforeDOMElementCreation",{content:t,params:e}),function(t){let{content:e,title:n,extra:r}=t,i=hR(hR(hR({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),o=fC(r.styles);o.length>0&&(i.style=o);let s=[];return s.push({tag:"span",attributes:i,children:[e]}),n&&s.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),s}({content:t.toString(),title:n,extra:{attributes:i,styles:o,classes:["".concat(fE.cssPrefix,"-layers-counter"),...r]}})))}})},{mixout:()=>({text(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{transform:n=fS,title:r=null,classes:i=[],attributes:o={},styles:s={}}=e;return dd({type:"text",content:t},()=>(da("beforeDOMElementCreation",{content:t,params:e}),dm({content:t,transform:hR(hR({},fS),n),title:r,extra:{attributes:o,styles:s,classes:["".concat(fE.cssPrefix,"-layers-text"),...i]}})))}}),provides(t){t.generateLayersText=function(t,e){let{title:n,transform:r,extra:i}=e,o=null,s=null;if(hG){let e=parseInt(getComputedStyle(t).fontSize,10),n=t.getBoundingClientRect();o=n.width/e,s=n.height/e}return fE.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([t,dm({content:t.innerHTML,width:o,height:s,transform:r,title:n,extra:i,watchable:!0})])}}},{hooks:()=>({mutationObserverCallbacks:t=>(t.pseudoElementsCallback=dH,t)}),provides(t){t.pseudoElements2svg=function(t){let{node:e=hq}=t;fE.searchPseudoElements&&dH(e)}}},{mixout:()=>({dom:{unwatch(){dD=!0,dQ=!0}}}),hooks:()=>({bootstrap(){dO(ds("mutationObserverCallbacks",{}))},noAuto(){dN&&dN.disconnect()},watch(t){let{observeMutationsRoot:e}=t;dQ?dD=!1:dO(ds("mutationObserverCallbacks",{observeMutationsRoot:e}))}})},{mixout:()=>({parse:{transform:t=>dY(t)}}),hooks:()=>({parseNodeAttributes(t,e){let n=e.getAttribute("data-fa-transform");return n&&(t.transform=dY(n)),t}}),provides(t){t.generateAbstractTransformGrouping=function(t){let{main:e,transform:n,containerWidth:r,iconWidth:i}=t,o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),s="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),a="rotate(".concat(n.rotate," 0 0)"),u={transform:"".concat(o," ").concat(s," ").concat(a)};return{tag:"g",attributes:hR({},{transform:"translate(".concat(r/2," 256)")}),children:[{tag:"g",attributes:hR({},u),children:[{tag:e.icon.tag,children:e.icon.children,attributes:hR(hR({},e.icon.attributes),{transform:"translate(".concat(-(i/2*1)," -256)")})}]}]}}}},{hooks:()=>({parseNodeAttributes(t,e){let n=e.getAttribute("data-fa-mask"),r=n?f9(n.split(" ").map(t=>t.trim())):f5();return r.prefix||(r.prefix=fY),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}),provides(t){t.generateAbstractMask=function(t){let{children:e,attributes:n,main:r,mask:i,maskId:o,transform:s}=t,{width:a,icon:u}=r,{width:c,icon:l}=i,h=function(t){let{transform:e,containerWidth:n,iconWidth:r}=t,i="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),s="rotate(".concat(e.rotate," 0 0)"),a={transform:"".concat(i," ").concat(o," ").concat(s)};return{outer:{transform:"translate(".concat(n/2," 256)")},inner:a,path:{transform:"translate(".concat(-(r/2*1)," -256)")}}}({transform:s,containerWidth:c,iconWidth:a}),f={tag:"rect",attributes:hR(hR({},dX),{},{fill:"white"})},d=u.children?{children:u.children.map(d$)}:{},p={tag:"g",attributes:hR({},h.inner),children:[d$(hR({tag:u.tag,attributes:hR(hR({},u.attributes),h.path)},d))]},m={tag:"g",attributes:hR({},h.outer),children:[p]},g="mask-".concat(o||f_()),y="clip-".concat(o||f_()),v={tag:"mask",attributes:hR(hR({},dX),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[f,m]},b={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:"g"===l.tag?l.children:[l]},v]};return e.push(b,{tag:"rect",attributes:hR({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(g,")")},dX)}),{children:e,attributes:n}}}},{provides(t){let e=!1;hB.matchMedia&&(e=hB.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){let t=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};t.push({tag:"path",attributes:hR(hR({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});let i=hR(hR({},r),{},{attributeName:"opacity"}),o={tag:"circle",attributes:hR(hR({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||o.children.push({tag:"animate",attributes:hR(hR({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:hR(hR({},i),{},{values:"1;0;1;1;0;1;"})}),t.push(o),t.push({tag:"path",attributes:hR(hR({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:hR(hR({},i),{},{values:"1;0;0;0;0;1;"})}]}),e||t.push({tag:"path",attributes:hR(hR({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:hR(hR({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:t}}}},{hooks:()=>({parseNodeAttributes(t,e){let n=e.getAttribute("data-fa-symbol");return t.symbol=null!==n&&(""===n||n),t}})}],{mixoutsTo:dh}),dh.noAuto;let dJ=dh.config;dh.library,dh.dom;let dZ=dh.parse;dh.findIconDefinition,dh.toHtml;let d0=dh.icon;function d1(){let t=Object.freeze(Object.defineProperties(["(?<=^|s)","-"],{raw:{value:Object.freeze(["(?<=^|\\s)","-"])}}));return d1=function(){return t},t}function d2(t){var e;return(e=t-0)==e?t:(t=t.replace(/[_-]+(.)?/g,(t,e)=>e?e.toUpperCase():"")).charAt(0).toLowerCase()+t.slice(1)}dh.layer,dh.text,dh.counter;var d3=new Map,d4=(function t(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof n)return n;let i=(n.children||[]).map(n=>t(e,n)),o=n.attributes||{},s={};for(let[t,e]of Object.entries(o))switch(!0){case"class"===t:s.className=e;break;case"style"===t:s.style=function(t){if(d3.has(t))return d3.get(t);let e={},n=0,r=t.length;for(;n<r;){let i=t.indexOf(";",n),o=-1===i?r:i,s=t.slice(n,o).trim();if(s){let t=s.indexOf(":");if(t>0){let n=s.slice(0,t).trim(),r=s.slice(t+1).trim();if(n&&r){let t=d2(n);e[t.startsWith("webkit")?t.charAt(0).toUpperCase()+t.slice(1):t]=r}}}n=o+1}if(1e3===d3.size){let t=d3.keys().next().value;t&&d3.delete(t)}return d3.set(t,e),e}(String(e));break;case t.startsWith("aria-"):case t.startsWith("data-"):s[t.toLowerCase()]=e;break;default:s[d2(t)]=e}let{style:a,role:c,"aria-label":l}=r,h=hN(r,["style","role","aria-label"]);return a&&(s.style=s.style?(0,u._)({},s.style,a):a),c&&(s.role=c),l&&(s["aria-label"]=l,s["aria-hidden"]="false"),e(n.tag,(0,u._)({},h,s),...i)}).bind(null,l.default.createElement),d5=(t,e)=>{let n=(0,l.useId)();return t||(e?n:void 0)},d6=class{log(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.enabled&&console.log("[".concat(this.scope,"]"),...e)}warn(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.enabled&&console.warn("[".concat(this.scope,"]"),...e)}error(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.enabled&&console.error("[".concat(this.scope,"]"),...e)}constructor(t="react-fontawesome"){this.enabled=!1;let e=!1;try{e=void 0!==rT.default&&!1}catch(t){}this.scope=t,this.enabled=e}};void 0!==rT.default&&rT.default.env.FA_VERSION;var d8=Number.parseInt("searchPseudoElementsFullScan"in dJ?"7.0.0":"6.0.0")>=7,d9={left:"fa-pull-left",right:"fa-pull-right"},d7={90:"fa-rotate-90",180:"fa-rotate-180",270:"fa-rotate-270"},pt={"2xs":"fa-2xs",xs:"fa-xs",sm:"fa-sm",lg:"fa-lg",xl:"fa-xl","2xl":"fa-2xl","1x":"fa-1x","2x":"fa-2x","3x":"fa-3x","4x":"fa-4x","5x":"fa-5x","6x":"fa-6x","7x":"fa-7x","8x":"fa-8x","9x":"fa-9x","10x":"fa-10x"},pe="fa-fw";function pn(t){let e=dJ.cssPrefix||dJ.familyPrefix||"fa";return"fa"===e?t:t.replace(RegExp(String.raw(d1(),"fa"),"g"),"".concat(e,"-"))}function pr(t){if(t)return"object"==typeof t&&"icon"in t&&t.icon?t:dZ.icon(t)}var pi=new d6("FontAwesomeIcon"),po={border:!1,className:"",mask:void 0,maskId:void 0,fixedWidth:!1,inverse:!1,flip:!1,icon:void 0,listItem:!1,pull:void 0,pulse:!1,rotation:void 0,rotateBy:!1,size:void 0,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:void 0,transform:void 0,swapOpacity:!1,widthAuto:!1},ps=new Set(Object.keys(po)),pa=l.default.forwardRef((t,e)=>{let n=(0,u._)({},po,t),{icon:r,mask:i,symbol:o,title:s,titleId:a,maskId:l,transform:h}=n,f=d5(l,!!i),d=d5(a,!!s),p=pr(r);if(!p)return pi.error("Icon lookup is undefined",r),null;let m=function(t){let{beat:e,fade:n,beatFade:r,bounce:i,shake:o,spin:s,spinPulse:a,spinReverse:u,pulse:c,fixedWidth:l,inverse:h,border:f,flip:d,size:p,rotation:m,pull:g,swapOpacity:y,rotateBy:v,widthAuto:b,className:w}=t,x=[];return(w&&x.push(...w.split(" ")),e&&x.push("fa-beat"),n&&x.push("fa-fade"),r&&x.push("fa-beat-fade"),i&&x.push("fa-bounce"),o&&x.push("fa-shake"),s&&x.push("fa-spin"),u&&x.push("fa-spin-reverse"),a&&x.push("fa-spin-pulse"),c&&x.push("fa-pulse"),l&&x.push(pe),h&&x.push("fa-inverse"),f&&x.push("fa-border"),!0===d&&x.push("fa-flip"),("horizontal"===d||"both"===d)&&x.push("fa-flip-horizontal"),("vertical"===d||"both"===d)&&x.push("fa-flip-vertical"),null!=p&&x.push(pt[p]),null!=m&&0!==m&&x.push(d7[m]),null!=g&&x.push(d9[g]),y&&x.push("fa-swap-opacity"),d8)?(v&&x.push("fa-rotate-by"),b&&x.push("fa-width-auto"),"fa"===(dJ.cssPrefix||dJ.familyPrefix||"fa")?x:x.map(pn)):x}(n),g="string"==typeof h?dZ.transform(h):h,y=pr(i),v=d0(p,(0,c._)((0,u._)({},m.length>0&&{classes:m},g&&{transform:g},y&&{mask:y}),{symbol:o,title:s,titleId:d,maskId:f}));if(!v)return pi.error("Could not find icon",p),null;let{abstract:b}=v,w={ref:e};for(let t of Object.keys(n))ps.has(t)||(w[t]=n[t]);return d4(b[0],w)});pa.displayName="FontAwesomeIcon","".concat("fa-layers"," ").concat(pe);let pu={prefix:"fas",iconName:"arrow-up-right-from-square",icon:[512,512,["external-link"],"f08e","M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l82.7 0L201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3l0 82.7c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160c0-17.7-14.3-32-32-32L320 0zM80 32C35.8 32 0 67.8 0 112L0 432c0 44.2 35.8 80 80 80l320 0c44.2 0 80-35.8 80-80l0-112c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 112c0 8.8-7.2 16-16 16L80 448c-8.8 0-16-7.2-16-16l0-320c0-8.8 7.2-16 16-16l112 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 32z"]},pc={prefix:"fab",iconName:"react",icon:[512,512,[],"f41b","M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1.9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2.6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9C38.3 196.2 0 225.4 0 255.6c0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zm-30.3-120.3c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zm-24.5 263.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6.4 19.5.6 29.5.6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8.9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zm-149.7-15c25.3 0 45.8-20.5 45.8-45.8s-20.5-45.8-45.8-45.8c-25.3 0-45.8 20.5-45.8 45.8s20.5 45.8 45.8 45.8z"]},pl={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]};var ph=t.i(95107);let pf=()=>{let t=(0,l.useContext)(h);if(null===t)throw Error("useLights should be used inside a LightProvider.");return t};var pd=t.i(49269);let pp=t=>{let{name:e}=t,{toggleLight:n,isActiveLight:r,isPermanentLight:i}=pf(),o=(0,l.createRef)(),[s,u]=(0,l.useState)(null);return(0,l.useEffect)(()=>{!s&&o.current&&u(Math.floor(o.current.getBoundingClientRect().width))},[o]),(0,a.jsxs)("div",{ref:o,className:"relative",children:[(0,a.jsxs)(pd.default,{width:s,height:8,minWidth:1280,className:"pointer-events-none bottom-0 absolute",children:[(0,a.jsx)("line",{x1:0,y1:0,x2:s,y2:0,strokeWidth:1,stroke:"#475569"}),Array.from({length:s/4},(t,e)=>e+1).map(t=>(0,a.jsx)("line",{x1:4+4*t,y1:0,x2:4+4*t,y2:8,strokeWidth:1,strokeOpacity:.4,stroke:"#475569"},t))]}),(0,a.jsx)("div",{className:"\n                    my-0.5 mx-1 p-1 cursor-pointer\n                    ".concat(i(e)?"bg-teal-100 shadow-lg shadow-teal-200 text-slate-800":r(e)?"bg-yellow-100 shadow-lg shadow-yellow-200 text-slate-800":"bg-slate-950 hover:bg-slate-600"),onClick:()=>n(e),children:e})]})},pm=navigator.language.split("-")[0],pg=["en","fr"].includes(pm)?pm:"en",py=t=>t?t[pg]?t[pg]:t:"",pv={year:"numeric",month:"numeric",day:"numeric"},pb=()=>(0,a.jsxs)("div",{className:"py-2 xl:pl-8 xl:pr-4 px-3 flex flex-col gap-y-2 w-full",children:[(0,a.jsxs)("div",{className:"flex gap-x-2 items-center",children:[(0,a.jsx)(hD,{level:3,className:"skeleton min-w-40 min-h-5"}),(0,a.jsx)("div",{className:"skeleton-circle size-5"}),(0,a.jsx)("div",{className:"skeleton-circle size-5"})]}),(0,a.jsx)("p",{className:"skeleton min-w-20 min-h-4"}),(0,a.jsx)("p",{className:"skeleton min-w-20 min-h-4"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"skeleton min-w-120 min-h-4"}),(0,a.jsx)("p",{className:"skeleton min-w-120 min-h-4"})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-x-2",children:[...[,,,].keys()].map(t=>(0,a.jsx)("div",{className:"skeleton min-w-8 min-h-5 p-1",width:30},t))})]}),pw=t=>{let{project:e,hoverStyle:n}=t,[r,i]=(0,l.useState)(!1),{clearTheater:o,switchMovie:s}=(0,ph.default)();return(0,a.jsxs)("div",{className:"py-4 xl:pl-8 xl:pr-4 px-3 ".concat(r?n:""),onMouseEnter:()=>{i(!0),e.images?s(e.images[0]):o()},onMouseLeave:()=>{i(!1),o()},children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(hD,{level:3,children:py(e.title)}),e.url&&(0,a.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",children:(0,a.jsx)(pa,{className:"mx-2",icon:pu})}),e.github&&(0,a.jsx)("a",{href:e.github,target:"_blank",rel:"noreferrer",children:(0,a.jsx)(pa,{className:"mx-2",icon:pl})})]}),(0,a.jsxs)("p",{children:[e.date.includes("/")?new Date(e.date).toLocaleDateString(navigator.language,pv):e.date,e.duration&&" - ".concat(py(e.duration))]}),e.location&&(0,a.jsx)("p",{className:"text-sm",children:py(e.location)}),(0,a.jsx)("p",{className:"italic text-sm",children:e.description[pg].split(". ").map((t,n)=>(0,a.jsxs)("span",{children:[t.trim(),n<e.description[pg].split(". ").length-1&&(0,a.jsx)("br",{})]},n))}),(0,a.jsx)("div",{className:"flex flex-wrap",children:e.tags&&e.tags.map((t,e)=>(0,a.jsx)(pp,{name:t},e))})]})},px=(t,e)=>t.priority===e.priority?new Date(t.date)<new Date(e.date):t.priority<e.priority,pE=t=>{let{count:e=4}=t;return(0,a.jsx)(a.Fragment,{children:[...Array(e).keys()].map(t=>(0,a.jsx)(pb,{},t))})},pT=t=>{let{projects:e,hoverStyle:n=""}=t;return(0,a.jsx)(a.Fragment,{children:e&&e.sort(px).map((t,e)=>(0,a.jsx)(pw,{project:t,hoverStyle:n},e))})},pS=l.default.lazy(()=>t.A(70190)),p_=t=>{let{front:e=!1,title:n,collection:r}=t,{isMobile:i}=(0,b.default)(),{data:o,isPending:s}=hk(r);return(0,a.jsxs)("div",{className:"".concat(e?"-mt-8":"mr-12"," relative"),children:[(0,a.jsx)("div",{className:"trapezoid",children:(0,a.jsx)(hD,{className:"px-2 xl:px-8",level:2,children:n[pg]})}),(0,a.jsxs)("div",{className:"".concat(e?"bg-slate-900 shadow-slate-900":"bg-slate-800 shadow-slate-800 pb-12"," ").concat(i()?"px-4":""," shadow-xl xl:flex xl:h-full py-2"),children:[!i()&&e&&(0,a.jsxs)("div",{className:"-translate-x-5 absolute",children:[(0,a.jsx)(pS,{className:"bg-orange-800 hover:bg-orange-600 hover:shadow-lg hover:shadow-orange-600 translate-y-32",text:"II",large:!0}),(0,a.jsx)(pS,{className:"bg-lime-700 hover:bg-lime-400 hover:shadow-lg hover:shadow-lime-300 translate-y-40",text:"",large:!0}),(0,a.jsx)(pS,{className:"bg-teal-700 hover:bg-teal-500 hover:shadow-lg hover:shadow-teal-500 translate-y-72",text:"",large:!0})]}),(0,a.jsx)("div",{className:"space-y-4",children:o?(0,a.jsx)(pT,{projects:o,hoverStyle:e?"bg-slate-800 shadow-slate-800":"bg-slate-700 shadow-slate-700"}):(0,a.jsx)(pE,{count:e?7:4})})]})]})},pI=()=>{let t=(0,l.useContext)(hC).sections.highlights,e=(0,l.useContext)(hC).sections.experiences;return(0,a.jsxs)("div",{id:"highlights-root",className:"xl:h-full xl:flex-col z-30",children:[(0,a.jsx)(p_,{title:e,collection:"experiences"}),(0,a.jsx)(p_,{front:1,title:t,collection:"projects"})]})},pA=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{scrollY:n}=(0,b.default)(),r={transform:"translateY(".concat(n*t,"px)")};return e?{style:(0,c._)((0,u._)({},r),{backgroundImage:"url(".concat(e,")")})}:{style:r}};function pk(t){return null!==t&&"object"==typeof t&&"function"==typeof t.start}let pC=t=>Array.isArray(t);function pP(t,e){if(!Array.isArray(e))return!1;let n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function pD(t){return"string"==typeof t||Array.isArray(t)}function pN(t){let e=[{},{}];return null==t||t.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function pO(t,e,n,r){if("function"==typeof e){let[i,o]=pN(r);e=e(void 0!==n?n:t.custom,i,o)}if("string"==typeof e&&(e=t.variants&&t.variants[e]),"function"==typeof e){let[i,o]=pN(r);e=e(void 0!==n?n:t.custom,i,o)}return e}function pR(t,e,n){let r=t.getProps();return pO(r,e,void 0!==n?n:r.custom,t)}let pM=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pL=["initial",...pM],pj=t=>t;function pF(t){let e;return()=>(void 0===e&&(e=t()),e)}let pV=(t,e,n)=>{let r=e-t;return 0===r?1:(n-t)/r},pU=t=>1e3*t,pB=pF(()=>void 0!==window.ScrollTimeline);class pq{get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,e){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=e}attachTimeline(t,e){let n=this.animations.map(n=>pB()&&n.attachTimeline?n.attachTimeline(t):"function"==typeof e?e(n):void 0);return()=>{n.forEach((t,e)=>{t&&t(),this.animations[e].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach(e=>e[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}}class pz extends pq{then(t,e){return Promise.all(this.animations).then(t).catch(e)}}function pK(t,e){return t?t[e]||t.default||t:void 0}function pW(t){let e=0,n=t.next(e);for(;!n.done&&e<2e4;)e+=50,n=t.next(e);return e>=2e4?1/0:e}function pG(t){return"function"==typeof t}function pH(t,e){t.timeline=e,t.onfinish=null}let pQ=t=>Array.isArray(t)&&"number"==typeof t[0],pY,pX=(n=pF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0}),()=>{var t;return null!=(t=pY)?t:n()}),p$=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="",i=Math.max(Math.round(e/n),2);for(let e=0;e<i;e++)r+=t(pV(0,i-1,e))+", ";return"linear(".concat(r.substring(0,r.length-2),")")},pJ=t=>{let[e,n,r,i]=t;return"cubic-bezier(".concat(e,", ").concat(n,", ").concat(r,", ").concat(i,")")},pZ={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pJ([0,.65,.55,1]),circOut:pJ([.55,0,1,.45]),backIn:pJ([.31,.01,.66,-.59]),backOut:pJ([.33,1.53,.69,.99])},p0={x:!1,y:!1};function p1(t,e){let n=function(t,e,n){if(t instanceof Element)return[t];if("string"==typeof t){let e=document.querySelectorAll(t);return e?Array.from(e):[]}return Array.from(t)}(t),r=new AbortController;return[n,(0,c._)((0,u._)({passive:!0},e),{signal:r.signal}),()=>r.abort()]}function p2(t){return e=>{"touch"===e.pointerType||p0.x||p0.y||t(e)}}let p3=(t,e)=>!!e&&(t===e||p3(t,e.parentElement)),p4=t=>"mouse"===t.pointerType?"number"!=typeof t.button||t.button<=0:!1!==t.isPrimary,p5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),p6=new WeakSet;function p8(t){return e=>{"Enter"===e.key&&t(e)}}function p9(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}function p7(t){return p4(t)&&!(p0.x||p0.y)}let mt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],me=new Set(mt),mn=new Set(["width","height","top","left","right","bottom",...mt]),mr=t=>pC(t)?t[t.length-1]||0:t,mi=["read","resolveKeyframes","update","preRender","render","postRender"];function mo(t,e){let n=!1,r=!0,i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=mi.reduce((t,e)=>(t[e]=function(t){let e=new Set,n=new Set,r=!1,i=!1,o=new WeakSet,s={delta:0,timestamp:0,isProcessing:!1};function a(e){o.has(e)&&(u.schedule(e),t()),e(s)}let u={schedule:function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=s&&r?e:n;return i&&o.add(t),a.has(t)||a.add(t),t},cancel:t=>{n.delete(t),o.delete(t)},process:t=>{if(s=t,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,i&&(i=!1,u.process(t))}};return u}(o),t),{}),{read:a,resolveKeyframes:u,update:c,preRender:l,render:h,postRender:f}=s,d=()=>{let o=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(o-i.timestamp,40),1),i.timestamp=o,i.isProcessing=!0,a.process(i),u.process(i),c.process(i),l.process(i),h.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(d))};return{schedule:mi.reduce((e,o)=>{let a=s[o];return e[o]=function(e){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!n&&(n=!0,r=!0,i.isProcessing||t(d)),a.schedule(e,o,s)},e},{}),cancel:t=>{for(let e=0;e<mi.length;e++)s[mi[e]].cancel(t)},state:i,steps:s}}let{schedule:ms,cancel:ma,state:mu,steps:mc}=mo("u">typeof requestAnimationFrame?requestAnimationFrame:pj,!0);function ml(){e=void 0}let mh={now:()=>(void 0===e&&mh.set(mu.isProcessing?mu.timestamp:performance.now()),e),set:t=>{e=t,queueMicrotask(ml)}};function mf(t,e){-1===t.indexOf(e)&&t.push(e)}function md(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}class mp{add(t){return mf(this.subscriptions,t),()=>md(this.subscriptions,t)}notify(t,e,n){let r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](t,e,n);else for(let i=0;i<r;i++){let r=this.subscriptions[i];r&&r(t,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}constructor(){this.subscriptions=[]}}class mm{setCurrent(t){this.current=t,this.updatedAt=mh.now(),null===this.canTrackVelocity&&void 0!==t&&(this.canTrackVelocity=!isNaN(parseFloat(this.current)))}setPrevFrameValue(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new mp);let n=this.events[t].add(e);return"change"===t?()=>{n(),ms.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(let t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){let e=!(arguments.length>1)||void 0===arguments[1]||arguments[1];e&&this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t,e)}setWithVelocity(t,e,n){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t){let e=!(arguments.length>1)||void 0===arguments[1]||arguments[1];this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return r&&r.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var t;let e=mh.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;let n=Math.min(this.updatedAt-this.prevUpdatedAt,30);return t=parseFloat(this.current)-parseFloat(this.prevFrameValue),n?1e3/n*t:0}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}constructor(t,e={}){var n=this;this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(t){let e=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=mh.now();n.updatedAt!==r&&n.setPrevFrameValue(),n.prev=n.current,n.setCurrent(t),n.current!==n.prev&&n.events.change&&n.events.change.notify(n.current),e&&n.events.renderRequest&&n.events.renderRequest.notify(n.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}}function mg(t,e){return new mm(t,e)}let my=t=>!!(t&&t.getVelocity);function mv(t,e){let n=t.getValue("willChange");if(my(n)&&n.add)return n.add(e)}let mb=t=>t.replace(RegExp("([a-z])([A-Z])","gu"),"$1-$2").toLowerCase(),mw="data-"+mb("framerAppearId"),mx=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t;function mE(t,e,n,r){return t===e&&n===r?pj:i=>0===i||1===i?i:mx(function(t,e,n,r,i){let o,s,a=0;do(o=mx(s=e+(n-e)/2,r,i)-t)>0?n=s:e=s;while(Math.abs(o)>1e-7&&++a<12)return s}(i,0,1,t,n),e,r)}let mT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,mS=t=>e=>1-t(1-e),m_=mE(.33,1.53,.69,.99),mI=mS(m_),mA=mT(mI),mk=t=>(t*=2)<1?.5*mI(t):.5*(2-Math.pow(2,-10*(t-1))),mC=t=>1-Math.sin(Math.acos(t)),mP=mS(mC),mD=mT(mC),mN=t=>RegExp("^0[^.\\s]+$","u").test(t),mO=(t,e,n)=>n>e?e:n<t?t:n,mR={test:t=>"number"==typeof t,parse:parseFloat,transform:t=>t},mM=(0,c._)((0,u._)({},mR),{transform:t=>mO(0,1,t)}),mL=(0,c._)((0,u._)({},mR),{default:1}),mj=t=>Math.round(1e5*t)/1e5,mF=RegExp("-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)","gu"),mV=RegExp("^(?:#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\))$","iu"),mU=(t,e)=>n=>!!("string"==typeof n&&mV.test(n)&&n.startsWith(t)||e&&null!=n&&Object.prototype.hasOwnProperty.call(n,e)),mB=(t,e,n)=>r=>{if("string"!=typeof r)return r;let[i,o,s,a]=r.match(mF);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:void 0!==a?parseFloat(a):1}},mq=(0,c._)((0,u._)({},mR),{transform:t=>Math.round(mO(0,255,t))}),mz={test:mU("rgb","red"),parse:mB("red","green","blue"),transform:t=>{let{red:e,green:n,blue:r,alpha:i=1}=t;return"rgba("+mq.transform(e)+", "+mq.transform(n)+", "+mq.transform(r)+", "+mj(mM.transform(i))+")"}},mK={test:mU("#"),parse:function(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:mz.transform},mW=t=>({test:e=>"string"==typeof e&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>"".concat(e).concat(t)}),mG=mW("deg"),mH=mW("%"),mQ=mW("px"),mY=mW("vh"),mX=mW("vw"),m$=(0,c._)((0,u._)({},mH),{parse:t=>mH.parse(t)/100,transform:t=>mH.transform(100*t)}),mJ={test:mU("hsl","hue"),parse:mB("hue","saturation","lightness"),transform:t=>{let{hue:e,saturation:n,lightness:r,alpha:i=1}=t;return"hsla("+Math.round(e)+", "+mH.transform(mj(n))+", "+mH.transform(mj(r))+", "+mj(mM.transform(i))+")"}},mZ={test:t=>mz.test(t)||mK.test(t)||mJ.test(t),parse:t=>mz.test(t)?mz.parse(t):mJ.test(t)?mJ.parse(t):mK.parse(t),transform:t=>"string"==typeof t?t:t.hasOwnProperty("red")?mz.transform(t):mJ.transform(t)},m0=RegExp("(?:#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\))","giu"),m1="number",m2="color",m3=RegExp("var\\s*\\(\\s*--(?:[\\w-]+\\s*|[\\w-]+\\s*,(?:\\s*[^)(\\s]|\\s*\\((?:[^)(]|\\([^)(]*\\))*\\))+\\s*)\\)|#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\)|-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)","giu");function m4(t){let e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[],o=0,s=e.replace(m3,t=>(mZ.test(t)?(r.color.push(o),i.push(m2),n.push(mZ.parse(t))):t.startsWith("var(")?(r.var.push(o),i.push("var"),n.push(t)):(r.number.push(o),i.push(m1),n.push(parseFloat(t))),++o,"${}")).split("${}");return{values:n,split:s,indexes:r,types:i}}function m5(t){return m4(t).values}function m6(t){let{split:e,types:n}=m4(t),r=e.length;return t=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],void 0!==t[o]){let e=n[o];e===m1?i+=mj(t[o]):e===m2?i+=mZ.transform(t[o]):i+=t[o]}return i}}let m8=t=>"number"==typeof t?0:t,m9={test:function(t){var e,n;return isNaN(t)&&"string"==typeof t&&((null==(e=t.match(mF))?void 0:e.length)||0)+((null==(n=t.match(m0))?void 0:n.length)||0)>0},parse:m5,createTransformer:m6,getAnimatableNone:function(t){let e=m5(t);return m6(t)(e.map(m8))}},m7=new Set(["brightness","contrast","saturate","opacity"]);function gt(t){let[e,n]=t.slice(0,-1).split("(");if("drop-shadow"===e)return t;let[r]=n.match(mF)||[];if(!r)return t;let i=n.replace(r,""),o=+!!m7.has(e);return r!==n&&(o*=100),e+"("+o+i+")"}let ge=RegExp("\\b([a-z-]*)\\(.*?\\)","gu"),gn=(0,c._)((0,u._)({},m9),{getAnimatableNone:t=>{let e=t.match(ge);return e?e.map(gt).join(" "):t}}),gr=(0,c._)((0,u._)({},mR),{transform:Math.round}),gi=(0,c._)((0,u._)({},{borderWidth:mQ,borderTopWidth:mQ,borderRightWidth:mQ,borderBottomWidth:mQ,borderLeftWidth:mQ,borderRadius:mQ,radius:mQ,borderTopLeftRadius:mQ,borderTopRightRadius:mQ,borderBottomRightRadius:mQ,borderBottomLeftRadius:mQ,width:mQ,maxWidth:mQ,height:mQ,maxHeight:mQ,top:mQ,right:mQ,bottom:mQ,left:mQ,padding:mQ,paddingTop:mQ,paddingRight:mQ,paddingBottom:mQ,paddingLeft:mQ,margin:mQ,marginTop:mQ,marginRight:mQ,marginBottom:mQ,marginLeft:mQ,backgroundPositionX:mQ,backgroundPositionY:mQ},{rotate:mG,rotateX:mG,rotateY:mG,rotateZ:mG,scale:mL,scaleX:mL,scaleY:mL,scaleZ:mL,skew:mG,skewX:mG,skewY:mG,distance:mQ,translateX:mQ,translateY:mQ,translateZ:mQ,x:mQ,y:mQ,z:mQ,perspective:mQ,transformPerspective:mQ,opacity:mM,originX:m$,originY:m$,originZ:mQ}),{zIndex:gr,size:mQ,fillOpacity:mM,strokeOpacity:mM,numOctaves:gr}),go=(0,c._)((0,u._)({},gi),{color:mZ,backgroundColor:mZ,outlineColor:mZ,fill:mZ,stroke:mZ,borderColor:mZ,borderTopColor:mZ,borderRightColor:mZ,borderBottomColor:mZ,borderLeftColor:mZ,filter:gn,WebkitFilter:gn}),gs=t=>go[t];function ga(t,e){let n=gs(t);return n!==gn&&(n=m9),n.getAnimatableNone?n.getAnimatableNone(e):void 0}let gu=new Set(["auto","none","0"]),gc=t=>t===mR||t===mQ,gl=(t,e)=>parseFloat(t.split(", ")[e]),gh=(t,e)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;let o=i.match(RegExp("^matrix3d\\((.+)\\)$","u"));if(o)return gl(o[1],e);{let e=i.match(RegExp("^matrix\\((.+)\\)$","u"));return e?gl(e[1],t):0}},gf=new Set(["x","y","z"]),gd=mt.filter(t=>!gf.has(t)),gp={width:(t,e)=>{let{x:n}=t,{paddingLeft:r="0",paddingRight:i="0"}=e;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(t,e)=>{let{y:n}=t,{paddingTop:r="0",paddingBottom:i="0"}=e;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(t,e)=>{let{top:n}=e;return parseFloat(n)},left:(t,e)=>{let{left:n}=e;return parseFloat(n)},bottom:(t,e)=>{let{y:n}=t,{top:r}=e;return parseFloat(r)+(n.max-n.min)},right:(t,e)=>{let{x:n}=t,{left:r}=e;return parseFloat(r)+(n.max-n.min)},x:gh(4,13),y:gh(5,14)};gp.translateX=gp.x,gp.translateY=gp.y;let gm=new Set,gg=!1,gy=!1;function gv(){if(gy){let t=Array.from(gm).filter(t=>t.needsMeasurement),e=new Set(t.map(t=>t.element)),n=new Map;e.forEach(t=>{let e,r=(e=[],gd.forEach(n=>{let r=t.getValue(n);void 0!==r&&(e.push([n,r.get()]),r.set(+!!n.startsWith("scale")))}),e);r.length&&(n.set(t,r),t.render())}),t.forEach(t=>t.measureInitialState()),e.forEach(t=>{t.render();let e=n.get(t);e&&e.forEach(e=>{var n;let[r,i]=e;null==(n=t.getValue(r))||n.set(i)})}),t.forEach(t=>t.measureEndState()),t.forEach(t=>{void 0!==t.suspendedScrollY&&window.scrollTo(0,t.suspendedScrollY)})}gy=!1,gg=!1,gm.forEach(t=>t.complete()),gm.clear()}function gb(){gm.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(gy=!0)})}class gw{scheduleResolve(){this.isScheduled=!0,this.isAsync?(gm.add(this),gg||(gg=!0,ms.read(gb),ms.resolveKeyframes(gv))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:t,name:e,element:n,motionValue:r}=this;for(let i=0;i<t.length;i++)if(null===t[i])if(0===i){let i=null==r?void 0:r.get(),o=t[t.length-1];if(void 0!==i)t[0]=i;else if(n&&e){let r=n.readValue(e,o);null!=r&&(t[0]=r)}void 0===t[0]&&(t[0]=o),r&&void 0===i&&r.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),gm.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,gm.delete(this))}resume(){this.isComplete||this.scheduleResolve()}constructor(t,e,n,r,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=n,this.motionValue=r,this.element=i,this.isAsync=o}}let gx=t=>RegExp("^-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)$","u").test(t),gE=t=>e=>"string"==typeof e&&e.startsWith(t),gT=gE("--"),gS=gE("var(--"),g_=t=>!!gS(t)&&gI.test(t.split("/*")[0].trim()),gI=RegExp("var\\(--(?:[\\w-]+\\s*|[\\w-]+\\s*,(?:\\s*[^)(\\s]|\\s*\\((?:[^)(]|\\([^)(]*\\))*\\))+\\s*)\\)$","iu"),gA=RegExp("^var\\(--(?:([\\w-]+)|([\\w-]+), ?([a-zA-Z\\d ()%#.,-]+))\\)","u"),gk=t=>e=>e.test(t),gC=[mR,mQ,mH,mG,mX,mY,{test:t=>"auto"===t,parse:t=>t}],gP=t=>gC.find(gk(t));class gD extends gw{readKeyframes(){let{unresolvedKeyframes:t,element:e,name:n}=this;if(!e||!e.current)return;super.readKeyframes();for(let n=0;n<t.length;n++){let r=t[n];if("string"==typeof r&&g_(r=r.trim())){let i=function t(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;pj(r<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));let[i,o]=function(t){let e=gA.exec(t);if(!e)return[,];let[,n,r,i]=e;return["--".concat(null!=n?n:r),i]}(e);if(!i)return;let s=window.getComputedStyle(n).getPropertyValue(i);if(s){let t=s.trim();return gx(t)?parseFloat(t):t}return g_(o)?t(o,n,r+1):o}(r,e.current);void 0!==i&&(t[n]=i),n===t.length-1&&(this.finalKeyframe=r)}}if(this.resolveNoneKeyframes(),!mn.has(n)||2!==t.length)return;let[r,i]=t,o=gP(r),s=gP(i);if(o!==s)if(gc(o)&&gc(s))for(let e=0;e<t.length;e++){let n=t[e];"string"==typeof n&&(t[e]=parseFloat(n))}else this.needsMeasurement=!0}resolveNoneKeyframes(){let{unresolvedKeyframes:t,name:e}=this,n=[];for(let e=0;e<t.length;e++){var r;("number"==typeof(r=t[e])?0===r:null===r||"none"===r||"0"===r||mN(r))&&n.push(e)}n.length&&function(t,e,n){let r,i=0;for(;i<t.length&&!r;){let e=t[i];"string"==typeof e&&!gu.has(e)&&m4(e).values.length&&(r=t[i]),i++}if(r&&n)for(let i of e)t[i]=ga(n,r)}(t,n,e)}measureInitialState(){let{element:t,unresolvedKeyframes:e,name:n}=this;if(!t||!t.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=gp[n](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;let r=e[e.length-1];void 0!==r&&t.getValue(n,r).jump(r,!1)}measureEndState(){var t;let{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;let i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);let o=r.length-1,s=r[o];r[o]=gp[n](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==s&&void 0===this.finalKeyframe&&(this.finalKeyframe=s),(null==(t=this.removedTransforms)?void 0:t.length)&&this.removedTransforms.forEach(t=>{let[n,r]=t;e.getValue(n).set(r)}),this.resolveNoneKeyframes()}constructor(t,e,n,r,i){super(t,e,n,r,i,!0)}}let gN=(t,e)=>"zIndex"!==e&&!!("number"==typeof t||Array.isArray(t)||"string"==typeof t&&(m9.test(t)||"0"===t)&&!t.startsWith("url(")),gO=t=>null!==t;function gR(t,e,n){let{repeat:r,repeatType:i="loop"}=e,o=t.filter(gO),s=r&&"loop"!==i&&r%2==1?0:o.length-1;return s&&void 0!==n?n:o[s]}class gM{calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(gb(),gv()),this._resolved}onKeyframesResolved(t,e){this.resolvedAt=mh.now(),this.hasAttemptedResolve=!0;let{name:n,type:r,velocity:i,delay:o,onComplete:s,onUpdate:a,isGenerator:c}=this.options;if(!c&&!function(t,e,n,r){let i=t[0];if(null===i)return!1;if("display"===e||"visibility"===e)return!0;let o=t[t.length-1],s=gN(i,e),a=gN(o,e);return pj(s===a,"You are trying to animate ".concat(e,' from "').concat(i,'" to "').concat(o,'". ').concat(i," is not an animatable value - to enable this animation set ").concat(i," to a value animatable to ").concat(o," via the `style` property.")),!!s&&!!a&&(function(t){let e=t[0];if(1===t.length)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}(t)||("spring"===n||pG(n))&&r)}(t,n,r,i))if(o)this.options.duration=0;else{a&&a(gR(t,this.options,e)),s&&s(),this.resolveFinishedPromise();return}let l=this.initPlayback(t,e);!1!==l&&(this._resolved=(0,u._)({keyframes:t,finalKeyframe:e},l),this.onPostResolved())}onPostResolved(){}then(t,e){return this.currentFinishedPromise.then(t,e)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}constructor(t){let{autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop"}=t,a=hN(t,["autoplay","delay","type","repeat","repeatDelay","repeatType"]);this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=mh.now(),this.options=(0,u._)({autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s},a),this.updateFinishedPromise()}}let gL=(t,e,n)=>t+(e-t)*n;function gj(t,e,n){return(n<0&&(n+=1),n>1&&(n-=1),n<1/6)?t+(e-t)*6*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function gF(t,e){return n=>n>0?e:t}let gV=(t,e,n)=>{let r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},gU=[mK,mz,mJ];function gB(t){let e=gU.find(e=>e.test(t));if(pj(!!e,"'".concat(t,"' is not an animatable color. Use the equivalent color code instead.")),!e)return!1;let n=e.parse(t);return e===mJ&&(n=function(t){let{hue:e,saturation:n,lightness:r,alpha:i}=t;e/=360,r/=100;let o=0,s=0,a=0;if(n/=100){let t=r<.5?r*(1+n):r+n-r*n,i=2*r-t;o=gj(i,t,e+1/3),s=gj(i,t,e),a=gj(i,t,e-1/3)}else o=s=a=r;return{red:Math.round(255*o),green:Math.round(255*s),blue:Math.round(255*a),alpha:i}}(n)),n}let gq=(t,e)=>{let n=gB(t),r=gB(e);if(!n||!r)return gF(t,e);let i=(0,u._)({},n);return t=>(i.red=gV(n.red,r.red,t),i.green=gV(n.green,r.green,t),i.blue=gV(n.blue,r.blue,t),i.alpha=gL(n.alpha,r.alpha,t),mz.transform(i))},gz=(t,e)=>n=>e(t(n)),gK=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(gz)},gW=new Set(["none","hidden"]);function gG(t,e){return n=>gL(t,e,n)}function gH(t){return"number"==typeof t?gG:"string"==typeof t?g_(t)?gF:mZ.test(t)?gq:gX:Array.isArray(t)?gQ:"object"==typeof t?mZ.test(t)?gq:gY:gF}function gQ(t,e){let n=[...t],r=n.length,i=t.map((t,n)=>gH(t)(t,e[n]));return t=>{for(let e=0;e<r;e++)n[e]=i[e](t);return n}}function gY(t,e){let n=(0,u._)({},t,e),r={};for(let i in n)void 0!==t[i]&&void 0!==e[i]&&(r[i]=gH(t[i])(t[i],e[i]));return t=>{for(let e in r)n[e]=r[e](t);return n}}let gX=(t,e)=>{let n=m9.createTransformer(e),r=m4(t),i=m4(e);if(!(r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length))return pj(!0,"Complex values '".concat(t,"' and '").concat(e,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),gF(t,e);if(gW.has(t)&&!i.values.length||gW.has(e)&&!r.values.length)return gW.has(t)?n=>n<=0?t:e:n=>n>=1?e:t;return gK(gQ(function(t,e){var n;let r=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){let s=e.types[o],a=t.indexes[s][i[s]],u=null!=(n=t.values[a])?n:0;r[o]=u,i[s]++}return r}(r,i),i.values),n)};function g$(t,e,n){return"number"==typeof t&&"number"==typeof e&&"number"==typeof n?gL(t,e,n):gH(t)(t,e)}function gJ(t,e,n){var r,i;let o=Math.max(e-5,0);return r=n-t(o),(i=e-o)?1e3/i*r:0}let gZ=.01,g0=2,g1=.005,g2=.5;function g3(t,e){return t*Math.sqrt(1-e*e)}let g4=["duration","bounce"],g5=["stiffness","damping","mass"];function g6(t,e){return e.some(e=>void 0!==t[e])}function g8(){let t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.3,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.3,r="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:n}:e,{restSpeed:i,restDelta:o}=r,s=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],l={done:!1,value:s},{stiffness:h,damping:f,mass:d,duration:p,velocity:m,isResolvedFromDuration:g}=function(t){let e=(0,u._)({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!g6(t,g5)&&g6(t,g4))if(t.visualDuration){let n=2*Math.PI/(1.2*t.visualDuration),r=n*n,i=2*mO(.05,1,1-(t.bounce||0))*Math.sqrt(r);e=(0,c._)((0,u._)({},e),{mass:1,stiffness:r,damping:i})}else{let n=function(t){let e,n,{duration:r=800,bounce:i=.3,velocity:o=0,mass:s=1}=t;pj(r<=pU(10),"Spring duration must be 10 seconds or less");let a=1-i;a=mO(.05,1,a),r=mO(.01,10,r/1e3),a<1?(e=t=>{let e=t*a,n=e*r;return .001-(e-o)/g3(t,a)*Math.exp(-n)},n=t=>{let n=t*a*r,i=Math.pow(a,2)*Math.pow(t,2)*r,s=Math.exp(-n),u=g3(Math.pow(t,2),a);return(n*o+o-i)*s*(-e(t)+.001>0?-1:1)/u}):(e=t=>-.001+Math.exp(-t*r)*((t-o)*r+1),n=t=>r*r*(o-t)*Math.exp(-t*r));let u=function(t,e,n){let r=n;for(let n=1;n<12;n++)r-=t(r)/e(r);return r}(e,n,5/r);if(r=pU(r),isNaN(u))return{stiffness:100,damping:10,duration:r};{let t=Math.pow(u,2)*s;return{stiffness:t,damping:2*a*Math.sqrt(s*t),duration:r}}}(t);(e=(0,c._)((0,u._)({},e,n),{mass:1})).isResolvedFromDuration=!0}return e}((0,c._)((0,u._)({},r),{velocity:-((r.velocity||0)/1e3)})),y=m||0,v=f/(2*Math.sqrt(h*d)),b=a-s,w=Math.sqrt(h/d)/1e3,x=5>Math.abs(b);if(i||(i=x?gZ:g0),o||(o=x?g1:g2),v<1){let e=g3(w,v);t=t=>a-Math.exp(-v*w*t)*((y+v*w*b)/e*Math.sin(e*t)+b*Math.cos(e*t))}else if(1===v)t=t=>a-Math.exp(-w*t)*(b+(y+w*b)*t);else{let e=w*Math.sqrt(v*v-1);t=t=>{let n=Math.exp(-v*w*t),r=Math.min(e*t,300);return a-n*((y+v*w*b)*Math.sinh(r)+e*b*Math.cosh(r))/e}}let E={calculatedDuration:g&&p||null,next:e=>{let n=t(e);if(g)l.done=e>=p;else{let r=0;v<1&&(r=0===e?pU(y):gJ(t,e,n));let s=Math.abs(a-n)<=o;l.done=Math.abs(r)<=i&&s}return l.value=l.done?a:n,l},toString:()=>{let t=Math.min(pW(E),2e4),e=p$(e=>E.next(t*e).value,t,30);return t+"ms "+e}};return E}function g9(t){let e,n,{keyframes:r,velocity:i=0,power:o=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:u=500,modifyTarget:c,min:l,max:h,restDelta:f=.5,restSpeed:d}=t,p=r[0],m={done:!1,value:p},g=o*i,y=p+g,v=void 0===c?y:c(y);v!==y&&(g=v-p);let b=t=>-g*Math.exp(-t/s),w=t=>v+b(t),x=t=>{let e=b(t),n=w(t);m.done=Math.abs(e)<=f,m.value=m.done?v:n},E=t=>{let r;if(r=m.value,void 0!==l&&r<l||void 0!==h&&r>h){var i;e=t,n=g8({keyframes:[m.value,(i=m.value,void 0===l?h:void 0===h||Math.abs(l-i)<Math.abs(h-i)?l:h)],velocity:gJ(w,t,m.value),damping:a,stiffness:u,restDelta:f,restSpeed:d})}};return E(0),{calculatedDuration:null,next:t=>{let r=!1;return(n||void 0!==e||(r=!0,x(t),E(t)),void 0!==e&&t>=e)?n.next(t-e):(r||x(t),m)}}}let g7=mE(.42,0,1,1),yt=mE(0,0,.58,1),ye=mE(.42,0,.58,1),yn={linear:pj,easeIn:g7,easeInOut:ye,easeOut:yt,circIn:mC,circInOut:mD,circOut:mP,backIn:mI,backInOut:mA,backOut:m_,anticipate:mk},yr=t=>{if(pQ(t)){pj(4===t.length,"Cubic bezier arrays must contain four numerical values.");let[e,n,r,i]=t;return mE(e,n,r,i)}return"string"==typeof t?(pj(void 0!==yn[t],"Invalid easing type '".concat(t,"'")),yn[t]):t};function yi(t){var e;let n,{duration:r=300,keyframes:i,times:o,ease:s="easeInOut"}=t,a=Array.isArray(s)&&"number"!=typeof s[0]?s.map(yr):yr(s),u={done:!1,value:i[0]},c=function(t,e){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t.length;if(pj(o===e.length,"Both input and output ranges must be the same length"),1===o)return()=>e[0];if(2===o&&e[0]===e[1])return()=>e[1];let s=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());let a=function(t,e,n){let r=[],i=n||g$,o=t.length-1;for(let n=0;n<o;n++){let o=i(t[n],t[n+1]);e&&(o=gK(Array.isArray(e)?e[n]||pj:e,o)),r.push(o)}return r}(e,r,i),u=a.length,c=n=>{if(s&&n<t[0])return e[0];let r=0;if(u>1)for(;r<t.length-2&&!(n<t[r+1]);r++);let i=pV(t[r],t[r+1],n);return a[r](i)};return n?e=>c(mO(t[0],t[o-1],e)):c}((e=o&&o.length===i.length?o:(!function(t,e){let n=t[t.length-1];for(let r=1;r<=e;r++){let i=pV(0,e,r);t.push(gL(n,1,i))}}(n=[0],i.length-1),n),e.map(t=>t*r)),i,{ease:Array.isArray(a)?a:i.map(()=>a||ye).splice(0,i.length-1)});return{calculatedDuration:r,next:t=>(u.value=c(t),u.done=t>=r,u)}}let yo=t=>{let e=e=>{let{timestamp:n}=e;return t(n)};return{start:()=>ms.update(e,!0),stop:()=>ma(e),now:()=>mu.isProcessing?mu.timestamp:mh.now()}},ys={decay:g9,inertia:g9,tween:yi,keyframes:yi,spring:g8},ya=t=>t/100;class yu extends gM{flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){let e,n,{type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s,velocity:a=0}=this.options,l=pG(r)?r:ys[r]||yi;l!==yi&&"number"!=typeof t[0]&&(e=gK(ya,g$(t[0],t[1])),t=[0,100]);let h=l((0,c._)((0,u._)({},this.options),{keyframes:t}));"mirror"===s&&(n=l((0,c._)((0,u._)({},this.options),{keyframes:[...t].reverse(),velocity:-a}))),null===h.calculatedDuration&&(h.calculatedDuration=pW(h));let{calculatedDuration:f}=h,d=f+o;return{generator:h,mirroredGenerator:n,mapPercentToKeyframes:e,calculatedDuration:f,resolvedDuration:d,totalDuration:d*(i+1)-o}}onPostResolved(){let{autoplay:t=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&t?this.state=this.pendingPlayState:this.pause()}tick(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{resolved:n}=this;if(!n){let{keyframes:t}=this.options;return{done:!0,value:t[t.length-1]}}let{finalKeyframe:r,generator:i,mirroredGenerator:o,mapPercentToKeyframes:s,keyframes:a,calculatedDuration:u,totalDuration:c,resolvedDuration:l}=n;if(null===this.startTime)return i.next(0);let{delay:h,repeat:f,repeatType:d,repeatDelay:p,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-c/this.speed,this.startTime)),e?this.currentTime=t:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;let g=this.currentTime-h*(this.speed>=0?1:-1),y=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let v=this.currentTime,b=i;if(f){let t=Math.min(this.currentTime,c)/l,e=Math.floor(t),n=t%1;!n&&t>=1&&(n=1),1===n&&e--,(e=Math.min(e,f+1))%2&&("reverse"===d?(n=1-n,p&&(n-=p/l)):"mirror"===d&&(b=o)),v=mO(0,1,n)*l}let w=y?{done:!1,value:a[0]}:b.next(v);s&&(w.value=s(w.value));let{done:x}=w;y||null===u||(x=this.speed>=0?this.currentTime>=c:this.currentTime<=0);let E=null===this.holdTime&&("finished"===this.state||"running"===this.state&&x);return E&&void 0!==r&&(w.value=gR(a,this.options,r)),m&&m(w.value),E&&this.finish(),w}get duration(){let{resolved:t}=this;return t?t.calculatedDuration/1e3:0}get time(){return this.currentTime/1e3}set time(t){t=pU(t),this.currentTime=t,null!==this.holdTime||0===this.speed?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){let e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=this.currentTime/1e3)}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;let{driver:t=yo,onPlay:e,startTime:n}=this.options;this.driver||(this.driver=t(t=>this.tick(t))),e&&e();let r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=null!=n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=null!=(t=this.currentTime)?t:0}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";let{onComplete:t}=this.options;t&&t()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();let{onStop:t}=this.options;t&&t()};const{name:e,motionValue:n,element:r,keyframes:i}=this.options,o=(null==r?void 0:r.KeyframeResolver)||gw,s=(t,e)=>this.onKeyframesResolved(t,e);this.resolver=new o(i,s,e,n,r),this.resolver.scheduleResolve()}}let yc=new Set(["opacity","clipPath","filter","transform"]),yl=pF(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),yh={anticipate:mk,backInOut:mA,circInOut:mD};class yf extends gM{initPlayback(t,e){var n;let{duration:r=300,times:i,ease:o,type:s,motionValue:a,name:l,startTime:h}=this.options;if(!a.owner||!a.owner.current)return!1;if("string"==typeof o&&pX()&&o in yh&&(o=yh[o]),pG((n=this.options).type)||"spring"===n.type||!function t(e){return!!("function"==typeof e&&pX()||!e||"string"==typeof e&&(e in pZ||pX())||pQ(e)||Array.isArray(e)&&e.every(t))}(n.ease)){let e=this.options,{onComplete:n,onUpdate:a,motionValue:l,element:h}=e,f=hN(e,["onComplete","onUpdate","motionValue","element"]),d=function(t,e){let n=new yu((0,c._)((0,u._)({},e),{keyframes:t,repeat:0,delay:0,isGenerator:!0})),r={done:!1,value:t[0]},i=[],o=0;for(;!r.done&&o<2e4;)i.push((r=n.sample(o)).value),o+=10;return{times:void 0,keyframes:i,duration:o-10,ease:"linear"}}(t,f);1===(t=d.keyframes).length&&(t[1]=t[0]),r=d.duration,i=d.times,o=d.ease,s="keyframes"}let f=function(t,e,n){let{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:a="easeInOut",times:u}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c={[e]:n};u&&(c.offset=u);let l=function t(e,n){if(e)return"function"==typeof e&&pX()?p$(e,n):pQ(e)?pJ(e):Array.isArray(e)?e.map(e=>t(e,n)||pZ.easeOut):pZ[e]}(a,i);return Array.isArray(l)&&(c.easing=l),t.animate(c,{delay:r,duration:i,easing:Array.isArray(l)?"linear":l,fill:"both",iterations:o+1,direction:"reverse"===s?"alternate":"normal"})}(a.owner.current,l,t,(0,c._)((0,u._)({},this.options),{duration:r,times:i,ease:o}));return f.startTime=null!=h?h:this.calcStartTime(),this.pendingTimeline?(pH(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{let{onComplete:n}=this.options;a.set(gR(t,this.options,e)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:r,times:i,type:s,ease:o,keyframes:t}}get duration(){let{resolved:t}=this;if(!t)return 0;let{duration:e}=t;return e/1e3}get time(){let{resolved:t}=this;if(!t)return 0;let{animation:e}=t;return(e.currentTime||0)/1e3}set time(t){let{resolved:e}=this;if(!e)return;let{animation:n}=e;n.currentTime=pU(t)}get speed(){let{resolved:t}=this;if(!t)return 1;let{animation:e}=t;return e.playbackRate}set speed(t){let{resolved:e}=this;if(!e)return;let{animation:n}=e;n.playbackRate=t}get state(){let{resolved:t}=this;if(!t)return"idle";let{animation:e}=t;return e.playState}get startTime(){let{resolved:t}=this;if(!t)return null;let{animation:e}=t;return e.startTime}attachTimeline(t){if(this._resolved){let{resolved:e}=this;if(!e)return pj;let{animation:n}=e;pH(n,t)}else this.pendingTimeline=t;return pj}play(){if(this.isStopped)return;let{resolved:t}=this;if(!t)return;let{animation:e}=t;"finished"===e.playState&&this.updateFinishedPromise(),e.play()}pause(){let{resolved:t}=this;if(!t)return;let{animation:e}=t;e.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();let{resolved:t}=this;if(!t)return;let{animation:e,keyframes:n,duration:r,type:i,ease:o,times:s}=t;if("idle"===e.playState||"finished"===e.playState)return;if(this.time){let t=this.options,{motionValue:e,onUpdate:a,onComplete:l,element:h}=t,f=hN(t,["motionValue","onUpdate","onComplete","element"]),d=new yu((0,c._)((0,u._)({},f),{keyframes:n,duration:r,type:i,ease:o,times:s,isGenerator:!0})),p=pU(this.time);e.setWithVelocity(d.sample(p-10).value,d.sample(p).value,10)}let{onStop:a}=this.options;a&&a(),this.cancel()}complete(){let{resolved:t}=this;t&&t.animation.finish()}cancel(){let{resolved:t}=this;t&&t.animation.cancel()}static supports(t){let{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:o,type:s}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;let{onUpdate:a,transformTemplate:u}=e.owner.getProps();return yl()&&n&&yc.has(n)&&!a&&!u&&!r&&"mirror"!==i&&0!==o&&"inertia"!==s}constructor(t){super(t);const{name:e,motionValue:n,element:r,keyframes:i}=this.options;this.resolver=new gD(i,(t,e)=>this.onKeyframesResolved(t,e),e,n,r),this.resolver.scheduleResolve()}}let yd={type:"spring",stiffness:500,damping:25,restSpeed:10},yp={type:"keyframes",duration:.8},ym={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yg=function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return s=>{let a=pK(r,t)||{},l=a.delay||r.delay||0,{elapsed:h=0}=r;h-=pU(l);let f=(0,c._)((0,u._)({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity()},a),{delay:-h,onUpdate:t=>{e.set(t),a.onUpdate&&a.onUpdate(t)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:o?void 0:i});!function(t){let{when:e,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:o,repeat:s,repeatType:a,repeatDelay:u,from:c,elapsed:l}=t;return!!Object.keys(hN(t,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"])).length}(a)&&(f=(0,u._)({},f,((t,e)=>{let{keyframes:n}=e;return n.length>2?yp:me.has(t)?t.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:yd:ym})(t,f))),f.duration&&(f.duration=pU(f.duration)),f.repeatDelay&&(f.repeatDelay=pU(f.repeatDelay)),void 0!==f.from&&(f.keyframes[0]=f.from);let d=!1;if(!1!==f.type&&(0!==f.duration||f.repeatDelay)||(f.duration=0,0===f.delay&&(d=!0)),d&&!o&&void 0!==e.get()){let t=gR(f.keyframes,a);if(void 0!==t)return ms.update(()=>{f.onUpdate(t),f.onComplete()}),new pz([])}return!o&&yf.supports(f)?new yf(f):new yu(f)}};function yy(t,e){var n;let{delay:r=0,transitionOverride:i,type:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:s=t.getDefaultTransition(),transitionEnd:a}=e,c=hN(e,["transition","transitionEnd"]);i&&(s=i);let l=[],h=o&&t.animationState&&t.animationState.getState()[o];for(let e in c){let i=t.getValue(e,null!=(n=t.latestValues[e])?n:null),o=c[e];if(void 0===o||h&&function(t,e){let{protectedKeys:n,needsAnimating:r}=t,i=n.hasOwnProperty(e)&&!0!==r[e];return r[e]=!1,i}(h,e))continue;let a=(0,u._)({delay:r},pK(s||{},e)),f=!1;if(window.MotionHandoffAnimation){let n=t.props[mw];if(n){let t=window.MotionHandoffAnimation(n,e,ms);null!==t&&(a.startTime=t,f=!0)}}mv(t,e),i.start(yg(e,i,o,t.shouldReduceMotion&&mn.has(e)?{type:!1}:a,t,f));let d=i.animation;d&&l.push(d)}return a&&Promise.all(l).then(()=>{ms.update(()=>{a&&function(t,e){let n=pR(t,e)||{},{transitionEnd:r={},transition:i={}}=n,o=hN(n,["transitionEnd","transition"]);for(let e in o=(0,u._)({},o,r)){let n=mr(o[e]);t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,mg(n))}}(t,a)})}),l}function yv(t,e){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=pR(t,e,"exit"===r.type?null==(n=t.presenceContext)?void 0:n.custom:void 0),{transition:o=t.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(o=r.transitionOverride);let s=i?()=>Promise.all(yy(t,i,r)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,{delayChildren:i=0,staggerChildren:s,staggerDirection:a}=o;return function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5?arguments[5]:void 0,s=[],a=(t.variantChildren.size-1)*r,l=1===i?function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t*r}:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return a-t*r};return Array.from(t.variantChildren).sort(yb).forEach((t,r)=>{t.notify("AnimationStart",e),s.push(yv(t,e,(0,c._)((0,u._)({},o),{delay:n+l(r)})).then(()=>t.notify("AnimationComplete",e)))}),Promise.all(s)}(t,e,i+n,s,a,r)}:()=>Promise.resolve(),{when:l}=o;if(!l)return Promise.all([s(),a(r.delay)]);{let[t,e]="beforeChildren"===l?[s,a]:[a,s];return t().then(()=>e())}}function yb(t,e){return t.sortNodePosition(e)}let yw=pL.length,yx=[...pM].reverse(),yE=pM.length;function yT(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yS(){return{animate:yT(!0),whileInView:yT(),whileHover:yT(),whileTap:yT(),whileDrag:yT(),whileFocus:yT(),exit:yT()}}class y_{update(){}constructor(t){this.isMounted=!1,this.node=t}}let yI=0;function yA(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function yk(t){return{point:{x:t.pageX,y:t.pageY}}}function yC(t,e,n,r){return yA(t,e,t=>p4(t)&&n(t,yk(t)),r)}let yP=(t,e)=>Math.abs(t-e);class yD{updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ma(this.updatePoint)}constructor(t,e,{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{var t,e;if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let n=yR(this.lastMoveEventInfo,this.history),r=null!==this.startEvent,i=(t=n.offset,e={x:0,y:0},Math.sqrt(yP(t.x,e.x)**2+yP(t.y,e.y)**2)>=3);if(!r&&!i)return;let{point:o}=n,{timestamp:s}=mu;this.history.push((0,c._)((0,u._)({},o),{timestamp:s}));let{onStart:a,onMove:l}=this.handlers;r||(a&&a(this.lastMoveEvent,n),this.startEvent=this.lastMoveEvent),l&&l(this.lastMoveEvent,n)},this.handlePointerMove=(t,e)=>{this.lastMoveEvent=t,this.lastMoveEventInfo=yN(e,this.transformPagePoint),ms.update(this.updatePoint,!0)},this.handlePointerUp=(t,e)=>{this.end();let{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let o=yR("pointercancel"===t.type?this.lastMoveEventInfo:yN(e,this.transformPagePoint),this.history);this.startEvent&&n&&n(t,o),r&&r(t,o)},!p4(t))return;this.dragSnapToOrigin=i,this.handlers=e,this.transformPagePoint=n,this.contextWindow=r||window;const o=yN(yk(t),this.transformPagePoint),{point:s}=o,{timestamp:a}=mu;this.history=[(0,c._)((0,u._)({},s),{timestamp:a})];const{onSessionStart:l}=e;l&&l(t,yR(o,this.history)),this.removeListeners=gK(yC(this.contextWindow,"pointermove",this.handlePointerMove),yC(this.contextWindow,"pointerup",this.handlePointerUp),yC(this.contextWindow,"pointercancel",this.handlePointerUp))}}function yN(t,e){return e?{point:e(t.point)}:t}function yO(t,e){return{x:t.x-e.x,y:t.y-e.y}}function yR(t,e){let{point:n}=t;return{point:n,delta:yO(n,yM(e)),offset:yO(n,e[0]),velocity:function(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null,i=yM(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>pU(.1)));)n--;if(!r)return{x:0,y:0};let o=(i.timestamp-r.timestamp)/1e3;if(0===o)return{x:0,y:0};let s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}(e,.1)}}function yM(t){return t[t.length-1]}function yL(t){return t&&"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}function yj(t){return t.max-t.min}function yF(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;t.origin=r,t.originPoint=gL(e.min,e.max,t.origin),t.scale=yj(n)/yj(e),t.translate=gL(n.min,n.max,t.origin)-t.originPoint,(t.scale>=.9999&&t.scale<=1.0001||isNaN(t.scale))&&(t.scale=1),(t.translate>=-.01&&t.translate<=.01||isNaN(t.translate))&&(t.translate=0)}function yV(t,e,n,r){yF(t.x,e.x,n.x,r?r.originX:void 0),yF(t.y,e.y,n.y,r?r.originY:void 0)}function yU(t,e,n){t.min=n.min+e.min,t.max=t.min+yj(e)}function yB(t,e,n){t.min=e.min-n.min,t.max=t.min+yj(e)}function yq(t,e,n){yB(t.x,e.x,n.x),yB(t.y,e.y,n.y)}function yz(t,e,n){return{min:void 0!==e?t.min+e:void 0,max:void 0!==n?t.max+n-(t.max-t.min):void 0}}function yK(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function yW(t,e,n){return{min:yG(t,e),max:yG(t,n)}}function yG(t,e){return"number"==typeof t?t:t[e]||0}let yH=()=>({translate:0,scale:1,origin:0,originPoint:0}),yQ=()=>({x:yH(),y:yH()}),yY=()=>({min:0,max:0}),yX=()=>({x:yY(),y:yY()});function y$(t){return[t("x"),t("y")]}function yJ(t){let{top:e,left:n,right:r,bottom:i}=t;return{x:{min:n,max:r},y:{min:e,max:i}}}function yZ(t){return void 0===t||1===t}function y0(t){let{scale:e,scaleX:n,scaleY:r}=t;return!yZ(e)||!yZ(n)||!yZ(r)}function y1(t){return y0(t)||y2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function y2(t){var e,n;return(e=t.x)&&"0%"!==e||(n=t.y)&&"0%"!==n}function y3(t,e,n,r,i){return void 0!==i&&(t=r+i*(t-r)),r+n*(t-r)+e}function y4(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;t.min=y3(t.min,e,n,r,i),t.max=y3(t.max,e,n,r,i)}function y5(t,e){let{x:n,y:r}=e;y4(t.x,n.translate,n.scale,n.originPoint),y4(t.y,r.translate,r.scale,r.originPoint)}function y6(t,e){t.min=t.min+e,t.max=t.max+e}function y8(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,o=gL(t.min,t.max,i);y4(t,e,n,o,r)}function y9(t,e){y8(t.x,e.x,e.scaleX,e.scale,e.originX),y8(t.y,e.y,e.scaleY,e.scale,e.originY)}function y7(t,e){return yJ(function(t,e){if(!e)return t;let n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(t.getBoundingClientRect(),e))}let vt=t=>{let{current:e}=t;return e?e.ownerDocument.defaultView:null},ve=new WeakMap;class vn{start(t){let{snapToCursor:e=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;let r=t=>{let{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(yk(t).point)},i=(t,e)=>{let{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock=function(t){if("x"===t||"y"===t)if(p0[t])return null;else return p0[t]=!0,()=>{p0[t]=!1};return p0.x||p0.y?null:(p0.x=p0.y=!0,()=>{p0.x=p0.y=!1})}(n),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),y$(t=>{let e=this.getAxisMotionValue(t).get()||0;if(mH.test(e)){let{projection:n}=this.visualElement;if(n&&n.layout){let r=n.layout.layoutBox[t];r&&(e=yj(r)*(parseFloat(e)/100))}}this.originPoint[t]=e}),i&&ms.postRender(()=>i(t,e)),mv(this.visualElement,"transform");let{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},o=(t,e)=>{let{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:o}=this.getProps();if(!n&&!this.openDragLock)return;let{offset:s}=e;if(r&&null===this.currentDirection){this.currentDirection=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}(s),null!==this.currentDirection&&i&&i(this.currentDirection);return}this.updateAxis("x",e.point,s),this.updateAxis("y",e.point,s),this.visualElement.render(),o&&o(t,e)},s=(t,e)=>this.stop(t,e),a=()=>y$(t=>{var e;return"paused"===this.getAnimationState(t)&&(null==(e=this.getAxisMotionValue(t).animation)?void 0:e.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new yD(t,{onSessionStart:r,onStart:i,onMove:o,onSessionEnd:s,resumeAnimation:a},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:vt(this.visualElement)})}stop(t,e){let n=this.isDragging;if(this.cancel(),!n)return;let{velocity:r}=e;this.startAnimation(r);let{onDragEnd:i}=this.getProps();i&&ms.postRender(()=>i(t,e))}cancel(){this.isDragging=!1;let{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,n){let{drag:r}=this.getProps();if(!n||!vr(t,r,this.currentDirection))return;let i=this.getAxisMotionValue(t),o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=function(t,e,n){let{min:r,max:i}=e;return void 0!==r&&t<r?t=n?gL(r,t,n.min):Math.max(t,r):void 0!==i&&t>i&&(t=n?gL(i,t,n.max):Math.min(t,i)),t}(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;let{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null==(t=this.visualElement.projection)?void 0:t.layout,i=this.constraints;e&&yL(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=function(t,e){let{top:n,left:r,bottom:i,right:o}=e;return{x:yz(t.x,r,o),y:yz(t.y,n,i)}}(r.layoutBox,e):this.constraints=!1,this.elastic=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.35;return!1===t?t=0:!0===t&&(t=.35),{x:yW(t,"left","right"),y:yW(t,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&y$(t=>{var e,n;let i;!1!==this.constraints&&this.getAxisMotionValue(t)&&(this.constraints[t]=(e=r.layoutBox[t],n=this.constraints[t],i={},void 0!==n.min&&(i.min=n.min-e.min),void 0!==n.max&&(i.max=n.max-e.min),i))})}resolveRefConstraints(){var t;let{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!yL(e))return!1;let r=e.current;pj(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");let{projection:i}=this.visualElement;if(!i||!i.layout)return!1;let o=function(t,e,n){let r=y7(t,n),{scroll:i}=e;return i&&(y6(r.x,i.offset.x),y6(r.y,i.offset.y)),r}(r,i.root,this.visualElement.getTransformPagePoint()),s=(t=i.layout.layoutBox,{x:yK(t.x,o.x),y:yK(t.y,o.y)});if(n){let t=n(function(t){let{x:e,y:n}=t;return{top:n.min,right:e.max,bottom:n.max,left:e.min}}(s));this.hasMutatedConstraints=!!t,t&&(s=yJ(t))}return s}startAnimation(t){let{drag:e,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),a=this.constraints||{};return Promise.all(y$(s=>{if(!vr(s,e,this.currentDirection))return;let c=a&&a[s]||{};o&&(c={min:0,max:0});let l=(0,u._)({type:"inertia",velocity:n?t[s]:0,bounceStiffness:r?200:1e6,bounceDamping:r?40:1e7,timeConstant:750,restDelta:1,restSpeed:10},i,c);return this.startAxisValueAnimation(s,l)})).then(s)}startAxisValueAnimation(t,e){let n=this.getAxisMotionValue(t);return mv(this.visualElement,t),n.start(yg(t,n,0,e,this.visualElement,!1))}stopAnimation(){y$(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){y$(t=>{var e;return null==(e=this.getAxisMotionValue(t).animation)?void 0:e.pause()})}getAnimationState(t){var e;return null==(e=this.getAxisMotionValue(t).animation)?void 0:e.state}getAxisMotionValue(t){let e="_drag".concat(t.toUpperCase()),n=this.visualElement.getProps();return n[e]||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){y$(e=>{let{drag:n}=this.getProps();if(!vr(e,n,this.currentDirection))return;let{projection:r}=this.visualElement,i=this.getAxisMotionValue(e);if(r&&r.layout){let{min:n,max:o}=r.layout.layoutBox[e];i.set(t[e]-gL(n,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:t,dragConstraints:e}=this.getProps(),{projection:n}=this.visualElement;if(!yL(e)||!n||!this.constraints)return;this.stopAnimation();let r={x:0,y:0};y$(t=>{let e=this.getAxisMotionValue(t);if(e&&!1!==this.constraints){var n,i;let o,s,a,u=e.get();r[t]=(n={min:u,max:u},i=this.constraints[t],o=.5,s=yj(n),(a=yj(i))>s?o=pV(i.min,i.max-s,n.min):s>a&&(o=pV(n.min,n.max-a,i.min)),mO(0,1,o))}});let{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),y$(e=>{if(!vr(e,t,null))return;let n=this.getAxisMotionValue(e),{min:i,max:o}=this.constraints[e];n.set(gL(i,o,r[e]))})}addListeners(){if(!this.visualElement.current)return;ve.set(this.visualElement,this);let t=yC(this.visualElement.current,"pointerdown",t=>{let{drag:e,dragListener:n=!0}=this.getProps();e&&n&&this.start(t)}),e=()=>{let{dragConstraints:t}=this.getProps();yL(t)&&t.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",e);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),ms.read(e);let i=yA(window,"resize",()=>this.scalePositionWithinConstraints()),o=n.addEventListener("didUpdate",t=>{let{delta:e,hasLayoutChanged:n}=t;this.isDragging&&n&&(y$(t=>{let n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())});return()=>{i(),t(),r(),o&&o()}}getProps(){let t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=.35,dragMomentum:s=!0}=t;return(0,c._)((0,u._)({},t),{drag:e,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:s})}constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=yX(),this.visualElement=t}}function vr(t,e,n){return(!0===e||e===t)&&(null===n||n===t)}let vi=t=>(e,n)=>{t&&ms.postRender(()=>t(e,n))};var vo=l;let vs=(0,l.createContext)(null),va=(0,l.createContext)({}),vu=(0,l.createContext)({}),vc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vl(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}let vh={correct:(t,e)=>{if(!e.target)return t;if("string"==typeof t)if(!mQ.test(t))return t;else t=parseFloat(t);let n=vl(t,e.target.x),r=vl(t,e.target.y);return"".concat(n,"% ").concat(r,"%")}},vf={},{schedule:vd,cancel:vp}=mo(queueMicrotask,!1);class vm extends vo.Component{componentDidMount(){let{visualElement:t,layoutGroup:e,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=t;Object.assign(vf,vy),i&&(e.group&&e.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions((0,c._)((0,u._)({},i.options),{onExitComplete:()=>this.safeToRemove()}))),vc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){let{layoutDependency:e,visualElement:n,drag:r,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,r||t.layoutDependency!==e||void 0===e?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||ms.postRender(()=>{let t=o.getStack();t&&t.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),vd.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:t,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){let{safeToRemove:t}=this.props;t&&t()}render(){return null}}function vg(t){let[e,n]=function(){let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0],e=(0,l.useContext)(vs);if(null===e)return[!0,null];let{isPresent:n,onExitComplete:r,register:i}=e,o=(0,l.useId)();(0,l.useEffect)(()=>{t&&i(o)},[t]);let s=(0,l.useCallback)(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,s]:[!0]}(),r=(0,vo.useContext)(va);return(0,a.jsx)(vm,(0,c._)((0,u._)({},t),{layoutGroup:r,switchLayoutGroup:(0,vo.useContext)(vu),isPresent:e,safeToRemove:n}))}let vy={borderRadius:(0,c._)((0,u._)({},vh),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:vh,borderTopRightRadius:vh,borderBottomLeftRadius:vh,borderBottomRightRadius:vh,boxShadow:{correct:(t,e)=>{let{treeScale:n,projectionDelta:r}=e,i=m9.parse(t);if(i.length>5)return t;let o=m9.createTransformer(t),s=+("number"!=typeof i[0]),a=r.x.scale*n.x,u=r.y.scale*n.y;i[0+s]/=a,i[1+s]/=u;let c=gL(a,u,.5);return"number"==typeof i[2+s]&&(i[2+s]/=c),"number"==typeof i[3+s]&&(i[3+s]/=c),o(i)}}},vv=(t,e)=>t.depth-e.depth;class vb{add(t){mf(this.children,t),this.isDirty=!0}remove(t){md(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(vv),this.isDirty=!1,this.children.forEach(t)}constructor(){this.children=[],this.isDirty=!1}}function vw(t){let e=my(t)?t.get():t;return e&&"object"==typeof e&&e.mix&&e.toValue?e.toValue():e}let vx=["TopLeft","TopRight","BottomLeft","BottomRight"],vE=vx.length,vT=t=>"string"==typeof t?parseFloat(t):t,vS=t=>"number"==typeof t||mQ.test(t);function v_(t,e){return void 0!==t[e]?t[e]:t.borderRadius}let vI=vk(0,.5,mP),vA=vk(.5,.95,pj);function vk(t,e,n){return r=>r<t?0:r>e?1:n(pV(t,e,r))}function vC(t,e){t.min=e.min,t.max=e.max}function vP(t,e){vC(t.x,e.x),vC(t.y,e.y)}function vD(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function vN(t,e,n,r,i){return t-=e,t=r+1/n*(t-r),void 0!==i&&(t=r+1/i*(t-r)),t}function vO(t,e,n,r,i){let[o,s,a]=n;!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:t;if(mH.test(e)&&(e=parseFloat(e),e=gL(s.min,s.max,e/100)-s.min),"number"!=typeof e)return;let a=gL(o.min,o.max,r);t===o&&(a-=e),t.min=vN(t.min,e,n,a,i),t.max=vN(t.max,e,n,a,i)}(t,e[o],e[s],e[a],e.scale,r,i)}let vR=["x","scaleX","originX"],vM=["y","scaleY","originY"];function vL(t,e,n,r){vO(t.x,e,vR,n?n.x:void 0,r?r.x:void 0),vO(t.y,e,vM,n?n.y:void 0,r?r.y:void 0)}function vj(t){return 0===t.translate&&1===t.scale}function vF(t){return vj(t.x)&&vj(t.y)}function vV(t,e){return t.min===e.min&&t.max===e.max}function vU(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function vB(t,e){return vU(t.x,e.x)&&vU(t.y,e.y)}function vq(t){return yj(t.x)/yj(t.y)}function vz(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class vK{add(t){mf(this.members,t),t.scheduleRender()}remove(t){if(md(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){let t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(t){let e,n=this.members.findIndex(e=>t===e);if(0===n)return!1;for(let t=n;t>=0;t--){let n=this.members[t];if(!1!==n.isPresent){e=n;break}}return!!e&&(this.promote(e),!0)}promote(t,e){let n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,e&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);let{crossfade:r}=t.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{let{options:e,resumingFrom:n}=t;e.onExitComplete&&e.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}constructor(){this.members=[]}}let vW={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},vG="u">typeof window&&void 0!==window.MotionDebug,vH=["","X","Y","Z"],vQ={visibility:"hidden"},vY=0;function vX(t,e,n,r){let{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function v$(t){let{attachResizeListener:e,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:o}=t;return class{addEventListener(t,e){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new mp),this.eventHandlers.get(t).add(e)}notifyListeners(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];let i=this.eventHandlers.get(t);i&&i.notify(...n)}hasListeners(t){return this.eventHandlers.has(t)}mount(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;this.isSVG=t instanceof SVGElement&&"svg"!==t.tagName,this.instance=t;let{layoutId:r,layout:i,visualElement:o}=this.options;if(o&&!o.current&&o.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(i||r)&&(this.isLayoutDirty=!0),e){let n,r=()=>this.root.updateBlockedByResize=!1;e(t,()=>{let t,e;this.root.updateBlockedByResize=!0,n&&n(),t=mh.now(),e=n=>{let{timestamp:i}=n,o=i-t;o>=250&&(ma(e),r(o-250))},ms.read(e,!0),n=()=>ma(e),vc.hasAnimatedSinceResize&&(vc.hasAnimatedSinceResize=!1,this.nodes.forEach(v6))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&o&&(r||i)&&this.addEventListener("didUpdate",t=>{let{delta:e,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=t;if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let s=this.options.transition||o.getDefaultTransition()||bi,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=o.getProps(),h=!this.targetLayout||!vB(this.targetLayout,i)||r,f=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||f||n&&(h||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,f);let t=(0,c._)((0,u._)({},pK(s,"layout")),{onPlay:a,onComplete:l});(o.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else n||v6(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let t=this.getStack();t&&t.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ma(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(v7),this.animationId++)}getTransformTemplate(){let{visualElement:t}=this.options;return t&&t.getProps().transformTemplate}willUpdate(){let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function t(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;let{visualElement:n}=e.options;if(!n)return;let r=n.props[mw];if(window.MotionHasOptimisedAnimation(r,"transform")){let{layout:t,layoutId:n}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",ms,!(t||n))}let{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&t(i)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let t=0;t<this.path.length;t++){let e=this.path[t];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}let{layoutId:e,layout:n}=this.options;if(void 0===e&&!n)return;let r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(v3);return}this.isUpdating||this.nodes.forEach(v4),this.isUpdating=!1,this.nodes.forEach(v5),this.nodes.forEach(vJ),this.nodes.forEach(vZ),this.clearAllSnapshots();let t=mh.now();mu.delta=mO(0,1e3/60,t-mu.timestamp),mu.timestamp=t,mu.isProcessing=!0,mc.update.process(mu),mc.preRender.process(mu),mc.render.process(mu),mu.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(v2),this.sharedNodes.forEach(bt)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ms.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ms.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let t=0;t<this.path.length;t++)this.path[t].updateScroll();let t=this.layout;this.layout=this.measure(!1),this.layoutCorrected=yX(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:e}=this.options;e&&e.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}updateScroll(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",e=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===t&&(e=!1),e){let e=i(this.instance);this.scroll={animationId:this.root.animationId,phase:t,isRoot:e,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:e}}}resetTransform(){if(!o)return;let t=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,e=this.projectionDelta&&!vF(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;t&&(e||y1(this.latestValues)||i)&&(o(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){var t;let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],n=this.measurePageBox(),r=this.removeElementScroll(n);return e&&(r=this.removeTransform(r)),ba((t=r).x),ba(t.y),{animationId:this.root.animationId,measuredBox:n,layoutBox:r,latestValues:{},source:this.id}}measurePageBox(){var t;let{visualElement:e}=this.options;if(!e)return yX();let n=e.measureViewportBox();if(!((null==(t=this.scroll)?void 0:t.wasRoot)||this.path.some(bc))){let{scroll:t}=this.root;t&&(y6(n.x,t.offset.x),y6(n.y,t.offset.y))}return n}removeElementScroll(t){var e;let n=yX();if(vP(n,t),null==(e=this.scroll)?void 0:e.wasRoot)return n;for(let e=0;e<this.path.length;e++){let r=this.path[e],{scroll:i,options:o}=r;r!==this.root&&i&&o.layoutScroll&&(i.wasRoot&&vP(n,t),y6(n.x,i.offset.x),y6(n.y,i.offset.y))}return n}applyTransform(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=yX();vP(n,t);for(let t=0;t<this.path.length;t++){let r=this.path[t];!e&&r.options.layoutScroll&&r.scroll&&r!==r.root&&y9(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),y1(r.latestValues)&&y9(n,r.latestValues)}return y1(this.latestValues)&&y9(n,this.latestValues),n}removeTransform(t){let e=yX();vP(e,t);for(let t=0;t<this.path.length;t++){let n=this.path[t];if(!n.instance||!y1(n.latestValues))continue;y0(n.latestValues)&&n.updateSnapshot();let r=yX();vP(r,n.measurePageBox()),vL(e,n.latestValues,n.snapshot?n.snapshot.layoutBox:void 0,r)}return y1(this.latestValues)&&vL(e,this.latestValues),e}setTargetDelta(t){this.targetDelta=t,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(t){this.options=(0,c._)((0,u._)({},this.options,t),{crossfade:void 0===t.crossfade||t.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mu.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){var t,e,n,r;let i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);let s=!!this.resumingFrom||this!==o;if(!(i||s&&this.isSharedProjectionDirty||this.isProjectionDirty||(null==(t=this.parent)?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:a,layoutId:u}=this.options;if(this.layout&&(a||u)){if(this.resolvedRelativeTargetAt=mu.timestamp,!this.targetDelta&&!this.relativeTarget){let t=this.getClosestProjectingParent();t&&t.layout&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yX(),this.relativeTargetOrigin=yX(),yq(this.relativeTargetOrigin,this.layout.layoutBox,t.layout.layoutBox),vP(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if((this.target||(this.target=yX(),this.targetWithTransforms=yX()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target)?(this.forceRelativeParentToResolveTarget(),e=this.target,n=this.relativeTarget,r=this.relativeParent.target,yU(e.x,n.x,r.x),yU(e.y,n.y,r.y)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vP(this.target,this.layout.layoutBox),y5(this.target,this.targetDelta)):vP(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let t=this.getClosestProjectingParent();t&&!!t.resumingFrom==!!this.resumingFrom&&!t.options.layoutScroll&&t.target&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yX(),this.relativeTargetOrigin=yX(),yq(this.relativeTargetOrigin,this.target,t.target),vP(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}vG&&vW.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||y0(this.parent.latestValues)||y2(this.parent.latestValues)))if(this.parent.isProjecting())return this.parent;else return this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var t;let e=this.getLead(),n=!!this.resumingFrom||this!==e,r=!0;if((this.isProjectionDirty||(null==(t=this.parent)?void 0:t.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===mu.timestamp&&(r=!1),r)return;let{layout:i,layoutId:o}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(i||o))return;vP(this.layoutCorrected,this.layout.layoutBox);let s=this.treeScale.x,a=this.treeScale.y;!function(t,e,n){let r,i,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=n.length;if(s){e.x=e.y=1;for(let a=0;a<s;a++){i=(r=n[a]).projectionDelta;let{visualElement:s}=r.options;(!s||!s.props.style||"contents"!==s.props.style.display)&&(o&&r.options.layoutScroll&&r.scroll&&r!==r.root&&y9(t,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),i&&(e.x*=i.x.scale,e.y*=i.y.scale,y5(t,i)),o&&y1(r.latestValues)&&y9(t,r.latestValues))}e.x<1.0000000000001&&e.x>.999999999999&&(e.x=1),e.y<1.0000000000001&&e.y>.999999999999&&(e.y=1)}}(this.layoutCorrected,this.treeScale,this.path,n),e.layout&&!e.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(e.target=e.layout.layoutBox,e.targetWithTransforms=yX());let{target:u}=e;if(!u){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(vD(this.prevProjectionDelta.x,this.projectionDelta.x),vD(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),yV(this.projectionDelta,this.layoutCorrected,u,this.latestValues),this.treeScale.x===s&&this.treeScale.y===a&&vz(this.projectionDelta.x,this.prevProjectionDelta.x)&&vz(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",u)),vG&&vW.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){var t;let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(null==(t=this.options.visualElement)||t.scheduleRender(),e){let t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=yQ(),this.projectionDelta=yQ(),this.projectionDeltaWithTransform=yQ()}setAnimationOrigin(t){let e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.snapshot,i=r?r.latestValues:{},o=(0,u._)({},this.latestValues),s=yQ();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!n;let a=yX(),c=(r?r.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),h=!l||l.members.length<=1,f=!!(c&&!h&&!0===this.options.crossfade&&!this.path.some(br));this.animationProgress=0,this.mixTargetDelta=n=>{let r=n/1e3;if(be(s.x,t.x,r),be(s.y,t.y,r),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var u,l,d,p,m,g;yq(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),d=this.relativeTarget,p=this.relativeTargetOrigin,m=a,g=r,bn(d.x,p.x,m.x,g),bn(d.y,p.y,m.y,g),e&&(u=this.relativeTarget,l=e,vV(u.x,l.x)&&vV(u.y,l.y))&&(this.isProjectionDirty=!1),e||(e=yX()),vP(e,this.relativeTarget)}c&&(this.animationValues=o,function(t,e,n,r,i,o){i?(t.opacity=gL(0,void 0!==n.opacity?n.opacity:1,vI(r)),t.opacityExit=gL(void 0!==e.opacity?e.opacity:1,0,vA(r))):o&&(t.opacity=gL(void 0!==e.opacity?e.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let i=0;i<vE;i++){let o="border".concat(vx[i],"Radius"),s=v_(e,o),a=v_(n,o);(void 0!==s||void 0!==a)&&(s||(s=0),a||(a=0),0===s||0===a||vS(s)===vS(a)?(t[o]=Math.max(gL(vT(s),vT(a),r),0),(mH.test(a)||mH.test(s))&&(t[o]+="%")):t[o]=a)}(e.rotate||n.rotate)&&(t.rotate=gL(e.rotate||0,n.rotate||0,r))}(o,i,this.latestValues,r,f,h)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=r},this.mixTargetDelta(1e3*!!this.options.layoutRoot)}startAnimation(t){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ma(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ms.update(()=>{var e;let n;vc.hasAnimatedSinceResize=!0,this.currentAnimation=(e=(0,c._)((0,u._)({},t),{onUpdate:e=>{this.mixTargetDelta(e),t.onUpdate&&t.onUpdate(e)},onComplete:()=>{t.onComplete&&t.onComplete(),this.completeAnimation()}}),(n=my(0)?0:mg(0)).start(yg("",n,1e3,e)),n.animation),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let t=this.getStack();t&&t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let t=this.getLead(),{targetWithTransforms:e,target:n,layout:r,latestValues:i}=t;if(e&&n&&r){if(this!==t&&this.layout&&r&&bu(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||yX();let e=yj(this.layout.layoutBox.x);n.x.min=t.target.x.min,n.x.max=n.x.min+e;let r=yj(this.layout.layoutBox.y);n.y.min=t.target.y.min,n.y.max=n.y.min+r}vP(e,n),y9(e,i),yV(this.projectionDeltaWithTransform,this.layoutCorrected,e,i)}}registerSharedNode(t,e){this.sharedNodes.has(t)||this.sharedNodes.set(t,new vK),this.sharedNodes.get(t).add(e);let n=e.options.initialPromotionConfig;e.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(e):void 0})}isLead(){let t=this.getStack();return!t||t.lead===this}getLead(){var t;let{layoutId:e}=this.options;return e&&(null==(t=this.getStack())?void 0:t.lead)||this}getPrevLead(){var t;let{layoutId:e}=this.options;return e?null==(t=this.getStack())?void 0:t.prevLead:void 0}getStack(){let{layoutId:t}=this.options;if(t)return this.root.sharedNodes.get(t)}promote(){let{needsReset:t,transition:e,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.getStack();r&&r.promote(this,n),t&&(this.projectionDelta=void 0,this.needsReset=!0),e&&this.setOptions({transition:e})}relegate(){let t=this.getStack();return!!t&&t.relegate(this)}resetSkewAndRotation(){let{visualElement:t}=this.options;if(!t)return;let e=!1,{latestValues:n}=t;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(e=!0),!e)return;let r={};n.z&&vX("z",t,r,this.animationValues);for(let e=0;e<vH.length;e++)vX("rotate".concat(vH[e]),t,r,this.animationValues),vX("skew".concat(vH[e]),t,r,this.animationValues);for(let e in t.render(),r)t.setStaticValue(e,r[e]),this.animationValues&&(this.animationValues[e]=r[e]);t.scheduleRender()}getProjectionStyles(t){var e,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return vQ;let r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=vw(null==t?void 0:t.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;let o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){let e={};return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=vw(null==t?void 0:t.pointerEvents)||""),this.hasProjected&&!y1(this.latestValues)&&(e.transform=i?i({},""):"none",this.hasProjected=!1),e}let s=o.animationValues||o.latestValues;this.applyTransformsToTarget(),r.transform=function(t,e,n){let r="",i=t.x.translate/e.x,o=t.y.translate/e.y,s=(null==n?void 0:n.z)||0;if((i||o||s)&&(r="translate3d(".concat(i,"px, ").concat(o,"px, ").concat(s,"px) ")),(1!==e.x||1!==e.y)&&(r+="scale(".concat(1/e.x,", ").concat(1/e.y,") ")),n){let{transformPerspective:t,rotate:e,rotateX:i,rotateY:o,skewX:s,skewY:a}=n;t&&(r="perspective(".concat(t,"px) ").concat(r)),e&&(r+="rotate(".concat(e,"deg) ")),i&&(r+="rotateX(".concat(i,"deg) ")),o&&(r+="rotateY(".concat(o,"deg) ")),s&&(r+="skewX(".concat(s,"deg) ")),a&&(r+="skewY(".concat(a,"deg) "))}let a=t.x.scale*e.x,u=t.y.scale*e.y;return(1!==a||1!==u)&&(r+="scale(".concat(a,", ").concat(u,")")),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,s),i&&(r.transform=i(s,r.transform));let{x:a,y:u}=this.projectionDelta;for(let t in r.transformOrigin="".concat(100*a.origin,"% ").concat(100*u.origin,"% 0"),o.animationValues?r.opacity=o===this?null!=(n=null!=(e=s.opacity)?e:this.latestValues.opacity)?n:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:r.opacity=o===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0,vf){if(void 0===s[t])continue;let{correct:e,applyTo:n}=vf[t],i="none"===r.transform?s[t]:e(s[t],o);if(n){let t=n.length;for(let e=0;e<t;e++)r[n[e]]=i}else r[t]=i}return this.options.layoutId&&(r.pointerEvents=o===this?vw(null==t?void 0:t.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(t=>{var e;return null==(e=t.currentAnimation)?void 0:e.stop()}),this.root.nodes.forEach(v3),this.root.sharedNodes.clear()}constructor(t={},e=null==n?void 0:n()){this.id=vY++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,vG&&(vW.totalNodes=vW.resolvedTargetDeltas=vW.recalculatedProjection=0),this.nodes.forEach(v0),this.nodes.forEach(v8),this.nodes.forEach(v9),this.nodes.forEach(v1),vG&&window.MotionDebug.record(vW)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=t,this.root=e?e.root||e:this,this.path=e?[...e.path,e]:[],this.parent=e,this.depth=e?e.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new vb)}}}function vJ(t){t.updateLayout()}function vZ(t){var e;let n=(null==(e=t.resumeFrom)?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){let{layoutBox:e,measuredBox:r}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;"size"===i?y$(t=>{let r=o?n.measuredBox[t]:n.layoutBox[t],i=yj(r);r.min=e[t].min,r.max=r.min+i}):bu(i,n.layoutBox,e)&&y$(r=>{let i=o?n.measuredBox[r]:n.layoutBox[r],s=yj(e[r]);i.max=i.min+s,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[r].max=t.relativeTarget[r].min+s)});let s=yQ();yV(s,e,n.layoutBox);let a=yQ();o?yV(a,t.applyTransform(r,!0),n.measuredBox):yV(a,e,n.layoutBox);let u=!vF(s),c=!1;if(!t.resumeFrom){let r=t.getClosestProjectingParent();if(r&&!r.resumeFrom){let{snapshot:i,layout:o}=r;if(i&&o){let s=yX();yq(s,n.layoutBox,i.layoutBox);let a=yX();yq(a,e,o.layoutBox),vB(s,a)||(c=!0),r.options.layoutRoot&&(t.relativeTarget=a,t.relativeTargetOrigin=s,t.relativeParent=r)}}}t.notifyListeners("didUpdate",{layout:e,snapshot:n,delta:a,layoutDelta:s,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){let{onExitComplete:e}=t.options;e&&e()}t.options.transition=void 0}function v0(t){vG&&vW.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function v1(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function v2(t){t.clearSnapshot()}function v3(t){t.clearMeasurements()}function v4(t){t.isLayoutDirty=!1}function v5(t){let{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function v6(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function v8(t){t.resolveTargetDelta()}function v9(t){t.calcProjection()}function v7(t){t.resetSkewAndRotation()}function bt(t){t.removeLeadSnapshot()}function be(t,e,n){t.translate=gL(e.translate,0,n),t.scale=gL(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function bn(t,e,n,r){t.min=gL(e.min,n.min,r),t.max=gL(e.max,n.max,r)}function br(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}let bi={duration:.45,ease:[.4,0,.1,1]},bo=t=>"u">typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),bs=bo("applewebkit/")&&!bo("chrome/")?Math.round:pj;function ba(t){t.min=bs(t.min),t.max=bs(t.max)}function bu(t,e,n){return"position"===t||"preserve-aspect"===t&&!(.2>=Math.abs(vq(e)-vq(n)))}function bc(t){var e;return t!==t.root&&(null==(e=t.scroll)?void 0:e.wasRoot)}let bl=v$({attachResizeListener:(t,e)=>yA(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bh={current:void 0},bf=v$({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!bh.current){let t=new bl({});t.mount(window),t.setOptions({layoutScroll:!0}),bh.current=t}return bh.current},resetTransform:(t,e)=>{t.style.transform=void 0!==e?e:"none"},checkIsScrollRoot:t=>"fixed"===window.getComputedStyle(t).position});function bd(t,e,n){let{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover","Start"===n);let i=r["onHover"+n];i&&ms.postRender(()=>i(e,yk(e)))}function bp(t,e,n){let{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap","Start"===n);let i=r["onTap"+("End"===n?"":n)];i&&ms.postRender(()=>i(e,yk(e)))}let bm=new WeakMap,bg=new WeakMap,by=t=>{let e=bm.get(t.target);e&&e(t)},bv=t=>{t.forEach(by)},bb={some:0,all:1},bw=(0,l.createContext)({strict:!1}),bx=(0,l.createContext)({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),bE=(0,l.createContext)({});function bT(t){return pk(t.animate)||pL.some(e=>pD(t[e]))}function bS(t){return!!(bT(t)||t.variants)}function b_(t){return Array.isArray(t)?t.join(" "):t}let bI="u">typeof window,bA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bk={};for(let t in bA)bk[t]={isEnabled:e=>bA[t].some(t=>!!e[t])};let bC=Symbol.for("motionComponentSymbol"),bP=bI?l.useLayoutEffect:l.useEffect,bD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bN(t){if("string"!=typeof t||t.includes("-"));else if(bD.indexOf(t)>-1||RegExp("[A-Z]","u").test(t))return!0;return!1}let bO=t=>(e,n)=>{let r,i=(0,l.useContext)(bE),o=(0,l.useContext)(vs),s=()=>(function(t,e,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:o,onUpdate:s}=t,a={latestValues:function(t,e,n,r){let i={},o=r(t,{});for(let t in o)i[t]=vw(o[t]);let{initial:s,animate:a}=t,u=bT(t),c=bS(t);e&&c&&!u&&!1!==t.inherit&&(void 0===s&&(s=e.initial),void 0===a&&(a=e.animate));let l=!!n&&!1===n.initial,h=(l=l||!1===s)?a:s;if(h&&"boolean"!=typeof h&&!pk(h)){let e=Array.isArray(h)?h:[h];for(let n=0;n<e.length;n++){let r=pO(t,e[n]);if(r){let{transitionEnd:t,transition:e}=r,n=hN(r,["transitionEnd","transition"]);for(let t in n){let e=n[t];if(Array.isArray(e)){let t=l?e.length-1:0;e=e[t]}null!==e&&(i[t]=e)}for(let e in t)i[e]=t[e]}}}return i}(e,n,r,i),renderState:o()};return s&&(a.onMount=t=>s((0,u._)({props:e,current:t},a)),a.onUpdate=t=>s(t)),a})(t,e,i,o);return n?s():(null===(r=(0,l.useRef)(null)).current&&(r.current=s()),r.current)},bR=(t,e)=>e&&"number"==typeof t?e.transform(t):t,bM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bL=mt.length;function bj(t,e,n){let{style:r,vars:i,transformOrigin:o}=t,s=!1,a=!1;for(let t in e){let n=e[t];if(me.has(t)){s=!0;continue}if(gT(t)){i[t]=n;continue}{let e=bR(n,gi[t]);t.startsWith("origin")?(a=!0,o[t]=e):r[t]=e}}if(!e.transform&&(s||n?r.transform=function(t,e,n){let r="",i=!0;for(let o=0;o<bL;o++){let s=mt[o],a=t[s];if(void 0===a)continue;let u=!0;if(!(u="number"==typeof a?a===+!!s.startsWith("scale"):0===parseFloat(a))||n){let t=bR(a,gi[s]);if(!u){i=!1;let e=bM[s]||s;r+="".concat(e,"(").concat(t,") ")}n&&(e[s]=t)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}(e,t.transform,n):r.transform&&(r.transform="none")),a){let{originX:t="50%",originY:e="50%",originZ:n=0}=o;r.transformOrigin="".concat(t," ").concat(e," ").concat(n)}}let bF={offset:"stroke-dashoffset",array:"stroke-dasharray"},bV={offset:"strokeDashoffset",array:"strokeDasharray"};function bU(t,e,n){return"string"==typeof t?t:mQ.transform(e+n*t)}function bB(t,e,n,r){let i,o,[s,...a]=[e,n,r],{attrX:u,attrY:c,attrScale:l,originX:h,originY:f,pathLength:d,pathSpacing:p=1,pathOffset:m=0}=s,g=hN(s,["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"]),[y,...v]=a,[b]=v;if(bj(t,g,b),y){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};let{attrs:w,style:x,dimensions:E}=t;w.transform&&(E&&(x.transform=w.transform),delete w.transform),E&&(void 0!==h||void 0!==f||x.transform)&&(i=bU(void 0!==h?h:.5,E.x,E.width),o=bU(void 0!==f?f:.5,E.y,E.height),x.transformOrigin="".concat(i," ").concat(o)),void 0!==u&&(w.x=u),void 0!==c&&(w.y=c),void 0!==l&&(w.scale=l),void 0!==d&&function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4)||void 0===arguments[4]||arguments[4];t.pathLength=1;let o=i?bF:bV;t[o.offset]=mQ.transform(-r);let s=mQ.transform(e),a=mQ.transform(n);t[o.array]="".concat(s," ").concat(a)}(w,d,p,m,!1)}let bq=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),bz=()=>(0,c._)((0,u._)({},bq()),{attrs:{}}),bK=t=>"string"==typeof t&&"svg"===t.toLowerCase();function bW(t,e,n,r){let{style:i,vars:o}=e;for(let e in Object.assign(t.style,i,r&&r.getProjectionStyles(n)),o)t.style.setProperty(e,o[e])}let bG=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function bH(t,e,n,r){for(let n in bW(t,e,void 0,r),e.attrs)t.setAttribute(bG.has(n)?n:mb(n),e.attrs[n])}function bQ(t,e){let{layout:n,layoutId:r}=e;return me.has(t)||t.startsWith("origin")||(n||void 0!==r)&&(!!vf[t]||"opacity"===t)}function bY(t,e,n){var r;let{style:i}=t,o={};for(let s in i)(my(i[s])||e.style&&my(e.style[s])||bQ(s,t)||(null==(r=null==n?void 0:n.getValue(s))?void 0:r.liveStyle)!==void 0)&&(o[s]=i[s]);return o}function bX(t,e,n){let r=bY(t,e,n);for(let n in t)(my(t[n])||my(e[n]))&&(r[-1!==mt.indexOf(n)?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n]=t[n]);return r}let b$=["x","y","width","height","cx","cy","r"],bJ={useVisualState:bO({scrapeMotionValuesFromProps:bX,createRenderState:bz,onUpdate:t=>{let{props:e,prevProps:n,current:r,renderState:i,latestValues:o}=t;if(!r)return;let s=!!e.drag;if(!s){for(let t in o)if(me.has(t)){s=!0;break}}if(!s)return;let a=!n;if(n)for(let t=0;t<b$.length;t++){let r=b$[t];e[r]!==n[r]&&(a=!0)}a&&ms.read(()=>{try{i.dimensions="function"==typeof r.getBBox?r.getBBox():r.getBoundingClientRect()}catch(t){i.dimensions={x:0,y:0,width:0,height:0}}ms.render(()=>{bB(i,o,bK(r.tagName),e.transformTemplate),bH(r,i)})})}})},bZ={useVisualState:bO({scrapeMotionValuesFromProps:bY,createRenderState:bq})};function b0(t,e,n){for(let r in e)my(e[r])||bQ(r,n)||(t[r]=e[r])}let b1=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function b2(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||b1.has(t)}let b3=t=>!b2(t);try{(i=(()=>{let t=Error("Cannot find module '@emotion/is-prop-valid'");throw t.code="MODULE_NOT_FOUND",t})().default)&&(b3=t=>t.startsWith("on")?!b2(t):i(t))}catch(t){}let b4={current:null},b5={current:!1},b6=[...gC,mZ,m9],b8=new WeakMap,b9=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class b7{scrapeMotionValuesFromProps(t,e,n){return{}}mount(t){this.current=t,b8.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,e)=>this.bindToMotionValue(e,t)),b5.current||function(){if(b5.current=!0,bI)if(window.matchMedia){let t=window.matchMedia("(prefers-reduced-motion)"),e=()=>b4.current=t.matches;t.addListener(e),e()}else b4.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||b4.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){for(let t in b8.delete(this.current),this.projection&&this.projection.unmount(),ma(this.notifyUpdate),ma(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[t].clear();for(let t in this.features){let e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){let n;this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();let r=me.has(t),i=e.on("change",e=>{this.latestValues[t]=e,this.props.onUpdate&&ms.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=e.on("renderRequest",this.scheduleRender);window.MotionCheckAppearSync&&(n=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{i(),o(),n&&n(),e.owner&&e.stop()})}sortNodePosition(t){return this.current&&this.sortInstanceNodePosition&&this.type===t.type?this.sortInstanceNodePosition(this.current,t.current):0}updateFeatures(){let t="animation";for(t in bk){let e=bk[t];if(!e)continue;let{isEnabled:n,Feature:r}=e;if(!this.features[t]&&r&&n(this.props)&&(this.features[t]=new r(this)),this.features[t]){let e=this.features[t];e.isMounted?e.update():(e.mount(),e.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):yX()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let e=0;e<b9.length;e++){let n=b9[e];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);let r=t["on"+n];r&&(this.propEventSubscriptions[n]=this.on(n,r))}this.prevMotionValues=function(t,e,n){for(let r in e){let i=e[r],o=n[r];if(my(i))t.addValue(r,i);else if(my(o))t.addValue(r,mg(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){let e=t.getValue(r);!0===e.liveStyle?e.jump(i):e.hasAnimated||e.set(i)}else{let e=t.getStaticValue(r);t.addValue(r,mg(void 0!==e?e:i,{owner:t}))}}for(let r in n)void 0===e[r]&&t.removeValue(r);return e}(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){let e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){let n=this.values.get(t);e!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);let e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return void 0===n&&void 0!==e&&(n=mg(null===e?void 0:e,{owner:this}),this.addValue(t,n)),n}readValue(t,e){var n;let r=void 0===this.latestValues[t]&&this.current?null!=(n=this.getBaseTargetFromProps(this.props,t))?n:this.readValueFromInstance(this.current,t,this.options):this.latestValues[t];if(null!=r){if("string"==typeof r&&(gx(r)||mN(r)))r=parseFloat(r);else{let n;n=r,!b6.find(gk(n))&&m9.test(e)&&(r=ga(t,e))}this.setBaseTarget(t,my(r)?r.get():r)}return my(r)?r.get():r}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;let n,{initial:r}=this.props;if("string"==typeof r||"object"==typeof r){let i=pO(this.props,r,null==(e=this.presenceContext)?void 0:e.custom);i&&(n=i[t])}if(r&&void 0!==n)return n;let i=this.getBaseTargetFromProps(this.props,t);return void 0===i||my(i)?void 0!==this.initialValues[t]&&void 0===n?void 0:this.baseTarget[t]:i}on(t,e){return this.events[t]||(this.events[t]=new mp),this.events[t].add(e)}notify(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.events[t]&&this.events[t].notify(...n)}constructor({parent:t,props:e,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:i,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let t=mh.now();this.renderScheduledAt<t&&(this.renderScheduledAt=t,ms.render(this.render,!1,!0))};const{latestValues:a,renderState:c,onUpdate:l}=o;this.onUpdate=l,this.latestValues=a,this.baseTarget=(0,u._)({},a),this.initialValues=e.initial?(0,u._)({},a):{},this.renderState=c,this.parent=t,this.props=e,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=s,this.blockInitialAnimation=!!i,this.isControllingVariants=bT(e),this.isVariantNode=bS(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const h=this.scrapeMotionValuesFromProps(e,{},this),{willChange:f}=h,d=hN(h,["willChange"]);for(const t in d){const e=d[t];void 0!==a[t]&&my(e)&&e.set(a[t],!1)}}}class wt extends b7{sortInstanceNodePosition(t,e){return 2&t.compareDocumentPosition(e)?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,e){let{vars:n,style:r}=e;delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:t}=this.props;my(t)&&(this.childSubscription=t.on("change",t=>{this.current&&(this.current.textContent="".concat(t))}))}constructor(){super(...arguments),this.KeyframeResolver=gD}}class we extends wt{readValueFromInstance(t,e){if(me.has(e)){let t=gs(e);return t&&t.default||0}{let n=window.getComputedStyle(t),r=(gT(e)?n.getPropertyValue(e):n[e])||0;return"string"==typeof r?r.trim():r}}measureInstanceViewportBox(t,e){let{transformPagePoint:n}=e;return y7(t,n)}build(t,e,n){bj(t,e,n.transformTemplate)}scrapeMotionValuesFromProps(t,e,n){return bY(t,e,n)}constructor(){super(...arguments),this.type="html",this.renderInstance=bW}}class wn extends wt{getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(me.has(e)){let t=gs(e);return t&&t.default||0}return e=bG.has(e)?e:mb(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,n){return bX(t,e,n)}build(t,e,n){bB(t,e,this.isSVGTag,n.transformTemplate)}renderInstance(t,e,n,r){bH(t,e,n,r)}mount(t){this.isSVGTag=bK(t.tagName),super.mount(t)}constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=yX}}let wr=function(t){if("u"<typeof Proxy)return t;let e=new Map;return new Proxy(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t(...n)},{get:(n,r)=>"create"===r?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}((o=(0,u._)({},{animation:{Feature:class extends y_{updateAnimationControlsSubscription(){let{animate:t}=this.node.getProps();pk(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),null==(t=this.unmountControls)||t.call(this)}constructor(t){super(t),t.animationState||(t.animationState=function(t){let e=e=>Promise.all(e.map(e=>{let{animation:n,options:r}=e;return function(t,e){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t.notify("AnimationStart",e),Array.isArray(e))n=Promise.all(e.map(e=>yv(t,e,r)));else if("string"==typeof e)n=yv(t,e,r);else{let i="function"==typeof e?pR(t,e,r.custom):e;n=Promise.all(yy(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}(t,n,r)})),n=yS(),r=!0,i=e=>(n,r)=>{var i;let o=pR(t,r,"exit"===e?null==(i=t.presenceContext)?void 0:i.custom:void 0);if(o){let{transition:t,transitionEnd:e}=o,r=hN(o,["transition","transitionEnd"]);n=(0,u._)({},n,r,e)}return n};function o(o){let{props:s}=t,a=function t(e){if(!e)return;if(!e.isControllingVariants){let n=e.parent&&t(e.parent)||{};return void 0!==e.props.initial&&(n.initial=e.props.initial),n}let n={};for(let t=0;t<yw;t++){let r=pL[t],i=e.props[r];(pD(i)||!1===i)&&(n[r]=i)}return n}(t.parent)||{},c=[],l=new Set,h={},f=1/0;for(let e=0;e<yE;e++){var d,p;let m=yx[e],g=n[m],y=void 0!==s[m]?s[m]:a[m],v=pD(y),b=m===o?g.isActive:null;!1===b&&(f=e);let w=y===a[m]&&y!==s[m]&&v;if(w&&r&&t.manuallyAnimateOnMount&&(w=!1),g.protectedKeys=(0,u._)({},h),!g.isActive&&null===b||!y&&!g.prevProp||pk(y)||"boolean"==typeof y)continue;let x=(d=g.prevProp,"string"==typeof(p=y)?p!==d:!!Array.isArray(p)&&!pP(p,d)),E=x||m===o&&g.isActive&&!w&&v||e>f&&v,T=!1,S=Array.isArray(y)?y:[y],_=S.reduce(i(m),{});!1===b&&(_={});let{prevResolvedValues:I={}}=g,A=(0,u._)({},I,_),k=e=>{E=!0,l.has(e)&&(T=!0,l.delete(e)),g.needsAnimating[e]=!0;let n=t.getValue(e);n&&(n.liveStyle=!1)};for(let t in A){let e=_[t],n=I[t];if(!h.hasOwnProperty(t))(pC(e)&&pC(n)?pP(e,n):e===n)?void 0!==e&&l.has(t)?k(t):g.protectedKeys[t]=!0:null!=e?k(t):l.add(t)}g.prevProp=y,g.prevResolvedValues=_,g.isActive&&(h=(0,u._)({},h,_)),r&&t.blockInitialAnimation&&(E=!1);let C=!(w&&x)||T;E&&C&&c.push(...S.map(t=>({animation:t,options:{type:m}})))}if(l.size){let e={};l.forEach(n=>{let r=t.getBaseTarget(n),i=t.getValue(n);i&&(i.liveStyle=!0),e[n]=null!=r?r:null}),c.push({animation:e})}let m=!!c.length;return r&&(!1===s.initial||s.initial===s.animate)&&!t.manuallyAnimateOnMount&&(m=!1),r=!1,m?e(c):Promise.resolve()}return{animateChanges:o,setActive:function(e,r){var i;if(n[e].isActive===r)return Promise.resolve();null==(i=t.variantChildren)||i.forEach(t=>{var n;return null==(n=t.animationState)?void 0:n.setActive(e,r)}),n[e].isActive=r;let s=o(e);for(let t in n)n[t].protectedKeys={};return s},setAnimateFunction:function(n){e=n(t)},getState:()=>n,reset:()=>{n=yS(),r=!0}}}(t))}}},exit:{Feature:class extends y_{update(){if(!this.node.presenceContext)return;let{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;let r=this.node.animationState.setActive("exit",!t);e&&!t&&r.then(()=>e(this.id))}mount(){let{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}constructor(){super(...arguments),this.id=yI++}}}},{inView:{Feature:class extends y_{startObserver(){var t;let e;this.unmount();let{viewport:n={}}=this.node.getProps(),{root:r,margin:i,amount:o="some",once:s}=n,a={root:r?r.current:void 0,rootMargin:i,threshold:"number"==typeof o?o:bb[o]},c=t=>{let{isIntersecting:e}=t;if(this.isInView===e||(this.isInView=e,s&&!e&&this.hasEnteredView))return;e&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",e);let{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=e?n:r;i&&i(t)};return t=this.node.current,e=function(t){let{root:e}=t,n=hN(t,["root"]),r=e||document;bg.has(r)||bg.set(r,{});let i=bg.get(r),o=JSON.stringify(n);return i[o]||(i[o]=new IntersectionObserver(bv,(0,u._)({root:e},n))),i[o]}(a),bm.set(t,c),e.observe(t),()=>{bm.delete(t),e.unobserve(t)}}mount(){this.startObserver()}update(){if("u"<typeof IntersectionObserver)return;let{props:t,prevProps:e}=this.node;["amount","margin","root"].some(function(t){let{viewport:e={}}=t,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=>e[t]!==n[t]}(t,e))&&this.startObserver()}unmount(){}constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}}},tap:{Feature:class extends y_{mount(){let{current:t}=this.node;t&&(this.unmount=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},[r,i,o]=p1(t,n),s=t=>{let r=t.currentTarget;if(!p7(t)||p6.has(r))return;p6.add(r);let o=e(t),s=(t,e)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",u),p7(t)&&p6.has(r)&&(p6.delete(r),"function"==typeof o&&o(t,{success:e}))},a=t=>{s(t,n.useGlobalTarget||p3(r,t.target))},u=t=>{s(t,!1)};window.addEventListener("pointerup",a,i),window.addEventListener("pointercancel",u,i)};return r.forEach(t=>{p5.has(t.tagName)||-1!==t.tabIndex||null!==t.getAttribute("tabindex")||(t.tabIndex=0),(n.useGlobalTarget?window:t).addEventListener("pointerdown",s,i),t.addEventListener("focus",t=>((t,e)=>{let n=t.currentTarget;if(!n)return;let r=p8(()=>{if(p6.has(n))return;p9(n,"down");let t=p8(()=>{p9(n,"up")});n.addEventListener("keyup",t,e),n.addEventListener("blur",()=>p9(n,"cancel"),e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)})(t,i),i)}),o}(t,t=>(bp(this.node,t,"Start"),(t,e)=>{let{success:n}=e;return bp(this.node,t,n?"End":"Cancel")}),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends y_{onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(e){t=!0}t&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gK(yA(this.node.current,"focus",()=>this.onFocus()),yA(this.node.current,"blur",()=>this.onBlur()))}unmount(){}constructor(){super(...arguments),this.isActive=!1}}},hover:{Feature:class extends y_{mount(){let{current:t}=this.node;t&&(this.unmount=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},[r,i,o]=p1(t,n),s=p2(t=>{let{target:n}=t,r=e(t);if("function"!=typeof r||!n)return;let o=p2(t=>{r(t),n.removeEventListener("pointerleave",o)});n.addEventListener("pointerleave",o,i)});return r.forEach(t=>{t.addEventListener("pointerenter",s,i)}),o}(t,t=>(bd(this.node,t,"Start"),t=>bd(this.node,t,"End"))))}unmount(){}}}},{pan:{Feature:class extends y_{onPointerDown(t){this.session=new yD(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vt(this.node)})}createPanHandlers(){let{onPanSessionStart:t,onPanStart:e,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:vi(t),onStart:vi(e),onMove:n,onEnd:(t,e)=>{delete this.session,r&&ms.postRender(()=>r(t,e))}}}mount(){this.removePointerDownListener=yC(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}constructor(){super(...arguments),this.removePointerDownListener=pj}}},drag:{Feature:class extends y_{mount(){let{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||pj}unmount(){this.removeGroupControls(),this.removeListeners()}constructor(t){super(t),this.removeGroupControls=pj,this.removeListeners=pj,this.controls=new vn(t)}},ProjectionNode:bf,MeasureLayout:vg}},{layout:{ProjectionNode:bf,MeasureLayout:vg}}),s=(t,e)=>bN(t)?new wn(e):new we(e,{allowProjection:t!==l.Fragment}),function(t){let{forwardMotionProps:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1},n=bN(t)?bJ:bZ;return function(t){var e,n;let{preloadedFeatures:r,createVisualElement:i,useRender:o,useVisualState:s,Component:h}=t;function f(t,e){var n;let r,f=(0,c._)((0,u._)({},(0,l.useContext)(bx),t),{layoutId:function(t){let{layoutId:e}=t,n=(0,l.useContext)(va).id;return n&&void 0!==e?n+"-"+e:e}(t)}),{isStatic:d}=f,p=function(t){let{initial:e,animate:n}=function(t,e){if(bT(t)){let{initial:e,animate:n}=t;return{initial:!1===e||pD(e)?e:void 0,animate:pD(n)?n:void 0}}return!1!==t.inherit?e:{}}(t,(0,l.useContext)(bE));return(0,l.useMemo)(()=>({initial:e,animate:n}),[b_(e),b_(n)])}(t),m=s(t,d);if(!d&&bI){(0,l.useContext)(bw).strict;let t=function(t){let{drag:e,layout:n}=bk;if(!e&&!n)return{};let r=(0,u._)({},e,n);return{MeasureLayout:(null==e?void 0:e.isEnabled(t))||(null==n?void 0:n.isEnabled(t))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(f);r=t.MeasureLayout,p.visualElement=function(t,e,n,r,i){var o,s;let{visualElement:a}=(0,l.useContext)(bE),u=(0,l.useContext)(bw),c=(0,l.useContext)(vs),h=(0,l.useContext)(bx).reducedMotion,f=(0,l.useRef)(null);r=r||u.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:!!c&&!1===c.initial,reducedMotionConfig:h}));let d=f.current,p=(0,l.useContext)(vu);d&&!d.projection&&i&&("html"===d.type||"svg"===d.type)&&function(t,e,n,r){let{layoutId:i,layout:o,drag:s,dragConstraints:a,layoutScroll:u,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:function t(e){if(e)return!1!==e.options.allowProjection?e.projection:t(e.parent)}(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!s||a&&yL(a),visualElement:t,animationType:"string"==typeof o?o:"both",initialPromotionConfig:r,layoutScroll:u,layoutRoot:c})}(f.current,n,i,p);let m=(0,l.useRef)(!1);(0,l.useInsertionEffect)(()=>{d&&m.current&&d.update(n,c)});let g=n[mw],y=(0,l.useRef)(!!g&&!(null==(o=window.MotionHandoffIsComplete)?void 0:o.call(window,g))&&(null==(s=window.MotionHasOptimisedAnimation)?void 0:s.call(window,g)));return bP(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),vd.render(d.render),y.current&&d.animationState&&d.animationState.animateChanges())}),(0,l.useEffect)(()=>{d&&(!y.current&&d.animationState&&d.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var t;null==(t=window.MotionHandoffMarkAsComplete)||t.call(window,g)}),y.current=!1))}),d}(h,m,f,i,t.ProjectionNode)}return(0,a.jsxs)(bE.Provider,{value:p,children:[r&&p.visualElement?(0,a.jsx)(r,(0,u._)({visualElement:p.visualElement},f)):null,o(h,t,(n=p.visualElement,(0,l.useCallback)(t=>{t&&m.onMount&&m.onMount(t),n&&(t?n.mount(t):n.unmount()),e&&("function"==typeof e?e(t):yL(e)&&(e.current=t))},[n])),m,d,p.visualElement)]})}r&&function(t){for(let e in t)bk[e]=(0,u._)({},bk[e],t[e])}(r),f.displayName="motion.".concat("string"==typeof h?h:"create(".concat(null!=(n=null!=(e=h.displayName)?e:h.name)?n:"",")"));let d=(0,l.forwardRef)(f);return d[bC]=h,d}((0,c._)((0,u._)({},n),{preloadedFeatures:o,useRender:function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(e,n,r,i,o)=>{let{latestValues:s}=i,a=(bN(e)?function(t,e,n,r){let i=(0,l.useMemo)(()=>{let n=bz();return bB(n,e,bK(r),t.transformTemplate),(0,c._)((0,u._)({},n.attrs),{style:(0,u._)({},n.style)})},[e]);if(t.style){let e={};b0(e,t.style,t),i.style=(0,u._)({},e,i.style)}return i}:function(t,e){let n,r,i={},o=(n=t.style||{},b0(r={},n,t),Object.assign(r,function(t,e){let{transformTemplate:n}=t;return(0,l.useMemo)(()=>{let t=bq();return bj(t,e,n),Object.assign({},t.vars,t.style)},[e])}(t,e)),r);return t.drag&&!1!==t.dragListener&&(i.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=!0===t.drag?"none":"pan-".concat("x"===t.drag?"y":"x")),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=o,i})(n,s,o,e),h=function(t,e,n){let r={};for(let i in t)("values"!==i||"object"!=typeof t.values)&&(b3(i)||!0===n&&b2(i)||!e&&!b2(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}(n,"string"==typeof e,t),f=e!==l.Fragment?(0,c._)((0,u._)({},h,a),{ref:r}):{},{children:d}=n,p=(0,l.useMemo)(()=>my(d)?d.get():d,[d]);return(0,l.createElement)(e,(0,c._)((0,u._)({},f),{children:p}))}}(e),createVisualElement:s,Component:t}))})),wi=l.default.memo(t=>{let{name:e,level:n,certification:r}=t,[i,o]=(0,l.useState)(!1),s=(0,l.useCallback)(()=>o(!0),[]),u=(0,l.useCallback)(()=>o(!1),[]);return(0,a.jsx)(a.Fragment,{children:r?(0,a.jsx)("div",{onMouseEnter:s,onMouseLeave:u,children:(0,a.jsxs)("p",{children:[e," ",n," ",i&&(0,a.jsx)(wr.span,{className:"italic text-sm px-1 xl:text-yellow-300 xl:text-shadow-light xl:pixel-font",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},children:r})]})}):(0,a.jsx)("div",{children:(0,a.jsxs)("p",{children:[e," ",n]})})})}),wo=()=>(0,a.jsx)(a.Fragment,{children:[...[,,,].keys()].map(t=>(0,a.jsx)("div",{children:(0,a.jsx)("p",{className:"min-h-6 w-full skeleton"})},t))}),ws=()=>{let t=(0,l.useContext)(hC).sections.languages,{data:e,isPending:n,error:r}=hk("languages");return(0,a.jsxs)("div",{className:"my-2 xl:pl-8",children:[(0,a.jsx)(hD,{level:2,children:t[pg]}),(0,a.jsx)("div",{className:"xl:pl-1 xl:rounded-md xl:bg-[#020617] xl:m-2 xl:px-2 xl:py-1 xl:w-67.5 flex flex-col gap-y-2",children:e?e.map((t,e)=>(0,a.jsx)(wi,{name:t.name[pg],level:py(t.level[pg]),certification:t.certification},e)):(0,a.jsx)(wo,{})})]})},wa=(0,l.createContext)({externalLink:pu,mail:{prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48L48 64zM0 176L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-208L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"]},location:{prefix:"fas",iconName:"location-dot",icon:[384,512,["map-marker-alt"],"f3c5","M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"]},phone:{prefix:"fas",iconName:"phone-volume",icon:[512,512,["volume-control-phone"],"f2a0","M280 0C408.1 0 512 103.9 512 232c0 13.3-10.7 24-24 24s-24-10.7-24-24c0-101.6-82.4-184-184-184c-13.3 0-24-10.7-24-24s10.7-24 24-24zm8 192a32 32 0 1 1 0 64 32 32 0 1 1 0-64zm-32-72c0-13.3 10.7-24 24-24c75.1 0 136 60.9 136 136c0 13.3-10.7 24-24 24s-24-10.7-24-24c0-48.6-39.4-88-88-88c-13.3 0-24-10.7-24-24zM117.5 1.4c19.4-5.3 39.7 4.6 47.4 23.2l40 96c6.8 16.3 2.1 35.2-11.6 46.3L144 207.3c33.3 70.4 90.3 127.4 160.7 160.7L345 318.7c11.2-13.7 30-18.4 46.3-11.6l96 40c18.6 7.7 28.5 28 23.2 47.4l-24 88C481.8 499.9 466 512 448 512C200.6 512 0 311.4 0 64C0 46 12.1 30.2 29.5 25.4l88-24z"]},github:pl,linkedin:{prefix:"fab",iconName:"linkedin-in",icon:[448,512,[],"f0e1","M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"]},Running:{prefix:"fas",iconName:"person-running",icon:[448,512,[127939,"running"],"f70c","M320 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM125.7 175.5c9.9-9.9 23.4-15.5 37.5-15.5c1.9 0 3.8 .1 5.6 .3L137.6 254c-9.3 28 1.7 58.8 26.8 74.5l86.2 53.9-25.4 88.8c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l28.7-100.4c5.9-20.6-2.6-42.6-20.7-53.9L238 299l30.9-82.4 5.1 12.3C289 264.7 323.9 288 362.7 288l21.3 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-21.3 0c-12.9 0-24.6-7.8-29.5-19.7l-6.3-15c-14.6-35.1-44.1-61.9-80.5-73.1l-48.7-15c-11.1-3.4-22.7-5.2-34.4-5.2c-31 0-60.8 12.3-82.7 34.3L57.4 153.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l23.1-23.1zM91.2 352L32 352c-17.7 0-32 14.3-32 32s14.3 32 32 32l69.6 0c19 0 36.2-11.2 43.9-28.5L157 361.6l-9.5-6c-17.5-10.9-30.5-26.8-37.9-44.9L91.2 352z"]},Travel:{prefix:"fas",iconName:"plane-departure",icon:[640,512,[128747],"f5b0","M381 114.9L186.1 41.8c-16.7-6.2-35.2-5.3-51.1 2.7L89.1 67.4C78 73 77.2 88.5 87.6 95.2l146.9 94.5L136 240 77.8 214.1c-8.7-3.9-18.8-3.7-27.3 .6L18.3 230.8c-9.3 4.7-11.8 16.8-5 24.7l73.1 85.3c6.1 7.1 15 11.2 24.3 11.2l137.7 0c5 0 9.9-1.2 14.3-3.4L535.6 212.2c46.5-23.3 82.5-63.3 100.8-112C645.9 75 627.2 48 600.2 48l-57.4 0c-20.2 0-40.2 4.8-58.2 14L381 114.9zM0 480c0 17.7 14.3 32 32 32l576 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 448c-17.7 0-32 14.3-32 32z"]},Draw:{prefix:"fas",iconName:"paintbrush",icon:[576,512,[128396,"paint-brush"],"f1fc","M339.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L568.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S517.7-4.4 499.1 9.6L262.4 187.2c-24 18-38.2 46.1-38.4 76.1L339.3 367.1zm-19.6 25.4l-116-104.4C143.9 290.3 96 339.6 96 400c0 3.9 .2 7.8 .6 11.6C98.4 429.1 86.4 448 68.8 448L64 448c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"]},Play:{prefix:"fas",iconName:"gamepad",icon:[640,512,[],"f11b","M192 64C86 64 0 150 0 256S86 448 192 448l256 0c106 0 192-86 192-192s-86-192-192-192L192 64zM496 168a40 40 0 1 1 0 80 40 40 0 1 1 0-80zM392 304a40 40 0 1 1 80 0 40 40 0 1 1 -80 0zM168 200c0-13.3 10.7-24 24-24s24 10.7 24 24l0 32 32 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-32 0 0 32c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-32-32 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l32 0 0-32z"]}}),wu=()=>(0,a.jsx)(a.Fragment,{children:[...[,,,,,].keys()].map(t=>(0,a.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,a.jsx)("div",{className:"skeleton-circle size-6"}),(0,a.jsx)("p",{className:"skeleton w-60 h-4"})]},t))}),wc=()=>{let{data:t,isPending:e,error:n}=hk("personal"),r=(0,l.useContext)(hC).sections.role[pg],i=(0,l.useContext)(wa);return(0,a.jsxs)("div",{className:"my-2 xl:pl-8 xl:flex",children:[(0,a.jsxs)("div",{className:"xl:pr-4",children:[(0,a.jsx)(hD,{level:2,children:"Guy Luong"}),(0,a.jsx)(hD,{level:3,children:r})]}),(0,a.jsx)("div",{className:"max-lg:pl-4 my-2 xl:px-4 xl:flex-1 flex flex-col gap-y-1",children:t?t.map((t,e)=>(0,a.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,a.jsx)(pa,{icon:i[t.label]}),t.value&&(0,a.jsx)("p",{children:t.value}),t.link&&(0,a.jsxs)("a",{href:"https://".concat(t.link),target:"_blank",rel:"noreferrer",children:[t.link," ",(0,a.jsx)(pa,{icon:i.externalLink})]})]},e)):(0,a.jsx)(wu,{})})]})};var wl=t.i(57688);let wh={src:t.i(46138).default,width:749,height:205,blurWidth:0,blurHeight:0},wf={src:t.i(50509).default,width:248,height:31,blurWidth:0,blurHeight:0},wd={src:t.i(6718).default,width:180,height:180,blurWidth:0,blurHeight:0},wp={src:t.i(46007).default,width:116,height:111,blurWidth:0,blurHeight:0},wm=t=>{let{position:e}=t;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("circle",{cx:e.x,cy:e.y,r:6,fill:"black"}),(0,a.jsx)("circle",{cx:e.x+1,cy:e.y-6,r:3,fill:"black"}),(0,a.jsx)("circle",{className:"bird-beak",cx:e.x+4,r:1,cy:e.y-5,fill:"gray"})]})},wg=t=>{let{name:e,icon:n,faIcon:r,noname:i=!1}=t,{toggleLight:o}=pf();return(0,a.jsxs)("div",{className:"flex items-center cursor-pointer min-h-11",onClick:()=>o(e),children:[n&&(0,a.jsx)(wl.default,{className:"m-2",unoptimized:!0,src:n,alt:e,width:i?96:32,height:32,"aria-label":"icon for ".concat(n)}),r&&(0,a.jsx)(pa,{icon:r,className:"m-2",size:"2x"}),!i&&(0,a.jsx)("p",{className:"mx-2",children:e})]})},wy=()=>{let{isActiveLight:t}=pf(),{width:e}=(0,b.default)(),n=(0,l.useContext)(hC).sections.skills[pg];return(0,a.jsxs)("div",{className:"my-2 xl:pl-8 relative",children:[(0,a.jsx)(hD,{level:2,children:n}),(0,a.jsxs)(pd.default,{className:"-z-10 translate-y-[0.4rem] absolute",height:700,width:.7*e,minWidth:1280,children:[(0,a.jsx)("line",{x1:-100,y1:14,x2:.7*e,y2:14,stroke:"black",strokeWidth:4}),(0,a.jsx)("line",{x1:630,y1:11,x2:680,y2:11,stroke:"lightgray",strokeWidth:1}),(0,a.jsx)(wm,{position:{x:e>=1920?786:586,y:9}}),(0,a.jsx)(wm,{position:{x:e>=1920?770:570,y:9}}),(0,a.jsx)("line",{x1:-100,y1:26,x2:.7*e,y2:26,stroke:"black",strokeWidth:4}),(0,a.jsx)("line",{x1:610,y1:24,x2:660,y2:24,stroke:"lightgray",strokeWidth:1})]}),(0,a.jsx)("div",{className:"flex items-center text-white flex-wrap",children:[{name:"React",faIcon:pc,color:"cyan"},{name:"Next.JS",icon:wd,color:"gray",nofilter:!0},{name:"Firebase",icon:wh,color:"orange",nofilter:!0,noname:!0},{name:"D3",icon:wp,color:"gray",nofilter:!0},{name:"Tailwind",icon:wf,color:"sky",nofilter:!0,noname:!0}].map((e,n)=>(0,a.jsx)("div",{className:"xl:border-solid xl:rounded xl:mx-1 ".concat(t(e.name)?"xl:bg-".concat(e.color,"-500"):"xl:bg-".concat(e.color,"-950")),children:(0,a.jsx)(wg,{name:e.name,icon:e.icon,faIcon:e.faIcon,noname:e.noname})},n))})]})},wv=()=>(0,a.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,a.jsx)("div",{className:"skeleton-circle size-8"}),(0,a.jsx)("div",{className:"skeleton w-14 h-4"})]}),wb=()=>(0,a.jsx)(a.Fragment,{children:[...[,,,,].keys()].map(t=>(0,a.jsx)(wv,{},t))}),ww=t=>{let{className:e,data:n,onHover:r,onExit:i}=t,o=(0,l.useContext)(wa);return(0,a.jsxs)("div",{className:"flex items-center gap-x-3 ".concat(e),onMouseEnter:r,onMouseLeave:i,children:[(0,a.jsx)(pa,{size:"2x",icon:o[n.id],"aria-label":"icon for ".concat(n.icon)}),(0,a.jsx)("p",{children:n.name[pg]})]})},wx=()=>{let t=(0,l.useContext)(hC).sections.interests,e=(0,l.useContext)(hC).placeholders.interestInfo,[n,r]=(0,l.useState)(""),{data:i,isPending:o,error:s}=hk("interests"),u=()=>r("");return(0,a.jsxs)("div",{className:"my-2 xl:pl-8",children:[(0,a.jsx)(hD,{level:2,children:t[pg]}),(0,a.jsxs)("div",{className:"text-white",children:[(0,a.jsx)("div",{className:"flex flex-wrap items-center my-2",children:i?i.map((t,e)=>(0,a.jsx)(ww,{data:t,className:"p-2",onHover:()=>r(t.info[pg]),onExit:u},e)):(0,a.jsx)(wb,{})}),(0,a.jsx)("div",{className:"xl:pl-3 xl:rounded-md xl:bg-[#020617] xl:m-2 xl:w-145 h-12",children:(0,a.jsx)(wr.p,{className:"".concat(n.length>0?"xl:text-yellow-300 xl:text-shadow-light xl:pixel-font":"italic text-gray-400"),initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:1},children:n.length>0?n:e[pg]})})]})]})},wE=l.default.lazy(()=>t.A(70190)),wT=()=>(0,a.jsx)(a.Fragment,{children:[...[,,,].keys()].map(t=>(0,a.jsxs)("div",{className:"flex flex-col pt-2 gap-1 px-2",children:[(0,a.jsx)(hD,{level:3,className:"skeleton min-w-50 min-h-5"}),(0,a.jsx)(hD,{level:3,className:"skeleton min-w-50 min-h-5"}),(0,a.jsx)("p",{className:"text-sm skeleton min-w-1/3 min-h-4"}),(0,a.jsx)("p",{className:"text-sm skeleton min-w-1/3 min-h-4"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-x-2",children:[...[,,,].keys()].map(t=>(0,a.jsx)("div",{className:"min-w-1/4 min-h-5 p-1 skeleton"},t))})]},t))}),wS=t=>{let{data:e}=t;return(0,a.jsxs)("div",{className:"pt-2 px-2",children:[(0,a.jsx)(hD,{level:3,children:e.degree[pg]}),e.specialty&&(0,a.jsx)(hD,{level:3,children:e.specialty[pg]}),(0,a.jsx)("p",{className:"text-sm",children:e.schoolName}),(0,a.jsx)("p",{className:"text-sm",children:e.years}),(0,a.jsx)("div",{className:"flex flex-wrap",children:e.skills&&e.skills.map((t,e)=>(0,a.jsx)(pp,{name:t},e))})]})},w_=()=>{let{isMobile:t}=(0,b.default)(),e=(0,l.useContext)(hC).sections.education,{data:n,isPending:r,error:i}=hk("education");return(0,a.jsxs)("div",{className:"xl:h-1/2 max-xl:pb-6 xl:flex",children:[!t()&&(0,a.jsx)("div",{className:"translate-x-5 translate-y-10",children:(0,a.jsx)(wE,{className:"bg-green-800 hover:bg-green-600 hover:shadow-green-600 hover:shadow-lg shadow",text:""})}),(0,a.jsxs)("div",{className:"xl:flex-1",children:[(0,a.jsx)("div",{className:"xl:pl-2 xl:trapezoid xl:w-188",children:(0,a.jsx)(hD,{className:"xl:pl-8",level:2,children:e[pg]})}),(0,a.jsx)("div",{className:"xl:bg-slate-800 xl:w-188 xl:h-45 xl:flex xl:flex-wrap xl:pl-8 xl:pb-8 xl:shadow xl:shadow-slate-800",children:n?n.map(t=>(0,a.jsx)(wS,{data:t},t.id)):(0,a.jsx)(wT,{})})]})]})},wI=(t,e,n)=>Math.max(Math.min(n,t),e),wA=()=>{let[t,e]=[650,528];return(0,a.jsx)(a.Fragment,{children:Array.from({length:5},(t,e)=>e).map(n=>(0,a.jsx)(wr.circle,{initial:{cx:t,cy:e,r:3,fillOpacity:1},animate:{cx:t+wI(100*Math.random(),50,150),cy:2*e/3-wI(340*Math.random(),100,170),r:15,fillOpacity:0},transition:{duration:3+wI(Math.floor(5*Math.random()),2,4),repeat:1/0,ease:"easeOut",delay:Math.random()},fill:"gray"},n))})};function wk(){return(0,a.jsx)(pd.default,{className:"-z-10 pl-8 translate-y-2",height:700,width:800,minWidth:1280,children:(0,a.jsxs)("g",{children:[(0,a.jsx)(wm,{position:{x:680,y:139}}),(0,a.jsx)("line",{x1:50,y1:144,x2:50,y2:700,stroke:"black",strokeWidth:15}),(0,a.jsx)("line",{x1:55,y1:144,x2:55,y2:145,stroke:"lightgray",strokeWidth:3}),(0,a.jsx)("line",{x1:245,y1:244,x2:245,y2:700,stroke:"black",strokeWidth:15}),(0,a.jsx)("line",{x1:248,y1:244,x2:248,y2:245,stroke:"lightgray",strokeWidth:7}),(0,a.jsx)("line",{x1:680,y1:144,x2:680,y2:700,stroke:"black",strokeWidth:15}),(0,a.jsx)("line",{x1:683,y1:144,x2:683,y2:145,stroke:"lightgray",strokeWidth:7}),(0,a.jsx)("line",{x1:490,y1:484,x2:490,y2:700,stroke:"black",strokeWidth:15}),(0,a.jsx)("line",{x1:493,y1:484,x2:493,y2:485,stroke:"lightgray",strokeWidth:7}),(0,a.jsx)("line",{x1:650,y1:534,x2:650,y2:700,stroke:"#54647b",strokeWidth:10}),(0,a.jsx)("line",{x1:650,y1:524,x2:650,y2:528,stroke:"#54647b",strokeWidth:10}),(0,a.jsx)("line",{x1:646,y1:528,x2:646,y2:534,stroke:"#54647b",strokeWidth:2}),(0,a.jsx)("line",{x1:654,y1:528,x2:654,y2:534,stroke:"#54647b",strokeWidth:2}),(0,a.jsx)(wA,{})]})})}let wC=l.default.lazy(()=>t.A(50136)),wP=()=>{let{isMobile:t}=(0,b.default)(),e=(0,l.useRef)(null),[n,r]=(0,l.useState)(.65);(0,l.useEffect)(()=>{let t=e.current.getBoundingClientRect(),n=document.getElementById("highlights-root").getBoundingClientRect().height-t.height,i=document.documentElement.scrollHeight-window.innerHeight;i<=0||n<=0||r(Math.max(n/i-.1,.8))},[]);let{style:i}=pA(n),{style:o}=pA(.07),s=(0,l.useContext)(hC).placeholders.goToDesktopPls[pg];return(0,a.jsxs)("div",{ref:e,className:"xl:h-full xl:pt-16",style:t()?{}:(0,u._)({},i),children:[(0,a.jsx)(wk,{}),t()&&(0,a.jsx)("p",{className:"italic py-5",children:s}),(0,a.jsx)(wc,{}),(0,a.jsx)(wy,{}),(0,a.jsxs)("div",{className:"flex space-x-24",children:[(0,a.jsx)(ws,{}),!t()&&(0,a.jsx)(wC,{style:t()?{}:(0,u._)({},o)})]}),(0,a.jsx)(wx,{}),(0,a.jsx)(w_,{})]})},wD=Array.from({length:30},()=>({x:Math.floor(Math.random()*window.innerWidth*.9),y:Math.floor(Math.random()*window.innerHeight*.7),radius:Math.floor(4*Math.random())}));function wN(){let{width:t,height:e}=(0,b.default)();return(0,a.jsxs)(pd.default,{className:"z-0",width:.9*t,height:.7*e,children:[(0,a.jsx)("defs",{children:(0,a.jsx)("filter",{id:"blur",children:(0,a.jsx)("feGaussianBlur",{stdDeviation:"0.5"})})}),wD.map((t,e)=>(0,a.jsx)("circle",{r:t.radius,cx:t.x,cy:t.y,fill:t.radius>=3?"#a5f3fc":"white",filter:"url(#blur)",fillOpacity:1-t.y/(.8*window.innerHeight)},e))]})}let wO=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"px-8 2xl:px-16",children:(0,a.jsx)(wN,{})}),(0,a.jsx)("div",{className:"px-8 2xl:px-16 pt-8 bg-linear-to-b from-slate-900 from-50% via-teal-700 via-85% to-cyan-400",children:(0,a.jsx)(d,{children:(0,a.jsx)(m.TheaterProvider,{children:(0,a.jsx)(y,{children:(0,a.jsxs)("div",{className:"xl:flex relative xl:h-full z-10",children:[(0,a.jsx)(wP,{}),(0,a.jsx)(pI,{})]})})})})})]}),wR=()=>(0,a.jsx)("footer",{className:"p-2 text-center",children:" Guy Luong, 2024-2026"});t.s(["default",0,function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(wO,{}),(0,a.jsx)(wR,{})]})}],4193)},36840,t=>{t.n(t.i(4193))}]);