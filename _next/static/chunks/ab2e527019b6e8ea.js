(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,49152,(t,e,n)=>{"use strict";n._=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}},95692,(t,e,n)=>{"use strict";var r=t.r(49152);n._=function(t,e){if(null==t)return{};var n,i,o=r._(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}},88143,(t,e,n)=>{"use strict";function r(t){let{widthInt:e,heightInt:n,blurWidth:r,blurHeight:i,blurDataURL:o,objectFit:s}=t,a=r?40*r:e,u=i?40*i:n,c=a&&u?"viewBox='0 0 ".concat(a," ").concat(u,"'"):"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' ".concat(c,"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='").concat(20,"'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='").concat(20,"'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='").concat(c?"none":"contain"===s?"xMidYMid":"cover"===s?"xMidYMid slice":"none","' style='filter: url(%23b);' href='").concat(o,"'/%3E%3C/svg%3E")}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"getImageBlurSvg",{enumerable:!0,get:function(){return r}})},87690,(t,e,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={VALID_LOADERS:function(){return o},imageConfigDefault:function(){return s}};for(var i in r)Object.defineProperty(n,i,{enumerable:!0,get:r[i]});let o=["default","imgix","cloudinary","akamai","custom"],s={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,maximumResponseBody:5e7,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:[75],unoptimized:!1}},8927,(t,e,n)=>{"use strict";var r=t.r(44086),i=t.r(4571),o=t.r(95692);Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"getImgProps",{enumerable:!0,get:function(){return f}}),t.r(33525);let s=t.r(43369),a=t.r(88143),u=t.r(87690),c=["-moz-initial","fill","none","scale-down",void 0];function l(t){return void 0!==t.default}function h(t){return void 0===t?t:"number"==typeof t?Number.isFinite(t)?t:NaN:"string"==typeof t&&/^[0-9]+$/.test(t)?parseInt(t,10):NaN}function f(t,e){var n,f;let d,p,m,[g,...y]=[t,e],{src:v,sizes:b,unoptimized:w=!1,priority:x=!1,preload:E=!1,loading:T,className:S,quality:I,width:_,height:A,fill:k=!1,style:C,overrideSrc:P,onLoad:D,onLoadingComplete:N,placeholder:O="empty",blurDataURL:R,fetchPriority:M,decoding:L="async",layout:j,objectFit:F,objectPosition:V,lazyBoundary:U,lazyRoot:B}=g,q=o._(g,["src","sizes","unoptimized","priority","preload","loading","className","quality","width","height","fill","style","overrideSrc","onLoad","onLoadingComplete","placeholder","blurDataURL","fetchPriority","decoding","layout","objectFit","objectPosition","lazyBoundary","lazyRoot"]),[z]=y,{imgConf:K,showAltText:W,blurComplete:G,defaultLoader:H}=z,Q=K||u.imageConfigDefault;if("allSizes"in Q)d=Q;else{let t=[...Q.deviceSizes,...Q.imageSizes].sort((t,e)=>t-e),e=Q.deviceSizes.sort((t,e)=>t-e),o=null==(n=Q.qualities)?void 0:n.sort((t,e)=>t-e);d=i._(r._({},Q),{allSizes:t,deviceSizes:e,qualities:o})}if(void 0===H)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let Y=q.loader||H;delete q.loader,delete q.srcSet;let X="__next_img_default"in Y;if(X){if("custom"===d.loader)throw Object.defineProperty(Error('Image with src "'.concat(v,'" is missing "loader" prop.')+"\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader"),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let t=Y;Y=e=>{let{config:n}=e;return t(o._(e,["config"]))}}if(j){"fill"===j&&(k=!0);let t={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[j];t&&(C=r._({},C,t));let e={responsive:"100vw",fill:"100vw"}[j];e&&!b&&(b=e)}let $="",J=h(_),Z=h(A);if((f=v)&&"object"==typeof f&&(l(f)||void 0!==f.src)){let t=l(v)?v.default:v;if(!t.src)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ".concat(JSON.stringify(t))),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!t.height||!t.width)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ".concat(JSON.stringify(t))),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(p=t.blurWidth,m=t.blurHeight,R=R||t.blurDataURL,$=t.src,!k)if(J||Z){if(J&&!Z){let e=J/t.width;Z=Math.round(t.height*e)}else if(!J&&Z){let e=Z/t.height;J=Math.round(t.width*e)}}else J=t.width,Z=t.height}let tt=!x&&!E&&("lazy"===T||void 0===T);(!(v="string"==typeof v?v:$)||v.startsWith("data:")||v.startsWith("blob:"))&&(w=!0,tt=!1),d.unoptimized&&(w=!0),X&&!d.dangerouslyAllowSVG&&v.split("?",1)[0].endsWith(".svg")&&(w=!0);let te=h(I),tn=Object.assign(k?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:F,objectPosition:V}:{},W?{}:{color:"transparent"},C),tr=G||"empty"===O?null:"blur"===O?'url("data:image/svg+xml;charset=utf-8,'.concat((0,a.getImageBlurSvg)({widthInt:J,heightInt:Z,blurWidth:p,blurHeight:m,blurDataURL:R||"",objectFit:tn.objectFit}),'")'):'url("'.concat(O,'")'),ti=c.includes(tn.objectFit)?"fill"===tn.objectFit?"100% 100%":"cover":tn.objectFit,to=tr?{backgroundSize:ti,backgroundPosition:tn.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:tr}:{},ts=function(t){let{config:e,src:n,unoptimized:r,width:i,quality:o,sizes:a,loader:u}=t;if(r){let t=(0,s.getDeploymentId)();if(n.startsWith("/")&&!n.startsWith("//")&&t){let e=n.includes("?")?"&":"?";n="".concat(n).concat(e,"dpl=").concat(t)}return{src:n,srcSet:void 0,sizes:void 0}}let{widths:c,kind:l}=function(t,e,n){let{deviceSizes:r,allSizes:i}=t;if(n){let t=/(^|\s)(1?\d?\d)vw/g,e=[];for(let r;r=t.exec(n);)e.push(parseInt(r[2]));if(e.length){let t=.01*Math.min(...e);return{widths:i.filter(e=>e>=r[0]*t),kind:"w"}}return{widths:i,kind:"w"}}return"number"!=typeof e?{widths:r,kind:"w"}:{widths:[...new Set([e,2*e].map(t=>i.find(e=>e>=t)||i[i.length-1]))],kind:"x"}}(e,i,a),h=c.length-1;return{sizes:a||"w"!==l?a:"100vw",srcSet:c.map((t,r)=>"".concat(u({config:e,src:n,quality:o,width:t})," ").concat("w"===l?t:r+1).concat(l)).join(", "),src:u({config:e,src:n,quality:o,width:c[h]})}}({config:d,src:v,unoptimized:w,width:J,quality:te,sizes:b,loader:Y}),ta=tt?"lazy":T;return{props:i._(r._({},q),{loading:ta,fetchPriority:M,width:J,height:Z,decoding:L,className:S,style:r._({},tn,to),sizes:ts.sizes,srcSet:ts.srcSet,src:P||ts.src}),meta:{unoptimized:w,preload:E||x,placeholder:O,fill:k}}}},98879,(t,e,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});let r=t.r(71645),i="u"<typeof window,o=i?()=>{}:r.useLayoutEffect,s=i?()=>{}:r.useEffect;function a(t){let{headManager:e,reduceComponentsToState:n}=t;function a(){if(e&&e.mountedInstances){let t=r.Children.toArray(Array.from(e.mountedInstances).filter(Boolean));e.updateHead(n(t))}}if(i){var u;null==e||null==(u=e.mountedInstances)||u.add(t.children),a()}return o(()=>{var n;return null==e||null==(n=e.mountedInstances)||n.add(t.children),()=>{var n;null==e||null==(n=e.mountedInstances)||n.delete(t.children)}}),o(()=>(e&&(e._pendingUpdate=a),()=>{e&&(e._pendingUpdate=a)})),s(()=>(e&&e._pendingUpdate&&(e._pendingUpdate(),e._pendingUpdate=null),()=>{e&&e._pendingUpdate&&(e._pendingUpdate(),e._pendingUpdate=null)})),null}},25633,(t,e,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={default:function(){return m},defaultHead:function(){return h}};for(var i in r)Object.defineProperty(n,i,{enumerable:!0,get:r[i]});let o=t.r(55682),s=t.r(90809),a=t.r(43476),u=s._(t.r(71645)),c=o._(t.r(98879)),l=t.r(42732);function h(){return[(0,a.jsx)("meta",{charSet:"utf-8"},"charset"),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")]}function f(t,e){return"string"==typeof e||"number"==typeof e?t:e.type===u.default.Fragment?t.concat(u.default.Children.toArray(e.props.children).reduce((t,e)=>"string"==typeof e||"number"==typeof e?t:t.concat(e),[])):t.concat(e)}t.r(33525);let d=["name","httpEquiv","charSet","itemProp"];function p(t){let e,n,r,i;return t.reduce(f,[]).reverse().concat(h().reverse()).filter((e=new Set,n=new Set,r=new Set,i={},t=>{let o=!0,s=!1;if(t.key&&"number"!=typeof t.key&&t.key.indexOf("$")>0){s=!0;let n=t.key.slice(t.key.indexOf("$")+1);e.has(n)?o=!1:e.add(n)}switch(t.type){case"title":case"base":n.has(t.type)?o=!1:n.add(t.type);break;case"meta":for(let e=0,n=d.length;e<n;e++){let n=d[e];if(t.props.hasOwnProperty(n))if("charSet"===n)r.has(n)?o=!1:r.add(n);else{let e=t.props[n],r=i[n]||new Set;("name"!==n||!s)&&r.has(e)?o=!1:(r.add(e),i[n]=r)}}}return o})).reverse().map((t,e)=>{let n=t.key||e;return u.default.cloneElement(t,{key:n})})}let m=function(t){let{children:e}=t,n=(0,u.useContext)(l.HeadManagerContext);return(0,a.jsx)(c.default,{reduceComponentsToState:p,headManager:n,children:e})};("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),e.exports=n.default)},18556,(t,e,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ImageConfigContext",{enumerable:!0,get:function(){return o}});let r=t.r(55682)._(t.r(71645)),i=t.r(87690),o=r.default.createContext(i.imageConfigDefault)},65856,(t,e,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"RouterContext",{enumerable:!0,get:function(){return r}});let r=t.r(55682)._(t.r(71645)).default.createContext(null)},70965,(t,e,n)=>{"use strict";function r(t,e){var n;let r=t||75;return(null==e||null==(n=e.qualities)?void 0:n.length)?e.qualities.reduce((t,e)=>Math.abs(e-r)<Math.abs(t-r)?e:t,0):r}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"findClosestQuality",{enumerable:!0,get:function(){return r}})},1948,(t,e,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});let r=t.r(70965),i=t.r(43369);function o(t){var e;let{config:n,src:o,width:s,quality:a}=t;if(o.startsWith("/")&&o.includes("?")&&(null==(e=n.localPatterns)?void 0:e.length)===1&&"**"===n.localPatterns[0].pathname&&""===n.localPatterns[0].search)throw Object.defineProperty(Error('Image with src "'.concat(o,'" is using a query string which is not configured in images.localPatterns.')+"\nRead more: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns"),"__NEXT_ERROR_CODE",{value:"E871",enumerable:!1,configurable:!0});let u=(0,r.findClosestQuality)(a,n),c=(0,i.getDeploymentId)();return"".concat(n.path,"?url=").concat(encodeURIComponent(o),"&w=").concat(s,"&q=").concat(u).concat(o.startsWith("/")&&c?"&dpl=".concat(c):"")}o.__next_img_default=!0;let s=o},18581,(t,e,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useMergedRef",{enumerable:!0,get:function(){return i}});let r=t.r(71645);function i(t,e){let n=(0,r.useRef)(null),i=(0,r.useRef)(null);return(0,r.useCallback)(r=>{if(null===r){let t=n.current;t&&(n.current=null,t());let e=i.current;e&&(i.current=null,e())}else t&&(n.current=o(t,r)),e&&(i.current=o(e,r))},[t,e])}function o(t,e){if("function"!=typeof t)return t.current=e,()=>{t.current=null};{let n=t(e);return"function"==typeof n?n:()=>t(null)}}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),e.exports=n.default)},5500,(t,e,n)=>{"use strict";var r=t.r(44086),i=t.r(4571),o=t.r(95692);Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Image",{enumerable:!0,get:function(){return T}});let s=t.r(55682),a=t.r(90809),u=t.r(43476),c=a._(t.r(71645)),l=s._(t.r(74080)),h=s._(t.r(25633)),f=t.r(8927),d=t.r(87690),p=t.r(18556);t.r(33525);let m=t.r(65856),g=s._(t.r(1948)),y=t.r(18581),v={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/interactive-cv-firebase/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function b(t,e,n,o,s,a,u){let c=null==t?void 0:t.src;t&&t["data-loaded-src"]!==c&&(t["data-loaded-src"]=c,("decode"in t?t.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(t.parentElement&&t.isConnected){if("empty"!==e&&s(!0),null==n?void 0:n.current){let e=new Event("load");Object.defineProperty(e,"target",{writable:!1,value:t});let o=!1,s=!1;n.current(i._(r._({},e),{nativeEvent:e,currentTarget:t,target:t,isDefaultPrevented:()=>o,isPropagationStopped:()=>s,persist:()=>{},preventDefault:()=>{o=!0,e.preventDefault()},stopPropagation:()=>{s=!0,e.stopPropagation()}}))}(null==o?void 0:o.current)&&o.current(t)}}))}function w(t){return c.use?{fetchPriority:t}:{fetchpriority:t}}"u"<typeof window&&(globalThis.__NEXT_IMAGE_IMPORTED=!0);let x=(0,c.forwardRef)((t,e)=>{let[n,...s]=[t,e],{src:a,srcSet:l,sizes:h,height:f,width:d,decoding:p,className:m,style:g,fetchPriority:v,placeholder:x,loading:E,unoptimized:T,fill:S,onLoadRef:I,onLoadingCompleteRef:_,setBlurComplete:A,setShowAltText:k,sizesInput:C,onLoad:P,onError:D}=n,N=o._(n,["src","srcSet","sizes","height","width","decoding","className","style","fetchPriority","placeholder","loading","unoptimized","fill","onLoadRef","onLoadingCompleteRef","setBlurComplete","setShowAltText","sizesInput","onLoad","onError"]),[O]=s,R=(0,c.useCallback)(t=>{t&&(D&&(t.src=t.src),t.complete&&b(t,x,I,_,A,T,C))},[a,x,I,_,A,D,T,C]),M=(0,y.useMergedRef)(O,R);return(0,u.jsx)("img",i._(r._({},N,w(v)),{loading:E,width:d,height:f,decoding:p,"data-nimg":S?"fill":"1",className:m,style:g,sizes:h,srcSet:l,src:a,ref:M,onLoad:t=>{b(t.currentTarget,x,I,_,A,T,C)},onError:t=>{k(!0),"empty"!==x&&A(!0),D&&D(t)}}))});function E(t){let{isAppRouter:e,imgAttributes:n}=t,i=r._({as:"image",imageSrcSet:n.srcSet,imageSizes:n.sizes,crossOrigin:n.crossOrigin,referrerPolicy:n.referrerPolicy},w(n.fetchPriority));return e&&l.default.preload?(l.default.preload(n.src,i),null):(0,u.jsx)(h.default,{children:(0,u.jsx)("link",r._({rel:"preload",href:n.srcSet?void 0:n.src},i),"__nimg-"+n.src+n.srcSet+n.sizes)})}let T=(0,c.forwardRef)((t,e)=>{let n=(0,c.useContext)(m.RouterContext),o=(0,c.useContext)(p.ImageConfigContext),s=(0,c.useMemo)(()=>{var t;let e=v||o||d.imageConfigDefault,n=[...e.deviceSizes,...e.imageSizes].sort((t,e)=>t-e),s=e.deviceSizes.sort((t,e)=>t-e),a=null==(t=e.qualities)?void 0:t.sort((t,e)=>t-e);return i._(r._({},e),{allSizes:n,deviceSizes:s,qualities:a,localPatterns:"u"<typeof window?null==o?void 0:o.localPatterns:e.localPatterns})},[o]),{onLoad:a,onLoadingComplete:l}=t,h=(0,c.useRef)(a);(0,c.useEffect)(()=>{h.current=a},[a]);let y=(0,c.useRef)(l);(0,c.useEffect)(()=>{y.current=l},[l]);let[b,w]=(0,c.useState)(!1),[T,S]=(0,c.useState)(!1),{props:I,meta:_}=(0,f.getImgProps)(t,{defaultLoader:g.default,imgConf:s,blurComplete:b,showAltText:T});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(x,i._(r._({},I),{unoptimized:_.unoptimized,placeholder:_.placeholder,fill:_.fill,onLoadRef:h,onLoadingCompleteRef:y,setBlurComplete:w,setShowAltText:S,sizesInput:t.sizes,ref:e})),_.preload?(0,u.jsx)(E,{isAppRouter:!n,imgAttributes:I}):null]})});("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),e.exports=n.default)},94909,(t,e,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={default:function(){return l},getImageProps:function(){return c}};for(var i in r)Object.defineProperty(n,i,{enumerable:!0,get:r[i]});let o=t.r(55682),s=t.r(8927),a=t.r(5500),u=o._(t.r(1948));function c(t){let{props:e}=(0,s.getImgProps)(t,{defaultLoader:u.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/interactive-cv-firebase/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[t,n]of Object.entries(e))void 0===n&&delete e[t];return{props:e}}let l=a.Image},57688,(t,e,n)=>{e.exports=t.r(94909)},46138,t=>{t.v("/interactive-cv-firebase/_next/static/media/firebase.1d102d48.svg")},50509,t=>{t.v("/interactive-cv-firebase/_next/static/media/tailwind.0298b39c.svg")},6718,t=>{t.v("/interactive-cv-firebase/_next/static/media/nextjs.8f334698.svg")},46007,t=>{t.v("/interactive-cv-firebase/_next/static/media/d3.252bc4f7.svg")},4193,t=>{"use strict";let e,n,r;var i,o,s,a=t.i(43476);function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){var r;r=n[e],e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r})}return t}function c(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):(function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n})(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}),t}var l=t.i(71645);let h=(0,l.createContext)(null),f=["Mentoring","Active listening","Code review","Empathy","Problem solving"],d=t=>{let{children:e}=t,[n,r]=(0,l.useReducer)(p,["React","Firebase","Tailwind","Next.JS","D3"]);return(0,a.jsx)(h.Provider,{value:c(u({},n),{toggleLight:t=>{r({type:"TOGGLE_LIGHT",name:t})},isActiveLight:t=>n.includes(t),isPermanentLight:t=>f.includes(t)}),children:e})};function p(t,e){if("TOGGLE_LIGHT"===e.type)return t.includes(e.name)?t.filter(t=>t!==e.name):[...t,e.name];throw Error("No such action type for LightProvider: ".concat(e.type))}let m=(0,l.createContext)(null),g=t=>{let{children:e}=t,[n,r]=(0,l.useReducer)(y,null);return(0,a.jsx)(m.Provider,{value:c(u({},n),{switchMovie:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r({type:"switch",url:t,color:e})},clearTheater:()=>{r({type:"clear"})}}),children:e})},y=(t,e)=>{switch(e.type){case"switch":return e;case"clear":return null;default:throw Error("No such action for Theater.")}},v=(0,l.createContext)(null),b=t=>{let{children:e}=t,[n,r]=(0,l.useReducer)(w,new Set);return(0,a.jsx)(v.Provider,{value:c(u({},n),{loaded:t=>{n.has(t)||r({type:"added",value:t})},isReady:()=>5===n.size}),children:e})},w=(t,e)=>{if("added"===e.type)return new Set([...t,e.value]);throw Error("LoadReducer > This action doesn't exist: ".concat(e.type))};function x(){let{innerWidth:t,innerHeight:e}=window;return{width:t,height:e}}function E(){let[t,e]=(0,l.useState)(x());return(0,l.useEffect)(()=>{function t(){e(t=>u({},t,x())),window.innerWidth>=1280&&window.scrollTo(0,0)}let n=()=>{e(t=>c(u({},t),{scrollY:window.scrollY}))};return window.addEventListener("resize",t),window.addEventListener("scroll",n),()=>{window.removeEventListener("resize",t),window.removeEventListener("scroll",n)}},[]),c(u({},t),{isMobile:()=>t.width<1280})}var T=function(t,e){return(T=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function S(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}T(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var I=function(){return(I=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function _(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function A(t,e){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){var c=[a,u];if(n)throw TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){o.label=c[1];break}if(6===c[0]&&o.label<i[1]){o.label=i[1],i=c;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(c);break}i[2]&&o.ops.pop(),o.trys.pop();continue}c=e.call(t,o)}catch(t){c=[6,t],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}function k(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function C(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function P(t,e,n){if(n||2==arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}var D=("function"==typeof SuppressedError&&SuppressedError,function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:(i<2048?e[n++]=i>>6|192:((64512&i)==55296&&r+1<t.length&&(64512&t.charCodeAt(r+1))==56320?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128):e[n++]=i>>12|224,e[n++]=i>>6&63|128),e[n++]=63&i|128)}return e}),N=function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var o=t[n++],s=t[n++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{var o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")},O={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|a>>4,f=(15&a)<<2|c>>6,d=63&c;!u&&(d=64,s||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(D(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):N(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var c=o<<2|s>>4;if(r.push(c),64!==a){var l=s<<4&240|a>>2;if(r.push(l),64!==u){var h=a<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function R(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=R(t[n],e[n]));return t}var M=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function L(){return"u">typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var j=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,F.prototype.create),o}return S(e,t),e}(Error),F=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=r[0]||{},s=this.service+"/"+t,a=this.errors[t],u=a?(e=a,n=o,e.replace(V,function(t,e){var r=n[e];return null!=r?String(r):"<"+e+"?>"})):"Error",c=this.serviceName+": "+u+" ("+s+").";return new j(s,c,o)},t}(),V=/\{\$([^}]+)}/g;function U(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function B(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}function q(t,e){var n=new z(t,e);return n.subscribe.bind(n)}B.prototype.reset=function(){this.chain_[0]=0x67452301,this.chain_[1]=0xefcdab89,this.chain_[2]=0x98badcfe,this.chain_[3]=0x10325476,this.chain_[4]=0xc3d2e1f0,this.inbuf_=0,this.total_=0},B.prototype.compress_=function(t,e){e||(e=0);var n,r,i=this.W_;if("string"==typeof t)for(var o=0;o<16;o++)i[o]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(var o=0;o<16;o++)i[o]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(var o=16;o<80;o++){var s=i[o-3]^i[o-8]^i[o-14]^i[o-16];i[o]=(s<<1|s>>>31)&0xffffffff}for(var a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4],o=0;o<80;o++){o<40?o<20?(n=l^u&(c^l),r=0x5a827999):(n=u^c^l,r=0x6ed9eba1):o<60?(n=u&c|l&(u|c),r=0x8f1bbcdc):(n=u^c^l,r=0xca62c1d6);var s=(a<<5|a>>>27)+n+h+r+i[o]|0;h=l,l=c,c=(u<<30|u>>>2)&0xffffffff,u=a,a=s}this.chain_[0]=this.chain_[0]+a|0,this.chain_[1]=this.chain_[1]+u|0,this.chain_[2]=this.chain_[2]+c|0,this.chain_[3]=this.chain_[3]+l|0,this.chain_[4]=this.chain_[4]+h|0},B.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},B.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);for(var r=0,n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t};var z=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw Error("Missing Observer.");void 0===(r=!function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0;n<e.length;n++){var r=e[n];if(r in t&&"function"==typeof t[r])return!0}return!1}(t,["next","error","complete"])?{next:t,error:e,complete:n}:t).next&&(r.next=K),void 0===r.error&&(r.error=K),void 0===r.complete&&(r.complete=K);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"u">typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function K(){}function W(t){return t&&t._delegate?t._delegate:t}var G=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),H="[DEFAULT]",Q=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t=H);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new M;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=I({identifier:H,optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(t){if(r)return null;throw t}if(r)return null;throw Error("Service "+this.name+" is not available")},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if("EAGER"===t.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:H})}catch(t){}try{for(var r=k(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=C(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService({instanceIdentifier:u});a.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=H),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return _(this,void 0,void 0,function(){var t;return A(this,function(e){switch(e.label){case 0:return[4,Promise.all(P(P([],C((t=Array.from(this.instances.values())).filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),C(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=H),this.instances.has(t)},t.prototype.initialize=function(t){void 0===t&&(t={});var e,n,r=t.instanceIdentifier,i=t.options,o=this.normalizeInstanceIdentifier(void 0===r?H:r);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:o,options:void 0===i?{}:i});try{for(var a=k(this.instancesDeferred.entries()),u=a.next();!u.done;u=a.next()){var c=C(u.value,2),l=c[0],h=c[1],f=this.normalizeInstanceIdentifier(l);o===f&&h.resolve(s)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(s,o),s},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r;try{for(var i=k(this.onInitCallbacks),o=i.next();!o.done;o=i.next()){var s=o.value;try{s(t,e)}catch(t){}}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=this.instances.get(n);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n)===H?void 0:e,options:void 0===r?{}:r}),this.instances.set(n,i),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,i)}catch(t){}return i||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:H:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),Y=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new Q(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();function X(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var $=[];(tg=tv||(tv={}))[tg.DEBUG=0]="DEBUG",tg[tg.VERBOSE=1]="VERBOSE",tg[tg.INFO=2]="INFO",tg[tg.WARN=3]="WARN",tg[tg.ERROR=4]="ERROR",tg[tg.SILENT=5]="SILENT";var J={debug:tv.DEBUG,verbose:tv.VERBOSE,info:tv.INFO,warn:tv.WARN,error:tv.ERROR,silent:tv.SILENT},Z=tv.INFO,tt=((ty={})[tv.DEBUG]="log",ty[tv.VERBOSE]="log",ty[tv.INFO]="info",ty[tv.WARN]="warn",ty[tv.ERROR]="error",ty),te=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=new Date().toISOString(),o=tt[e];if(o)console[o].apply(console,X(["["+i+"]  "+t.name+":"],n));else throw Error("Attempted to log a message with an invalid logType (value: "+e+")")}},tn=function(){function t(t){this.name=t,this._logLevel=Z,this._logHandler=te,this._userLogHandler=null,$.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in tv))throw TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?J[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,X([this,tv.DEBUG],t)),this._logHandler.apply(this,X([this,tv.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,X([this,tv.VERBOSE],t)),this._logHandler.apply(this,X([this,tv.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,X([this,tv.INFO],t)),this._logHandler.apply(this,X([this,tv.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,X([this,tv.WARN],t)),this._logHandler.apply(this,X([this,tv.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,X([this,tv.ERROR],t)),this._logHandler.apply(this,X([this,tv.ERROR],t))},t}();function tr(t){$.forEach(function(e){e.setLogLevel(t)})}var ti=new F("app","Firebase",((tb={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",tb["bad-app-name"]="Illegal App name: '{$appName}",tb["duplicate-app"]="Firebase App named '{$appName}' already exists",tb["app-deleted"]="Firebase App named '{$appName}' already deleted",tb["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",tb["invalid-log-argument"]="First argument to `onLog` must be null or a function.",tb)),to="@firebase/app",ts="[DEFAULT]",ta=((tw={})[to]="fire-core",tw["@firebase/analytics"]="fire-analytics",tw["@firebase/app-check"]="fire-app-check",tw["@firebase/auth"]="fire-auth",tw["@firebase/database"]="fire-rtdb",tw["@firebase/functions"]="fire-fn",tw["@firebase/installations"]="fire-iid",tw["@firebase/messaging"]="fire-fcm",tw["@firebase/performance"]="fire-perf",tw["@firebase/remote-config"]="fire-rc",tw["@firebase/storage"]="fire-gcs",tw["@firebase/firestore"]="fire-fst",tw["fire-js"]="fire-js",tw["firebase-wrapper"]="fire-js-all",tw),tu=new tn("@firebase/app"),tc=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=R(void 0,t),this.container=new Y(e.name),this._addComponent(new G("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=ts),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=ts),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){tu.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ti.create("app-deleted",{appName:this.name_})},t}();tc.prototype.name&&tc.prototype.options||tc.prototype.delete||console.log("dc");var tl=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),("object"!=typeof i||null===i)&&(i={name:i});var o=i;void 0===o.name&&(o.name=ts);var s=o.name;if("string"!=typeof s||!s)throw ti.create("bad-app-name",{appName:String(s)});if(U(e,s))throw ti.create("duplicate-app",{appName:s});var a=new t(n,o,r);return e[s]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!=(r=ta[t])?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),tu.warn(u.join(" "));return}o(new G(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:tr,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw ti.create("invalid-log-argument");for(var n=0;n<$.length;n++)!function(n){var r=null;e&&e.level&&(r=J[e.level]),null===t?n.userLogHandler=null:n.userLogHandler=function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:tv[n].toLowerCase(),message:s,args:i,type:e.name})}}($[n])},apps:null,SDK_VERSION:"8.5.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!U(e,t=t||ts))throw ti.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return tu.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var a=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw ti.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&R(a,o.serviceProps),r[s]=a,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,s).apply(this,o.multipleInstances?t:[])}}for(var u=0,c=Object.keys(e);u<c.length;u++)e[c[u]]._addComponent(o);return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(tc);return e.INTERNAL=I(I({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){R(e,t)},createSubscribe:q,ErrorFactory:F,deepExtend:R}),e}(),th=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if((null==(e=t.getComponent())?void 0:e.type)!=="VERSION")return null;var e,n=t.getImmediate();return n.library+"/"+n.version}).filter(function(t){return t}).join(" ")},t}();if("object"==typeof self&&self.self===self&&void 0!==self.firebase){tu.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var tf=self.firebase.SDK_VERSION;tf&&tf.indexOf("LITE")>=0&&tu.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var td=tl.initializeApp;tl.initializeApp=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(){try{return"[object process]"===Object.prototype.toString.call(t.g.process)}catch(t){return!1}}()&&tu.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),td.apply(void 0,e)},tl.INTERNAL.registerComponent(new G("platform-logger",function(t){return new th(t)},"PRIVATE")),tl.registerVersion(to,"0.6.21",void 0),tl.registerVersion("fire-js",""),tl.registerVersion("firebase","8.5.0","app");var tp=function(t,e){return(tp=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function tm(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var tg,ty,tv,tb,tw,tx,tE="u">typeof globalThis?globalThis:"u">typeof window?window:t.g,tT=tT||{},tS=tE||self;function tI(){}function t_(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function tA(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function tk(t,e,n){return t.call.apply(t.bind,arguments)}function tC(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function tP(t,e,n){return(tP=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tk:tC).apply(null,arguments)}function tD(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function tN(){return Date.now()}function tO(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function tR(){this.j=this.j,this.i=this.i}tR.prototype.j=!1,tR.prototype.ja=function(){this.j||(this.j=!0,this.G())},tR.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var tM=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return -1},tL=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function tj(t){return Array.prototype.concat.apply([],arguments)}function tF(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function tV(t){return/^[\s\xa0]*$/.test(t)}var tU=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function tB(t,e){return -1!=t.indexOf(e)}t:{var tq=tS.navigator;if(tq){var tz=tq.userAgent;if(tz){oc=tz;break t}}oc=""}function tK(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function tW(t){var e={};for(var n in t)e[n]=t[n];return e}var tG="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tH(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<tG.length;o++)n=tG[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function tQ(t){return tQ[" "](t),t}tQ[" "]=tI;var tY=tB(oc,"Opera"),tX=tB(oc,"Trident")||tB(oc,"MSIE"),t$=tB(oc,"Edge"),tJ=t$||tX,tZ=tB(oc,"Gecko")&&!(tB(oc.toLowerCase(),"webkit")&&!tB(oc,"Edge"))&&!(tB(oc,"Trident")||tB(oc,"MSIE"))&&!tB(oc,"Edge"),t0=tB(oc.toLowerCase(),"webkit")&&!tB(oc,"Edge");function t1(){var t=tS.document;return t?t.documentMode:void 0}t:{var t2,t3="",t4=(t2=oc,tZ?/rv:([^\);]+)(\)|;)/.exec(t2):t$?/Edge\/([\d\.]+)/.exec(t2):tX?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t2):t0?/WebKit\/(\S+)/.exec(t2):tY?/(?:Version)[ \/]?(\S+)/.exec(t2):void 0);if(t4&&(t3=t4?t4[1]:""),tX){var t5=t1();if(null!=t5&&t5>parseFloat(t3)){ol=String(t5);break t}}ol=t3}var t6={};function t8(t){var e;return e=function(){for(var e=0,n=tU(String(ol)).split("."),r=tU(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s,a,u,c,l,h,f=n[o]||"",d=r[o]||"";do{if(f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==f[0].length&&0==d[0].length)break;e=(s=0==f[1].length?0:parseInt(f[1],10),(s<(a=0==d[1].length?0:parseInt(d[1],10))?-1:+(s>a))||(u=0==f[2].length,u<(c=0==d[2].length)?-1:+(u>c))||(l=f[2],l<(h=d[2])?-1:+(l>h))),f=f[3],d=d[3]}while(0==e)}return 0<=e},Object.prototype.hasOwnProperty.call(t6,t)?t6[t]:t6[t]=e(t)}var t9=oh=tS.document&&tX&&(t1()||parseInt(ol,10))||void 0,t7=!tX||9<=Number(t9),et=tX&&!t8("9"),ee=function(){if(!tS.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{tS.addEventListener("test",tI,e),tS.removeEventListener("test",tI,e)}catch(t){}return t}();function en(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function er(t,e){if(en.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(tZ){t:{try{tQ(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ei[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}en.prototype.b=function(){this.defaultPrevented=!0},tO(er,en);var ei={2:"touch",3:"pen",4:"mouse"};er.prototype.b=function(){er.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,et)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var eo="closure_listenable_"+(1e6*Math.random()|0),es=0;function ea(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++es,this.Y=this.Z=!1}function eu(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ec(t){this.src=t,this.a={},this.b=0}function el(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=tM(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(eu(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function eh(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&!!n==o.capture&&o.ca==r)return i}return -1}ec.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=eh(t,e,r,i);return -1<s?(e=t[s],n||(e.Z=!1)):((e=new ea(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var ef="closure_lm_"+(1e6*Math.random()|0),ed={};function ep(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=eE(r),e&&e[eo]?e.wa(n,r,tA(i)?!!i.capture:!!i,o):em(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ep(t,e[o],n,r,i);return null}return n=eE(n),t&&t[eo]?t.va(e,n,tA(r)?!!r.capture:!!r,i):em(t,e,n,!1,r,i)}function em(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s,a=tA(i)?!!i.capture:!!i;if(a&&!t7)return null;var u=ew(t);if(u||(t[ef]=u=new ec(t)),(n=u.add(e,n,r,a,o)).proxy)return n;if(r=s=t7?function(t){return eb.call(s.src,s.listener,t)}:function(t){if(!(t=eb.call(s.src,s.listener,t)))return t},n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ee||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ey(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function eg(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[eo])el(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ey(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ew(e))?(el(n,t),0==n.b&&(n.src=null,e[ef]=null)):eu(t)}}}function ey(t){return t in ed?ed[t]:ed[t]="on"+t}function ev(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&eg(t),n.call(r,e)}function eb(t,e){if(t.Y)return!0;if(!t7){if(!e)t:{e=["window","event"];for(var n=tS,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return ev(t,e=new er(e,this))}return ev(t,new er(e,this))}function ew(t){return(t=t[ef])instanceof ec?t:null}var ex="__closure_events_fn_"+(1e9*Math.random()>>>0);function eE(t){return"function"==typeof t?t:(t[ex]||(t[ex]=function(e){return t.handleEvent(e)}),t[ex])}function eT(){tR.call(this),this.c=new ec(this),this.J=this,this.C=null}function eS(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new en(e,t);else if(e instanceof en)e.target=e.target||t;else{var i=e;tH(e=new en(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=eI(s,r,!0,e)&&i}if(i=eI(s=e.a=t,r,!0,e)&&i,i=eI(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=eI(s=e.a=n[o],r,!1,e)&&i}function eI(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&el(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}tO(eT,tR),eT.prototype[eo]=!0,(tx=eT.prototype).addEventListener=function(t,e,n,r){ep(this,t,e,n,r)},tx.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else(i=tA(i)?!!i.capture:!!i,r=eE(r),e&&e[eo])?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=eh(s=e.a[n],r,i,o))&&(eu(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=ew(e))&&(n=e.a[n.toString()],e=-1,n&&(e=eh(n,r,i,o)),(r=-1<e?n[e]:null)&&eg(r))}(this,t,e,n,r)},tx.G=function(){if(eT.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)eu(n[r]);delete e.a[t],e.b--}}this.C=null},tx.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},tx.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var e_=tS.JSON.stringify;function eA(){this.b=this.a=null}var ek=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())(function(){return new eC},function(t){t.reset()});function eC(){this.next=this.b=this.a=null}function eP(t,e){var n;of||(n=tS.Promise.resolve(void 0),of=function(){n.then(eO)}),eD||(of(),eD=!0),eN.add(t,e)}eA.prototype.add=function(t,e){var n=ek.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},eC.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},eC.prototype.reset=function(){this.next=this.b=this.a=null};var eD=!1,eN=new eA;function eO(){for(var t,e;t=null,eN.a&&(t=eN.a,eN.a=eN.a.next,eN.a||(eN.b=null),t.next=null),e=t;){try{e.a.call(e.b)}catch(t){!function(t){tS.setTimeout(function(){throw t},0)}(t)}ek.f(e),100>ek.b&&(ek.b++,e.next=ek.a,ek.a=e)}eD=!1}function eR(t,e){eT.call(this),this.b=t||1,this.a=e||tS,this.f=tP(this.Za,this),this.g=tN()}function eM(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function eL(t,e,n){if("function"==typeof t)n&&(t=tP(t,n));else if(t&&"function"==typeof t.handleEvent)t=tP(t.handleEvent,t);else throw Error("Invalid listener argument");return 0x7fffffff<Number(e)?-1:tS.setTimeout(t,e||0)}tO(eR,eT),(tx=eR.prototype).aa=!1,tx.M=null,tx.Za=function(){if(this.aa){var t=tN()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),eS(this,"tick"),this.aa&&(eM(this),this.start()))}},tx.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=tN())},tx.G=function(){eR.X.G.call(this),eM(this),delete this.a};var ej=function(t){function e(){this.constructor=n}function n(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return tp(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e),n.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:function t(e){e.a=eL(function(){e.a=null,e.c&&(e.c=!1,t(e))},e.h);var n=e.b;e.b=null,e.g.apply(null,n)}(this)},n.prototype.G=function(){t.prototype.G.call(this),this.a&&(tS.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},n}(tR);function eF(t){tR.call(this),this.b=t,this.a={}}tO(eF,tR);var eV=[];function eU(t,e,n,r){Array.isArray(n)||(n&&(eV[0]=n.toString()),n=eV);for(var i=0;i<n.length;i++){var o=ep(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function eB(t){tK(t.a,function(t,e){this.a.hasOwnProperty(e)&&eg(t)},t),t.a={}}function eq(){this.a=!0}function ez(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}}return e_(n)}catch(t){return e}}(t,n)+(r?" "+r:"")})}eF.prototype.G=function(){eF.X.G.call(this),eB(this)},eF.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},eq.prototype.info=function(){};var eK={},eW=null;function eG(){return eW=eW||new eT}function eH(t){en.call(this,eK.Fa,t)}function eQ(t){var e=eG();eS(e,new eH(e,t))}function eY(t,e){en.call(this,eK.STAT_EVENT,t),this.stat=e}function eX(t){var e=eG();eS(e,new eY(e,t))}function e$(t){en.call(this,eK.Ga,t)}function eJ(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return tS.setTimeout(function(){t()},e)}eK.Fa="serverreachability",tO(eH,en),eK.STAT_EVENT="statevent",tO(eY,en),eK.Ga="timingevent",tO(e$,en);var eZ={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},e0={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function e1(){}function e2(t){var e;return(e=t.a)||(e=t.a={}),e}function e3(){}e1.prototype.a=null;var e4={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function e5(){en.call(this,"d")}function e6(){en.call(this,"c")}function e8(){}function e9(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new eF(this),this.P=e7,t=tJ?125:void 0,this.R=new eR(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}tO(e5,en),tO(e6,en),tO(e8,e1),od=new e8;var e7=45e3,nt={},ne={};function nn(t,e,n){t.H=1,t.i=nT(ny(e)),t.j=n,t.I=!0,nr(t,null)}function nr(t,e){t.u=tN(),no(t),t.l=ny(t.i);var n,r,i,o,s,a,u=t.l,c=t.S;Array.isArray(c)||(c=[String(c)]),nL(u.b,"t",c),t.D=0,t.a=rb(t.g,t.g.C?e:null),0<t.O&&(t.F=new ej(tP(t.Ca,t,t.a),t.O)),eU(t.J,t.a,"readystatechange",t.Xa),e=t.B?tW(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),eQ(1),n=t.c,r=t.m,i=t.l,o=t.f,s=t.S,a=t.j,n.info(function(){if(n.a)if(a)for(var t="",e=a.split("&"),u=0;u<e.length;u++){var c=e[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");t=2<=h.length&&"type"==h[1]?t+(l+"=")+c+"&":t+(l+"=redacted&")}}else t=null;else t=a;return"XMLHTTP REQ ("+o+") [attempt "+s+"]: "+r+"\n"+i+"\n"+t})}function ni(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=function(t,e){var n=t.D,r=e.indexOf("\n",n);return -1==r?ne:isNaN(n=Number(e.substring(n,r)))?nt:(r+=1)+n>e.length?ne:(e=e.substr(r,n),t.D=r+n,e)}(t,n);if(i==ne){4==e&&(t.h=4,eX(14),r=!1),ez(t.c,t.f,null,"[Incomplete Response]");break}if(i==nt){t.h=4,eX(15),ez(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}ez(t.c,t.f,i,null),nl(t,i)}4==e&&0==n.length&&(t.h=1,eX(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),rh(e),e.F=!0,eX(11))):(ez(t.c,t.f,n,"[Invalid Chunked Response]"),nc(t),nu(t))}function no(t){t.T=tN()+t.P,ns(t,t.P)}function ns(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=eJ(tP(t.Va,t),e)}function na(t){t.o&&(tS.clearTimeout(t.o),t.o=null)}function nu(t){0==t.g.v||t.A||rp(t.g,t)}function nc(t){na(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,eM(t.R),eB(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function nl(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||nz(n.b,t))){if(n.I=t.N,!t.C&&nz(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a)if(n.a.u+3e3<t.u)rd(n),rn(n);else break t;rl(n),eX(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=eJ(tP(n.Sa,n),6e3));if(1>=nq(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else rg(n,11)}else if((t.C||n.a==t)&&rd(n),!tV(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(tB(l,"spdy")||tB(l,"quic")||tB(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(nK(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,nE(u.B,u.A,f))}}if(n.v=3,n.f&&n.f.ta(),n.U&&(n.N=tN()-t.u,n.c.info("Handshake RTT: "+n.N+"ms")),(u=n).la=rv(u,u.C?u.ga:null,u.fa),t.C){nW(u.b,t);var d=u.D;d&&t.setTimeout(d),t.o&&(na(t),no(t)),u.a=t}else rc(u);0<n.g.length&&ro(n)}else"stop"!=i[0]&&"close"!=i[0]||rg(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?rg(n,7):re(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0)}eQ(4)}catch(t){}}function nh(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(t_(t)||"string"==typeof t)tL(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(t_(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(t_(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function nf(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof nf)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function nd(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];np(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)np(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function np(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(tx=e9.prototype).setTimeout=function(t){this.P=t},tx.Xa=function(t){t=t.target;var e=this.F;e&&3==n8(t)?e.f():this.Ca(t)},tx.Ca=function(t){try{if(t==this.a)t:{var e=n8(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!tJ&&!this.a.$())){this.A||4!=e||7==n||(8==n||0>=r?eQ(3):eQ(2)),na(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,s=this.c,a=this.m,u=this.l,c=this.f,l=this.S,s.info(function(){return"XMLHTTP RESP ("+c+") [ attempt "+l+"]: "+a+"\n"+u+"\n"+e+" "+i}),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a,u,c,l,h,f=this.a;if((h=f.a?f.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tV(h)){var d=h;break e}}d=null}if(d)ez(this.c,this.f,d,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,nl(this,d);else{this.b=!1,this.h=3,eX(12),nc(this),nu(this);break t}}this.I?(ni(this,e,o),tJ&&this.b&&3==e&&(eU(this.J,this.R,"tick",this.Wa),this.R.start())):(ez(this.c,this.f,o,null),nl(this,o)),4==e&&nc(this),this.b&&!this.A&&(4==e?rp(this.g,this):(this.b=!1,no(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,eX(12)):(this.h=0,eX(13)),nc(this),nu(this)}}}catch(t){}finally{}},tx.Wa=function(){if(this.a){var t=n8(this.a),e=this.a.$();this.D<e.length&&(na(this),ni(this,t,e),this.b&&4!=t&&no(this))}},tx.cancel=function(){this.A=!0,nc(this)},tx.Va=function(){this.o=null;var t,e,n=tN();0<=n-this.T?(t=this.c,e=this.l,t.info(function(){return"TIMEOUT: "+e}),2!=this.H&&(eQ(3),eX(17)),nc(this),this.h=2,nu(this)):ns(this,this.T-n)},(tx=nf.prototype).K=function(){nd(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},tx.L=function(){return nd(this),this.a.concat()},tx.get=function(t,e){return np(this.b,t)?this.b[t]:e},tx.set=function(t,e){np(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},tx.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var nm=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ng(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof ng){this.a=void 0!==e?e:t.a,nv(this,t.f),this.j=t.j,nb(this,t.c),nw(this,t.h),this.g=t.g,e=t.b;var n=new nN;n.c=e.c,e.a&&(n.a=new nf(e.a),n.b=e.b),nx(this,n),this.i=t.i}else t&&(n=String(t).match(nm))?(this.a=!!e,nv(this,n[1]||"",!0),this.j=nS(n[2]||""),nb(this,n[3]||"",!0),nw(this,n[4]),this.g=nS(n[5]||"",!0),nx(this,n[6]||"",!0),this.i=nS(n[7]||"")):(this.a=!!e,this.b=new nN(null,this.a))}function ny(t){return new ng(t)}function nv(t,e,n){t.f=n?nS(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function nb(t,e,n){t.c=n?nS(e,!0):e}function nw(t,e){if(e){if(isNaN(e=Number(e))||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function nx(t,e,n){var r,i;e instanceof nN?(t.b=e,r=t.b,(i=t.a)&&!r.f&&(nO(r),r.c=null,r.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(nR(this,e),nL(this,n,t))},r)),r.f=i):(n||(e=nI(e,nP)),t.b=new nN(e,t.a))}function nE(t,e,n){t.b.set(e,n)}function nT(t){return nE(t,"zx",Math.floor(0x80000000*Math.random()).toString(36)+Math.abs(Math.floor(0x80000000*Math.random())^tN()).toString(36)),t}function nS(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function nI(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,n_),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function n_(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ng.prototype.toString=function(){var t=[],e=this.f;e&&t.push(nI(e,nA,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(nI(e,nA,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(nI(n,"/"==n.charAt(0)?nC:nk,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",nI(n,nD)),t.join("")};var nA=/[#\/\?@]/g,nk=/[#\?:]/g,nC=/[#\?]/g,nP=/[#\?@]/g,nD=/#/g;function nN(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function nO(t){t.a||(t.a=new nf,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function nR(t,e){nO(t),e=nj(t,e),np(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,np((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&nd(t)))}function nM(t,e){return nO(t),e=nj(t,e),np(t.a.b,e)}function nL(t,e,n){nR(t,e),0<n.length&&(t.c=null,t.a.set(nj(t,e),tF(n)),t.b+=n.length)}function nj(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(tx=nN.prototype).add=function(t,e){nO(this),this.c=null,t=nj(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},tx.forEach=function(t,e){nO(this),this.a.forEach(function(n,r){tL(n,function(n){t.call(e,n,r,this)},this)},this)},tx.L=function(){nO(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},tx.K=function(t){nO(this);var e=[];if("string"==typeof t)nM(this,t)&&(e=tj(e,this.a.get(nj(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=tj(e,t[n])}return e},tx.set=function(t,e){return nO(this),this.c=null,nM(this,t=nj(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},tx.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},tx.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var nF=function(t,e){this.b=t,this.a=e};function nV(t){this.g=t||nU,t=tS.PerformanceNavigationTiming?0<(t=tS.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(tS.ia&&tS.ia.ya&&tS.ia.ya()&&tS.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var nU=10;function nB(t){return!!t.b||!!t.a&&t.a.size>=t.f}function nq(t){return t.b?1:t.a?t.a.size:0}function nz(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function nK(t,e){t.a?t.a.add(e):t.b=e}function nW(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function nG(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=tm(t.a.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return tF(t.c)}function nH(){}function nQ(){this.a=new nH}function nY(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}nV.prototype.cancel=function(){var t,e;if(this.c=nG(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=tm(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},nH.prototype.stringify=function(t){return tS.JSON.stringify(t,void 0)},nH.prototype.parse=function(t){return tS.JSON.parse(t,void 0)};var nX=tS.JSON.parse;function n$(t){eT.call(this),this.headers=new nf,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=nJ,this.D=this.F=!1}tO(n$,eT);var nJ="",nZ=/^https?$/i,n0=["POST","PUT"];function n1(t){return"content-type"==t.toLowerCase()}function n2(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,n3(t),n5(t)}function n3(t){t.u||(t.u=!0,eS(t,"complete"),eS(t,"error"))}function n4(t){if(t.b&&void 0!==tT&&(!t.s[1]||4!=n8(t)||2!=t.W())){if(t.l&&4==n8(t))eL(t.za,0,t);else if(eS(t,"readystatechange"),4==n8(t)){t.b=!1;try{var e,n,r=t.W();switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break;default:i=!1}if(!(e=i)){if(n=0===r){var o=String(t.B).match(nm)[1]||null;if(!o&&tS.self&&tS.self.location){var s=tS.self.location.protocol;o=s.substr(0,s.length-1)}n=!nZ.test(o?o.toLowerCase():"")}e=n}if(e)eS(t,"complete"),eS(t,"success");else{t.h=6;try{var a=2<n8(t)?t.a.statusText:""}catch(t){a=""}t.f=a+" ["+t.W()+"]",n3(t)}}finally{n5(t)}}}}function n5(t,e){if(t.a){n6(t);var n=t.a,r=t.s[0]?tI:null;t.a=null,t.s=null,e||eS(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function n6(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(tS.clearTimeout(t.m),t.m=null)}function n8(t){return t.a?t.a.readyState:0}function n9(t,e,n){t:{for(i in n){var r,i=!1;break t}i=!0}i||(r="",tK(n,function(t,e){r+=e,r+=":",r+=t,r+="\r\n"}),n=r,"string"==typeof t?null!=n&&encodeURIComponent(String(n)):nE(t,e,n))}function n7(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function rt(t){this.pa=0,this.g=[],this.c=new eq,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=n7("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=n7("baseRetryDelayMs",5e3,t),this.Ra=n7("retryDelaySeedMs",1e4,t),this.Ma=n7("forwardChannelMaxRetries",2,t),this.ma=n7("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new nV(t&&t.concurrentRequestLimit),this.ka=new nQ,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function re(t){if(rr(t),3==t.v){var e=t.R++,n=ny(t.B);nE(n,"SID",t.J),nE(n,"RID",e),nE(n,"TYPE","terminate"),ra(t,n),(e=new e9(t,t.c,e,void 0)).H=2,e.i=nT(ny(n)),n=!1,tS.navigator&&tS.navigator.sendBeacon&&(n=tS.navigator.sendBeacon(e.i.toString(),"")),!n&&tS.Image&&((new Image).src=e.i,n=!0),n||(e.a=rb(e.g,null),e.a.ba(e.i)),e.u=tN(),no(e)}ry(t)}function rn(t){t.a&&(rh(t),t.a.cancel(),t.a=null)}function rr(t){rn(t),t.j&&(tS.clearTimeout(t.j),t.j=null),rd(t),t.b.cancel(),t.h&&("number"==typeof t.h&&tS.clearTimeout(t.h),t.h=null)}function ri(t,e){t.g.push(new nF(t.Oa++,e)),3==t.v&&ro(t)}function ro(t){nB(t.b)||t.h||(t.h=!0,eP(t.Ba,t),t.u=0)}function rs(t,e){var n=e?e.f:t.R++,r=ny(t.B);nE(r,"SID",t.J),nE(r,"RID",n),nE(r,"AID",t.P),ra(t,r),t.i&&t.l&&n9(r,t.i,t.l),n=new e9(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=ru(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),nK(t.b,n),nn(n,r,e)}function ra(t,e){t.f&&nh({},function(t,n){nE(e,n,t)})}function ru(t,e,n){n=Math.min(t.g.length,n);for(var r=t.f?tP(t.f.Ja,t.f,t):null,i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{!function(t,e,n){var r=n||"";try{nh(t,function(t,n){var i=t;tA(t)&&(i=e_(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}(l,s,"req"+c+"_")}catch(t){r&&r(l)}}if(a){r=s.join("&");break}}return e.s=t=t.g.splice(0,n),r}function rc(t){t.a||t.j||(t.T=1,eP(t.Aa,t),t.o=0)}function rl(t){return!t.a&&!t.j&&!(3<=t.o)&&(t.T++,t.j=eJ(tP(t.Aa,t),rm(t,t.o)),t.o++,!0)}function rh(t){null!=t.s&&(tS.clearTimeout(t.s),t.s=null)}function rf(t){t.a=new e9(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=ny(t.la);nE(e,"RID","rpc"),nE(e,"SID",t.J),nE(e,"CI",t.H?"0":"1"),nE(e,"AID",t.P),ra(t,e),nE(e,"TYPE","xmlhttp"),t.i&&t.l&&n9(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=nT(ny(e)),n.j=null,n.I=!0,nr(n,t)}function rd(t){null!=t.m&&(tS.clearTimeout(t.m),t.m=null)}function rp(t,e){var n,r=null;if(t.a==e){rd(t),rh(t),t.a=null;var i=2}else{if(!nz(t.b,e))return;r=e.s,nW(t.b,e),i=1}if(t.I=e.N,0!=t.v){if(e.b)if(1==i){r=e.j?e.j.length:0,e=tN()-e.u;var o=t.u;eS(i=eG(),new e$(i,r,e,o)),ro(t)}else rc(t);else if(3==(o=e.h)||0==o&&0<t.I||!(1==i&&(n=e,!(nq(t.b)>=t.b.f-!!t.h)&&(t.h?(t.g=n.s.concat(t.g),!0):1!=t.v&&2!=t.v&&!(t.u>=(t.La?0:t.Ma))&&(t.h=eJ(tP(t.Ba,t,n),rm(t,t.u)),t.u++,!0)))||2==i&&rl(t)))switch(r&&0<r.length&&((e=t.b).c=e.c.concat(r)),o){case 1:rg(t,5);break;case 4:rg(t,10);break;case 3:rg(t,6);break;default:rg(t,2)}}}function rm(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function rg(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=tP(t.Ya,t);n||(n=new ng("//www.google.com/images/cleardot.gif"),tS.location&&"http"==tS.location.protocol||nv(n,"https"),nT(n));var i=n.toString(),o=new eq;if(tS.Image){var s=new Image;s.onload=tD(nY,o,s,"TestLoadImage: loaded",!0,r),s.onerror=tD(nY,o,s,"TestLoadImage: error",!1,r),s.onabort=tD(nY,o,s,"TestLoadImage: abort",!1,r),s.ontimeout=tD(nY,o,s,"TestLoadImage: timeout",!1,r),tS.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else r(!1)}else eX(2);t.v=0,t.f&&t.f.ra(e),ry(t),rr(t)}function ry(t){t.v=0,t.I=-1,t.f&&((0!=nG(t.b).length||0!=t.g.length)&&(t.b.c.length=0,tF(t.g),t.g.length=0),t.f.qa())}function rv(t,e,n){var r=(i=n)instanceof ng?ny(i):new ng(i,void 0);if(""!=r.c)e&&nb(r,e+"."+r.c),nw(r,r.h);else{var i,o,s,a,u,c,l=tS.location;o=l.protocol,s=e?e+"."+l.hostname:l.hostname,a=+l.port,u=n,c=new ng(null,void 0),o&&nv(c,o),s&&nb(c,s),a&&nw(c,a),u&&(c.g=u),r=c}return t.V&&tK(t.V,function(t,e){nE(r,e,t)}),e=t.A,n=t.na,e&&n&&nE(r,e,n),nE(r,"VER",t.ha),ra(t,r),r}function rb(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new n$(t.Na)).F=t.C,e}function rw(){}function rx(){if(tX&&!(10<=Number(t9)))throw Error("Environmental error: no available transport.")}function rE(t,e){eT.call(this),this.a=new rt(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!tV(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!tV(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new rI(this)}function rT(t){e5.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function rS(){e6.call(this),this.status=1}function rI(t){this.a=t}(tx=n$.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?e2(this.H):e2(od),this.a.onreadystatechange=tP(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){n2(this,t);return}t=n||"";var i,o=new nf(this.headers);r&&nh(r,function(t,e){o.set(e,t)}),r=function(t){t:{for(var e=n1,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.L()),n=tS.FormData&&t instanceof tS.FormData,!(0<=tM(n0,e))||r||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{n6(this),0<this.o&&((this.D=(i=this.a,tX&&t8(9)&&"number"==typeof i.timeout&&void 0!==i.ontimeout))?(this.a.timeout=this.o,this.a.ontimeout=tP(this.xa,this)):this.m=eL(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){n2(this,t)}},tx.xa=function(){void 0!==tT&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,eS(this,"timeout"),this.abort(8))},tx.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,eS(this,"complete"),eS(this,"abort"),n5(this))},tx.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),n5(this,!0)),n$.X.G.call(this)},tx.za=function(){this.j||(this.A||this.l||this.g?n4(this):this.Ua())},tx.Ua=function(){n4(this)},tx.W=function(){try{return 2<n8(this)?this.a.status:-1}catch(t){return -1}},tx.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},tx.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),nX(e)}},tx.ua=function(){return this.h},tx.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(tx=rt.prototype).ha=8,tx.v=1,tx.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new e9(this,this.c,t,void 0),r=this.l;if(this.O&&(r?tH(r=tW(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){e:{var o=this.g[i];if("__data__"in o.a&&"string"==typeof(o=o.a.__data__)){o=o.length;break e}o=void 0}if(void 0===o)break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=ru(this,n,e),nE(i=ny(this.B),"RID",t),nE(i,"CVER",22),this.A&&nE(i,"X-HTTP-Session-Id",this.A),ra(this,i),this.i&&r&&n9(i,this.i,r),nK(this.b,n),this.Ia&&nE(i,"TYPE","init"),this.da?(nE(i,"$req",e),nE(i,"SID","null"),n.U=!0,nn(n,i,null)):nn(n,i,e),this.v=2}}else 3==this.v&&(t?rs(this,t):0==this.g.length||nB(this.b)||rs(this))},tx.Aa=function(){if(this.j=null,rf(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=eJ(tP(this.Ta,this),t)}},tx.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,eX(10),rn(this),rf(this))},tx.Sa=function(){null!=this.m&&(this.m=null,rn(this),rl(this),eX(19))},tx.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),eX(2)):(this.c.info("Failed to ping google.com"),eX(1))},(tx=rw.prototype).ta=function(){},tx.sa=function(){},tx.ra=function(){},tx.qa=function(){},tx.Ja=function(){},rx.prototype.a=function(t,e){return new rE(t,e)},tO(rE,eT),rE.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;eX(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=rv(t,null,t.fa),ro(t)},rE.prototype.close=function(){re(this.a)},rE.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,ri(this.a,e)}else this.l?((e={}).__data__=e_(t),ri(this.a,e)):ri(this.a,t)},rE.prototype.G=function(){this.a.f=null,delete this.f,re(this.a),delete this.a,rE.X.G.call(this)},tO(rT,e5),tO(rS,e6),tO(rI,rw),rI.prototype.ta=function(){eS(this.a,"a")},rI.prototype.sa=function(t){eS(this.a,new rT(t))},rI.prototype.ra=function(t){eS(this.a,new rS(t))},rI.prototype.qa=function(){eS(this.a,"b")},rx.prototype.createWebChannel=rx.prototype.a,rE.prototype.send=rE.prototype.h,rE.prototype.open=rE.prototype.g,rE.prototype.close=rE.prototype.close,eZ.NO_ERROR=0,eZ.TIMEOUT=8,eZ.HTTP_ERROR=6,e0.COMPLETE="complete",e3.EventType=e4,e4.OPEN="a",e4.CLOSE="b",e4.ERROR="c",e4.MESSAGE="d",eT.prototype.listen=eT.prototype.va,n$.prototype.listenOnce=n$.prototype.wa,n$.prototype.getLastError=n$.prototype.Qa,n$.prototype.getLastErrorCode=n$.prototype.ua,n$.prototype.getStatus=n$.prototype.W,n$.prototype.getResponseJson=n$.prototype.Pa,n$.prototype.getResponseText=n$.prototype.$,n$.prototype.send=n$.prototype.ba;var r_=t.i(47167),rA=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();rA.o=-1;var rk={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},rC=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return S(e,t),e}(Error),rP=new tn("@firebase/firestore");function rD(){return rP.logLevel}function rN(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(rP.logLevel<=tv.DEBUG){var r=e.map(rM);rP.debug.apply(rP,P(["Firestore (8.5.0): "+t],r))}}function rO(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(rP.logLevel<=tv.ERROR){var r=e.map(rM);rP.error.apply(rP,P(["Firestore (8.5.0): "+t],r))}}function rR(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(rP.logLevel<=tv.WARN){var r=e.map(rM);rP.warn.apply(rP,P(["Firestore (8.5.0): "+t],r))}}function rM(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function rL(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.5.0) INTERNAL ASSERTION FAILED: "+t;throw rO(e),Error(e)}var rj=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=function(t){var e="u">typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(40);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<40;r++)n[r]=Math.floor(256*Math.random());return n}(0),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function rF(t,e){return t<e?-1:+(t>e)}function rV(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}var rU=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0||e>=1e9)throw new rC(rk.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-0xe7791f700||t>=0x3afff44180)throw new rC(rk.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?rF(this.nanoseconds,t.nanoseconds):rF(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -0xe7791f700).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),rB=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new rU(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function rq(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function rz(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rK(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var rW=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&rL(),void 0===n?n=t.length-e:n>t.length-e&&rL(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return -1;if(i>o)return 1}return t.length<e.length?-1:+(t.length>e.length)},t}(),rG=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return S(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0;i<t.length;i++){var o=t[i];if(o.indexOf("//")>=0)throw new rC(rk.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(rW),rH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,rQ=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return S(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return rH.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new rC(rk.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new rC(rk.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new rC(rk.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?s=!s:"."!==a||s?r+=a:o(),i++}if(o(),s)throw new rC(rk.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(rW),rY=function(){function t(t){this.fields=t,t.sort(rQ.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return rV(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),rX=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){for(var t=this.binaryString,e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return rF(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();rX.EMPTY_BYTE_STRING=new rX("");var r$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rJ(t){if(t||rL(),"string"==typeof t){var e=0,n=r$.exec(t);if(n||rL(),n[1]){var r=n[1];e=Number(r=(r+"000000000").substr(0,9))}return{seconds:Math.floor(new Date(t).getTime()/1e3),nanos:e}}return{seconds:rZ(t.seconds),nanos:rZ(t.nanos)}}function rZ(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function r0(t){return"string"==typeof t?rX.fromBase64String(t):rX.fromUint8Array(t)}function r1(t){var e,n;return"server_timestamp"===(null==(n=((null==(e=null==t?void 0:t.mapValue)?void 0:e.fields)||{}).__type__)?void 0:n.stringValue)}function r2(t){var e=rJ(t.mapValue.fields.__local_write_time__.timestampValue);return new rU(e.seconds,e.nanos)}function r3(t){return null==t}function r4(t){return 0===t&&1/t==-1/0}function r5(t){return"number"==typeof t&&Number.isInteger(t)&&!r4(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var r6=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(rG.fromString(e))},t.fromName=function(e){return new t(rG.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===rG.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return rG.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new rG(e.slice()))},t}();function r8(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?r1(t)?4:10:rL()}function r9(t,e){var n=r8(t);if(n!==r8(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return r2(t).isEqual(r2(e));case 3:if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var r=rJ(t.timestampValue),i=rJ(e.timestampValue);return r.seconds===i.seconds&&r.nanos===i.nanos;case 5:return t.stringValue===e.stringValue;case 6:return r0(t.bytesValue).isEqual(r0(e.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return rZ(t.geoPointValue.latitude)===rZ(e.geoPointValue.latitude)&&rZ(t.geoPointValue.longitude)===rZ(e.geoPointValue.longitude);case 2:if("integerValue"in t&&"integerValue"in e)return rZ(t.integerValue)===rZ(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var o=rZ(t.doubleValue),s=rZ(e.doubleValue);return o===s?r4(o)===r4(s):isNaN(o)&&isNaN(s)}return!1;case 9:return rV(t.arrayValue.values||[],e.arrayValue.values||[],r9);case 10:var a=t.mapValue.fields||{},u=e.mapValue.fields||{};if(rq(a)!==rq(u))return!1;for(var c in a)if(a.hasOwnProperty(c)&&(void 0===u[c]||!r9(a[c],u[c])))return!1;return!0;default:return rL()}}function r7(t,e){return void 0!==(t.values||[]).find(function(t){return r9(t,e)})}function it(t,e){var n,r,i,o,s,a,u,c,l,h=r8(t),f=r8(e);if(h!==f)return rF(h,f);switch(h){case 0:return 0;case 1:return rF(t.booleanValue,e.booleanValue);case 2:return(n=rZ(t.integerValue||t.doubleValue))<(r=rZ(e.integerValue||e.doubleValue))?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1;case 3:return ie(t.timestampValue,e.timestampValue);case 4:return ie(r2(t),r2(e));case 5:return rF(t.stringValue,e.stringValue);case 6:return i=t.bytesValue,o=e.bytesValue,s=r0(i),a=r0(o),s.compareTo(a);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=rF(n[i],r[i]);if(0!==o)return o}return rF(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return u=t.geoPointValue,c=e.geoPointValue,0!==(l=rF(rZ(u.latitude),rZ(c.latitude)))?l:rF(rZ(u.longitude),rZ(c.longitude));case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=it(n[i],r[i]);if(o)return o}return rF(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=rF(r[s],o[s]);if(0!==a)return a;var u=it(n[r[s]],i[o[s]]);if(0!==u)return u}return rF(r.length,o.length)}(t.mapValue,e.mapValue);default:throw rL()}}function ie(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return rF(t,e);var n=rJ(t),r=rJ(e),i=rF(n.seconds,r.seconds);return 0!==i?i:rF(n.nanos,r.nanos)}function ir(t){var e,n,r;return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?"time("+(r=rJ(t.timestampValue)).seconds+","+r.nanos+")":"stringValue"in t?t.stringValue:"bytesValue"in t?r0(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,r6.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=ir(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+ir(t.fields[o])}return e+"}"}(t.mapValue):rL()}function ii(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function io(t){return!!t&&"integerValue"in t}function is(t){return!!t&&"arrayValue"in t}function ia(t){return!!t&&"nullValue"in t}function iu(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ic(t){return!!t&&"mapValue"in t}var il=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(rQ.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach(function(t,n){t?e.set(n,t):e.delete(n)})},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return r9(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map||(o=o&&10===r8(o)?new Map(Object.entries(o.mapValue.fields||{})):new Map,n.set(i,o)),n=o}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),s=ic(o)?Object.assign({},o.mapValue.fields):{};return n.forEach(function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(s[n]=o,i=!0)}else null!==t?(s[n]=t,i=!0):s.hasOwnProperty(n)&&(delete s[n],i=!0)}),i?{mapValue:{fields:s}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(rQ.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r)if(!n.mapValue.fields||!ic(n=n.mapValue.fields[e.get(r)]))return null;return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}(),ih=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,rB.min(),il.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,il.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,il.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=il.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=il.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),id=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function ip(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new id(t,e,n,r,i,o,s)}function im(t){if(null===t.h){var e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(function(t){return t.field.canonicalString()+t.op.toString()+ir(t.value)}).join(","),e+="|ob:",e+=t.orderBy.map(function(t){return t.field.canonicalString()+t.dir}).join(","),r3(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=ik(t.startAt)),t.endAt&&(e+="|ub:",e+=ik(t.endAt)),t.h=e}return t.h}function ig(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n,r,i,o,s=0;s<t.orderBy.length;s++){if(n=t.orderBy[s],r=e.orderBy[s],!(n.dir===r.dir&&n.field.isEqual(r.field)))return!1}if(t.filters.length!==e.filters.length)return!1;for(var a=0;a<t.filters.length;a++)if(i=t.filters[a],o=e.filters[a],i.op!==o.op||!i.field.isEqual(o.field)||!r9(i.value,o.value))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iD(t.startAt,e.startAt)&&iD(t.endAt,e.endAt)}function iy(t){return r6.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var iv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return S(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new ib(t,n,r):"array-contains"===n?new iT(t,r):"in"===n?new iS(t,r):"not-in"===n?new iI(t,r):"array-contains-any"===n?new i_(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new iw(t,n):new ix(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(it(e,this.value)):null!==e&&r8(this.value)===r8(e)&&this.m(it(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return rL()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),ib=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=r6.fromName(r.referenceValue),i}return S(e,t),e.prototype.matches=function(t){var e=r6.comparator(t.key,this.key);return this.m(e)},e}(iv),iw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=iE("in",n),r}return S(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(iv),ix=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=iE("not-in",n),r}return S(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(iv);function iE(t,e){var n;return((null==(n=e.arrayValue)?void 0:n.values)||[]).map(function(t){return r6.fromName(t.referenceValue)})}var iT=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return S(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return is(e)&&r7(e.arrayValue,this.value)},e}(iv),iS=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return S(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&r7(this.value.arrayValue,e)},e}(iv),iI=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return S(e,t),e.prototype.matches=function(t){if(r7(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!r7(this.value.arrayValue,e)},e}(iv),i_=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return S(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!is(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return r7(e.value.arrayValue,t)})},e}(iv),iA=function(t,e){this.position=t,this.before=e};function ik(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return ir(t)}).join(",")}var iC=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function iP(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?r6.comparator(r6.fromName(s.referenceValue),n.key):it(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function iD(t,e){if(null===t)return null===e;if(null===e||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!r9(t.position[n],e.position[n]))return!1;return!0}var iN=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null,this.startAt,this.endAt};function iO(t){return new iN(t)}function iR(t){return!r3(t.limit)&&"F"===t.limitType}function iM(t){return!r3(t.limit)&&"L"===t.limitType}function iL(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ij(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function iF(t){return null!==t.collectionGroup}function iV(t){if(null===t.p){t.p=[];var e=ij(t),n=iL(t);if(null!==e&&null===n)e.isKeyField()||t.p.push(new iC(e)),t.p.push(new iC(rQ.keyField(),"asc"));else{for(var r=!1,i=0,o=t.explicitOrderBy;i<o.length;i++){var s=o[i];t.p.push(s),s.field.isKeyField()&&(r=!0)}if(!r){var a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new iC(rQ.keyField(),a))}}}return t.p}function iU(t){if(!t.T)if("F"===t.limitType)t.T=ip(t.path,t.collectionGroup,iV(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var e=[],n=0,r=iV(t);n<r.length;n++){var i=r[n],o="desc"===i.dir?"asc":"desc";e.push(new iC(i.field,o))}var s=t.endAt?new iA(t.endAt.position,!t.endAt.before):null,a=t.startAt?new iA(t.startAt.position,!t.startAt.before):null;t.T=ip(t.path,t.collectionGroup,e,t.filters,t.limit,s,a)}return t.T}function iB(t,e,n){return new iN(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function iq(t,e){return ig(iU(t),iU(e))&&t.limitType===e.limitType}function iz(t){return im(iU(t))+"|lt:"+t.limitType}function iK(t){var e,n;return"Query(target="+(n=(e=iU(t)).path.canonicalString(),null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(t){return t.field.canonicalString()+" "+t.op+" "+ir(t.value)}).join(", ")+"]"),r3(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(t){return t.field.canonicalString()+" ("+t.dir+")"}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+ik(e.startAt)),e.endAt&&(n+=", endAt: "+ik(e.endAt)),"Target("+n+")")+"; limitType="+t.limitType+")"}function iW(t,e){var n;return e.isFoundDocument()&&(n=e.key.path,null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):r6.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n))&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&!(t.startAt&&!iP(t.startAt,iV(t),e))&&(!t.endAt||!iP(t.endAt,iV(t),e))}function iG(t){return function(e,n){for(var r=!1,i=0,o=iV(t);i<o.length;i++){var s=o[i],a=function(t,e,n){var r,i,o,s=t.field.isKeyField()?r6.comparator(e.key,n.key):(r=t.field,i=e.data.field(r),o=n.data.field(r),null!==i&&null!==o?it(i,o):rL());switch(t.dir){case"asc":return s;case"desc":return -1*s;default:return rL()}}(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function iH(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:r4(e)?"-0":e}}function iQ(t){return{integerValue:""+t}}function iY(t,e){return r5(e)?iQ(e):iH(t,e)}var iX=function(){this._=void 0};function i$(t,e){return t instanceof i3?io(e)||e&&"doubleValue"in e?e:{integerValue:0}:null}var iJ=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return S(e,t),e}(iX),iZ=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return S(e,t),e}(iX);function i0(t,e){for(var n=i5(e),r=function(t){n.some(function(e){return r9(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var i1=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return S(e,t),e}(iX);function i2(t,e){for(var n=i5(e),r=function(t){n=n.filter(function(e){return!r9(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var i3=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return S(e,t),e}(iX);function i4(t){return rZ(t.integerValue||t.doubleValue)}function i5(t){return is(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var i6=function(t,e){this.field=t,this.transform=e},i8=function(t,e){this.version=t,this.transformResults=e},i9=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function i7(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var ot=function(){};function oe(t,e,n){t instanceof oi?function(t,e,n){if(i7(t.precondition,e)){var r=t.value.clone(),i=ou(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(or(e),r).setHasLocalMutations()}}(t,e,n):t instanceof oo?function(t,e,n){if(i7(t.precondition,e)){var r=ou(t.fieldTransforms,n,e),i=e.data;i.setAll(os(t)),i.setAll(r),e.convertToFoundDocument(or(e),i).setHasLocalMutations()}}(t,e,n):i7(t.precondition,e)&&e.convertToNoDocument(rB.min())}function on(t,e){var n,r;return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(n=t.fieldTransforms,r=e.fieldTransforms,!!(void 0===n&&void 0===r||!(!n||!r)&&rV(n,r,function(t,e){var n,r;return t.field.isEqual(e.field)&&(n=t.transform,r=e.transform,n instanceof iZ&&r instanceof iZ||n instanceof i1&&r instanceof i1?rV(n.elements,r.elements,r9):n instanceof i3&&r instanceof i3?r9(n.A,r.A):n instanceof iJ&&r instanceof iJ)})))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function or(t){return t.isFoundDocument()?t.version:rB.min()}var oi=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return S(e,t),e}(ot),oo=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return S(e,t),e}(ot);function os(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function oa(t,e,n){var r=new Map;t.length===n.length||rL();for(var i=0;i<n.length;i++){var o,s=t[i],a=s.transform,u=e.data.field(s.field);r.set(s.field,(o=n[i],a instanceof iZ?i0(a,u):a instanceof i1?i2(a,u):o))}return r}function ou(t,e,n){for(var r=new Map,i=0;i<t.length;i++){var o=t[i],s=o.transform,a=n.data.field(o.field);r.set(o.field,function(t,e,n){var r,i,o;return t instanceof iJ?(r={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}},e&&(r.fields.__previous_value__=e),{mapValue:r}):t instanceof iZ?i0(t,e):t instanceof i1?i2(t,e):(o=i4(i=i$(t,e))+i4(t.A),io(i)&&io(t.A)?iQ(o):iH(t.R,o))}(s,a,e))}return r}var oc,ol,oh,of,od,op,om,og=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return S(e,t),e}(ot),oy=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return S(e,t),e}(ot),ov=function(t){this.count=t};function ob(t){switch(t){case rk.OK:return rL();case rk.CANCELLED:case rk.UNKNOWN:case rk.DEADLINE_EXCEEDED:case rk.RESOURCE_EXHAUSTED:case rk.INTERNAL:case rk.UNAVAILABLE:case rk.UNAUTHENTICATED:return!1;case rk.INVALID_ARGUMENT:case rk.NOT_FOUND:case rk.ALREADY_EXISTS:case rk.PERMISSION_DENIED:case rk.FAILED_PRECONDITION:case rk.ABORTED:case rk.OUT_OF_RANGE:case rk.UNIMPLEMENTED:case rk.DATA_LOSS:return!0;default:return rL()}}function ow(t){if(void 0===t)return rO("GRPC error has no .code"),rk.UNKNOWN;switch(t){case op.OK:return rk.OK;case op.CANCELLED:return rk.CANCELLED;case op.UNKNOWN:return rk.UNKNOWN;case op.DEADLINE_EXCEEDED:return rk.DEADLINE_EXCEEDED;case op.RESOURCE_EXHAUSTED:return rk.RESOURCE_EXHAUSTED;case op.INTERNAL:return rk.INTERNAL;case op.UNAVAILABLE:return rk.UNAVAILABLE;case op.UNAUTHENTICATED:return rk.UNAUTHENTICATED;case op.INVALID_ARGUMENT:return rk.INVALID_ARGUMENT;case op.NOT_FOUND:return rk.NOT_FOUND;case op.ALREADY_EXISTS:return rk.ALREADY_EXISTS;case op.PERMISSION_DENIED:return rk.PERMISSION_DENIED;case op.FAILED_PRECONDITION:return rk.FAILED_PRECONDITION;case op.ABORTED:return rk.ABORTED;case op.OUT_OF_RANGE:return rk.OUT_OF_RANGE;case op.UNIMPLEMENTED:return rk.UNIMPLEMENTED;case op.DATA_LOSS:return rk.DATA_LOSS;default:return rL()}}(om=op||(op={}))[om.OK=0]="OK",om[om.CANCELLED=1]="CANCELLED",om[om.UNKNOWN=2]="UNKNOWN",om[om.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",om[om.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",om[om.NOT_FOUND=5]="NOT_FOUND",om[om.ALREADY_EXISTS=6]="ALREADY_EXISTS",om[om.PERMISSION_DENIED=7]="PERMISSION_DENIED",om[om.UNAUTHENTICATED=16]="UNAUTHENTICATED",om[om.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",om[om.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",om[om.ABORTED=10]="ABORTED",om[om.OUT_OF_RANGE=11]="OUT_OF_RANGE",om[om.UNIMPLEMENTED=12]="UNIMPLEMENTED",om[om.INTERNAL=13]="INTERNAL",om[om.UNAVAILABLE=14]="UNAVAILABLE",om[om.DATA_LOSS=15]="DATA_LOSS";var ox=function(){function t(t,e){this.comparator=t,this.root=e||oT.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,oT.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,oT.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return -1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new oE(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new oE(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new oE(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new oE(this.root,t,this.comparator,!0)},t}(),oE=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),oT=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(0>n(e,i.key))i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){return Math.pow(2,this.check())<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rL();var t=this.left.check();if(t!==this.right.check())throw rL();return t+ +!this.isRed()},t}();oT.EMPTY=null,oT.RED=!0,oT.BLACK=!1,oT.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw rL()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw rL()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw rL()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw rL()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw rL()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new oT(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var oS=function(){function t(t){this.comparator=t,this.data=new ox(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new oI(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new oI(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),oI=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),o_=new ox(r6.comparator),oA=new ox(r6.comparator),ok=new ox(r6.comparator),oC=new oS(r6.comparator);function oP(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=oC,r=0;r<t.length;r++){var i=t[r];n=n.add(i)}return n}var oD=new oS(rF),oN=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,oO.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(rB.min(),r,oD,o_,oP())},t}(),oO=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(rX.EMPTY_BYTE_STRING,n,oP(),oP(),oP())},t}(),oR=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},oM=function(t,e){this.targetId=t,this.V=e},oL=function(t,e,n,r){void 0===n&&(n=rX.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},oj=function(){function t(){this.S=0,this.D=oU(),this.C=rX.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=oP(),e=oP(),n=oP();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:rL()}}),new oO(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=oU()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),oF=function(){function t(t){this.W=t,this.G=new Map,this.H=o_,this.J=oV(),this.Y=new oS(rF)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:rL()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(iy(i))if(0===n){var o=new r6(i.path);this.tt(e,o,ih.newNoDocument(o,rB.min()))}else 1===n||rL();else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&iy(o.target)){var s=new r6(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,ih.newNoDocument(s,t))}r.O&&(n.set(i,r.M()),r.L())}});var r=oP();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new oN(t,n,this.Y,this.H,r);return this.H=o_,this.J=oV(),this.Y=new oS(rF),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=2*!!this.at(t,e.key);this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new oj,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new oS(rF),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||rN("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new oj),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function oV(){return new ox(r6.comparator)}function oU(){return new ox(r6.comparator)}var oB={asc:"ASCENDING",desc:"DESCENDING"},oq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oz=function(t,e){this.databaseId=t,this.I=e};function oK(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function oW(t,e){return t.I?e.toBase64():e.toUint8Array()}function oG(t){var e;return t||rL(),rB.fromTimestamp(new rU((e=rJ(t)).seconds,e.nanos))}function oH(t,e){return new rG(["projects",t.projectId,"databases",t.database]).child("documents").child(e).canonicalString()}function oQ(t){var e=rG.fromString(t);return sn(e)||rL(),e}function oY(t,e){return oH(t.databaseId,e.path)}function oX(t,e){var n=oQ(e);if(n.get(1)!==t.databaseId.projectId)throw new rC(rk.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new rC(rk.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new r6(o0(n))}function o$(t,e){return oH(t.databaseId,e)}function oJ(t){var e=oQ(t);return 4===e.length?rG.emptyPath():o0(e)}function oZ(t){return new rG(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function o0(t){return t.length>4&&"documents"===t.get(4)||rL(),t.popFirst(5)}function o1(t,e,n){return{name:oY(t,e),fields:n.toProto().mapValue.fields}}function o2(t,e,n){var r=oX(t,e.name),i=oG(e.updateTime),o=new il({mapValue:{fields:e.fields}}),s=ih.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function o3(t,e){var n,r,i,o;if(e instanceof oi)n={update:o1(t,e.key,e.value)};else if(e instanceof og)n={delete:oY(t,e.key)};else if(e instanceof oo){n={update:o1(t,e.key,e.data),updateMask:(i=e.fieldMask,o=[],i.fields.forEach(function(t){return o.push(t.canonicalString())}),{fieldPaths:o})}}else{if(!(e instanceof oy))return rL();n={verify:oY(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){var e=t.transform;if(e instanceof iJ)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(e instanceof iZ)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:e.elements}};if(e instanceof i1)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:e.elements}};if(e instanceof i3)return{fieldPath:t.field.canonicalString(),increment:e.A};throw rL()})),e.precondition.isNone||(n.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:oK(t,r.updateTime.toTimestamp())}:void 0!==r.exists?{exists:r.exists}:rL()),n}function o4(t,e){var n,r=e.currentDocument?void 0!==(n=e.currentDocument).updateTime?i9.updateTime(oG(n.updateTime)):void 0!==n.exists?i9.exists(n.exists):i9.none():i9.none(),i=e.updateTransforms?e.updateTransforms.map(function(e){var n=null;return"setToServerValue"in e?("REQUEST_TIME"===e.setToServerValue||rL(),n=new iJ):"appendMissingElements"in e?n=new iZ(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new i1(e.removeAllFromArray.values||[]):"increment"in e?n=new i3(t,e.increment):rL(),new i6(rQ.fromServerFormat(e.fieldPath),n)}):[];if(e.update){e.update.name;var o=oX(t,e.update.name),s=new il({mapValue:{fields:e.update.fields}});return e.updateMask?new oo(o,s,new rY((e.updateMask.fieldPaths||[]).map(function(t){return rQ.fromServerFormat(t)})),r,i):new oi(o,s,r,i)}return e.delete?new og(oX(t,e.delete),r):e.verify?new oy(oX(t,e.verify),r):rL()}function o5(t,e){return{documents:[o$(t,e.path)]}}function o6(t,e){var n,r={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(r.parent=o$(t,i),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=o$(t,i.popLast()),r.structuredQuery.from=[{collectionId:i.lastSegment()}]);var o=function(t){if(0!==t.length){var e=t.map(function(t){if("=="===t.op){if(iu(t.value))return{unaryFilter:{field:st(t.field),op:"IS_NAN"}};if(ia(t.value))return{unaryFilter:{field:st(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(iu(t.value))return{unaryFilter:{field:st(t.field),op:"IS_NOT_NAN"}};if(ia(t.value))return{unaryFilter:{field:st(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:st(t.field),op:oq[t.op],value:t.value}}});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);o&&(r.structuredQuery.where=o);var s=function(t){if(0!==t.length)return t.map(function(t){return{field:st(t.field),direction:oB[t.dir]}})}(e.orderBy);s&&(r.structuredQuery.orderBy=s);var a=(n=e.limit,t.I||r3(n)?n:{value:n});return null!==a&&(r.structuredQuery.limit=a),e.startAt&&(r.structuredQuery.startAt=o9(e.startAt)),e.endAt&&(r.structuredQuery.endAt=o9(e.endAt)),r}function o8(t){var e,n,r=oJ(t.parent),i=t.structuredQuery,o=i.from?i.from.length:0,s=null;if(o>0){1===o||rL();var a=i.from[0];a.allDescendants?s=a.collectionId:r=r.child(a.collectionId)}var u=[];i.where&&(u=function t(e){var n;return e?void 0!==e.unaryFilter?[function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=se(t.unaryFilter.field);return iv.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=se(t.unaryFilter.field);return iv.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=se(t.unaryFilter.field);return iv.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=se(t.unaryFilter.field);return iv.create(i,"!=",{nullValue:"NULL_VALUE"});default:return rL()}}(e)]:void 0!==e.fieldFilter?[(n=e,iv.create(se(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rL()}}(n.fieldFilter.op),n.fieldFilter.value))]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(function(e){return t(e)}).reduce(function(t,e){return t.concat(e)}):rL():[]}(i.where));var c=[];i.orderBy&&(c=i.orderBy.map(function(t){return new iC(se(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}));var l=null;i.limit&&(l=r3(n="object"==typeof(e=i.limit)?e.value:e)?null:n);var h=null;i.startAt&&(h=o7(i.startAt));var f=null;return i.endAt&&(f=o7(i.endAt)),new iN(r,s,c,u,l,"F",h,f)}function o9(t){return{before:t.before,values:t.position}}function o7(t){var e=!!t.before;return new iA(t.values||[],e)}function st(t){return{fieldPath:t.canonicalString()}}function se(t){return rQ.fromServerFormat(t.fieldPath)}function sn(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function sr(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e+="\x01\x01"),e=function(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}(t.get(n),e);return e+"\x01\x01"}function si(t){var e=t.length;if(e>=2||rL(),2===e)return"\x01"===t.charAt(0)&&"\x01"===t.charAt(1)||rL(),rG.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&rL(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:rL()}o=s+2}return new rG(r)}var so=function(t,e){this.seconds=t,this.nanoseconds=e},ss=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};ss.store="owner",ss.key="owner";var sa=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};sa.store="mutationQueues",sa.keyPath="userId";var su=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};su.store="mutations",su.keyPath="batchId",su.userMutationsIndex="userMutationsIndex",su.userMutationsKeyPath=["userId","batchId"];var sc=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,sr(e)]},t.key=function(t,e,n){return[t,sr(e),n]},t}();sc.store="documentMutations",sc.PLACEHOLDER=new sc;var sl=function(t,e){this.path=t,this.readTime=e},sh=function(t,e){this.path=t,this.version=e},sf=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};sf.store="remoteDocuments",sf.readTimeIndex="readTimeIndex",sf.readTimeIndexPath="readTime",sf.collectionReadTimeIndex="collectionReadTimeIndex",sf.collectionReadTimeIndexPath=["parentPath","readTime"];var sd=function(t){this.byteSize=t};sd.store="remoteDocumentGlobal",sd.key="remoteDocumentGlobalKey";var sp=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};sp.store="targets",sp.keyPath="targetId",sp.queryTargetsIndexName="queryTargetsIndex",sp.queryTargetsKeyPath=["canonicalId","targetId"];var sm=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};sm.store="targetDocuments",sm.keyPath=["targetId","path"],sm.documentTargetsIndex="documentTargetsIndex",sm.documentTargetsKeyPath=["path","targetId"];var sg=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};sg.key="targetGlobalKey",sg.store="targetGlobal";var sy=function(t,e){this.collectionId=t,this.parent=e};sy.store="collectionParents",sy.keyPath=["collectionId","parent"];var sv=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};sv.store="clientMetadata",sv.keyPath="clientId";var sb=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};sb.store="bundles",sb.keyPath="bundleId";var sw=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};sw.store="namedQueries",sw.keyPath="name";var sx=P(P([],P(P([],P(P([],P(P([],[sa.store,su.store,sc.store,sf.store,sp.store,ss.store,sg.store,sm.store]),[sv.store])),[sd.store])),[sy.store])),[sb.store,sw.store]),sE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",sT=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),sS=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},sI=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&rL(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0;i<e.length;i++)r(e[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),s_=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new sS,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new sC(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=sR(e.target.error);n.ft.reject(new sC(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(t){throw new sC(n,t)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(rN("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){return new sD(this.transaction.objectStore(t))},t}(),sA=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(L())&&rO("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return rN("SimpleDb","Removing database:",t),sN(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("u"<typeof indexedDB)return!1;if(t.gt())return!0;var e=L(),n=t._t(e),r=t.Et(e);return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||0<n&&n<10||0<r&&r<4.5)},t.gt=function(){var t;return void 0!==r_.default&&"YES"===(null==(t=r_.default.env)?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i);return Number(e?e[1].split("_").slice(0,2).join("."):"-1")},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i);return Number(e?e[1].split(".").slice(0,2).join("."):"-1")},t.prototype.At=function(t){return _(this,void 0,void 0,function(){var e,n=this;return A(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(rN("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new sC(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new rC(rk.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new sC(t,n))},i.onupgradeneeded=function(t){rN("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next(function(){rN("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return _(this,void 0,void 0,function(){var i,o,s,a,u;return A(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return A(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),s=r(e=s_.open(a.db,t,i?"readonly":"readwrite",n)).catch(function(t){return e.abort(t),sI.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return l="FirebaseError"!==(c=h.sent()).name&&o<3,rN("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),sk=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return sN(this.Pt.delete())},t}(),sC=function(t){function e(e,n){var r=this;return(r=t.call(this,rk.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return S(e,t),e}(rC);function sP(t){return"IndexedDbTransactionError"===t.name}var sD=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(rN("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(rN("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),sN(n)},t.prototype.add=function(t){return rN("SimpleDb","ADD",this.store.name,t,t),sN(this.store.add(t))},t.prototype.get=function(t){var e=this;return sN(this.store.get(t)).next(function(n){return void 0===n&&(n=null),rN("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return rN("SimpleDb","DELETE",this.store.name,t),sN(this.store.delete(t))},t.prototype.count=function(){return rN("SimpleDb","COUNT",this.store.name),sN(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){rN("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.Ot=function(t,e){e?n=t:(n={},e=t);var n,r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new sI(function(n,r){e.onerror=function(t){r(sR(t.target.error))},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new sI(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new sk(i),s=e(i.primaryKey,i.value,o);if(s instanceof sI){var a=s.catch(function(t){return o.done(),sI.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return sI.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function sN(t){return new sI(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){n(sR(t.target.error))}})}var sO=!1;function sR(t){var e=sA._t(L());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new rC("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return sO||(sO=!0,setTimeout(function(){throw r},0)),r}}return t}var sM=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return S(e,t),e}(sT);function sL(t,e){return sA.It(t.Mt,e)}var sj=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&function(t,e,n){var r,i;t instanceof oi?(r=t.value.clone(),i=oa(t.fieldTransforms,e,n.transformResults),r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()):t instanceof oo?function(t,e,n){if(i7(t.precondition,e)){var r=oa(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(os(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e,n=0,r=this.baseMutations;n<r.length;n++)(e=r[n]).key.isEqual(t.key)&&oe(e,t,this.localWriteTime);for(var i=0,o=this.mutations;i<o.length;i++)(e=o[i]).key.isEqual(t.key)&&oe(e,t,this.localWriteTime)},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key);e.applyToLocalView(r),r.isValidDocument()||r.convertToNoDocument(rB.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},oP())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&rV(this.mutations,t.mutations,function(t,e){return on(t,e)})&&rV(this.baseMutations,t.baseMutations,function(t,e){return on(t,e)})},t}(),sF=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){e.mutations.length===r.length||rL();for(var i=ok,o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),sV=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=rB.min()),void 0===o&&(o=rB.min()),void 0===s&&(s=rX.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),sU=function(t){this.Lt=t};function sB(t,e){if(e.document)return o2(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=r6.fromSegments(e.noDocument.path),r=sG(e.noDocument.readTime),i=ih.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=r6.fromSegments(e.unknownDocument.path);return r=sG(e.unknownDocument.version),ih.newUnknownDocument(o,r)}return rL()}function sq(t,e,n){var r=sz(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o,s={name:oY(o=t.Lt,e.key),fields:e.data.toProto().mapValue.fields,updateTime:oK(o,e.version.toTimestamp())},a=e.hasCommittedMutations;return new sf(null,null,s,a,r,i)}if(e.isNoDocument()){var u=e.key.path.toArray(),c=sW(e.version);return a=e.hasCommittedMutations,new sf(null,new sl(u,c),null,a,r,i)}return e.isUnknownDocument()?new sf(new sh(e.key.path.toArray(),sW(e.version)),null,null,!0,r,i):rL()}function sz(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function sK(t){var e=new rU(t[0],t[1]);return rB.fromTimestamp(e)}function sW(t){var e=t.toTimestamp();return new so(e.seconds,e.nanoseconds)}function sG(t){var e=new rU(t.seconds,t.nanoseconds);return rB.fromTimestamp(e)}function sH(t,e){for(var n=(e.baseMutations||[]).map(function(e){return o4(t.Lt,e)}),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(i.updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r)}var o=e.mutations.map(function(e){return o4(t.Lt,e)}),s=rU.fromMillis(e.localWriteTimeMs);return new sj(e.batchId,s,n,o)}function sQ(t){var e,n,r=sG(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?sG(t.lastLimboFreeSnapshotVersion):rB.min();return void 0!==t.query.documents?(1===(n=t.query).documents.length||rL(),e=iU(iO(oJ(n.documents[0])))):e=iU(o8(t.query)),new sV(e,t.targetId,0,t.lastListenSequenceNumber,r,i,rX.fromBase64String(t.resumeToken))}function sY(t,e){var n,r=sW(e.snapshotVersion),i=sW(e.lastLimboFreeSnapshotVersion);n=iy(e.target)?o5(t.Lt,e.target):o6(t.Lt,e.target);var o=e.resumeToken.toBase64();return new sp(e.targetId,im(e.target),r,o,e.sequenceNumber,i,n)}function sX(t){var e=o8({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?iB(e,e.limit,"L"):e}var s$=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return sJ(t).get(e).next(function(t){if(t)return{id:t.bundleId,createTime:sG(t.createTime),version:t.version}})},t.prototype.saveBundleMetadata=function(t,e){return sJ(t).put({bundleId:e.id,createTime:sW(oG(e.createTime)),version:e.version})},t.prototype.getNamedQuery=function(t,e){return sZ(t).get(e).next(function(t){if(t)return{name:t.name,query:sX(t.bundledQuery),readTime:sG(t.readTime)}})},t.prototype.saveNamedQuery=function(t,e){return sZ(t).put({name:e.name,readTime:sW(oG(e.readTime)),bundledQuery:e.bundledQuery})},t}();function sJ(t){return sL(t,sb.store)}function sZ(t){return sL(t,sw.store)}var s0=function(){function t(){this.Bt=new s1}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),sI.resolve()},t.prototype.getCollectionParents=function(t,e){return sI.resolve(this.Bt.getEntries(e))},t}(),s1=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new oS(rG.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new oS(rG.comparator)).toArray()},t}(),s2=function(){function t(){this.qt=new s1}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:sr(i)};return s3(t).put(o)}return sI.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[e+"\0",""],!1,!0);return s3(t).Nt(r).next(function(t){for(var r=0;r<t.length;r++){var i=t[r];if(i.collectionId!==e)break;n.push(si(i.parent))}return n})},t}();function s3(t){return sL(t,sy.store)}var s4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},s5=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function s6(t,e,n){var r=t.store(su.store),i=t.store(sc.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Ot({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){1===a||rL()}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=sc.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return sI.waitFor(o).next(function(){return c})}function s8(t){var e;if(!t)return 0;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw rL();e=t.noDocument}return JSON.stringify(e).length}s5.DEFAULT_COLLECTION_PERCENTILE=10,s5.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,s5.DEFAULT=new s5(0x2800000,s5.DEFAULT_COLLECTION_PERCENTILE,s5.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),s5.DISABLED=new s5(-1,0,0);var s9=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return""!==e.uid||rL(),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,-1/0],[this.userId,1/0]);return at(t).Ot({index:su.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=ae(t),s=at(t);return s.add({}).next(function(a){"number"==typeof a||rL();for(var u,c,l,h,f=new sj(a,e,n,r),d=(u=i.R,c=i.userId,l=f.baseMutations.map(function(t){return o3(u.Lt,t)}),h=f.mutations.map(function(t){return o3(u.Lt,t)}),new su(c,f.batchId,f.localWriteTime.toMillis(),l,h)),p=[],m=new oS(function(t,e){return rF(t.canonicalString(),e.canonicalString())}),g=0;g<r.length;g++){var y=r[g],v=sc.key(i.userId,y.key.path,a);m=m.add(y.key.path.popLast()),p.push(s.put(d)),p.push(o.put(v,sc.PLACEHOLDER))}return m.forEach(function(e){p.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=f.keys()}),sI.waitFor(p).next(function(){return f})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return at(t).get(e).next(function(t){return t?(t.userId===n.userId||rL(),sH(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?sI.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return at(t).Ot({index:su.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(e.batchId>=r||rL(),o=sH(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,1/0]),n=-1;return at(t).Ot({index:su.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,1/0]);return at(t).Nt(su.userMutationsIndex,n).next(function(t){return t.map(function(t){return sH(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=sc.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return ae(t).Ot({range:i},function(r,i,s){var a=r[0],u=r[1],c=r[2],l=si(u);if(a===n.userId&&e.path.isEqual(l))return at(t).get(c).next(function(t){if(!t)throw rL();t.userId===n.userId||rL(),o.push(sH(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new oS(rF),i=[];return e.forEach(function(e){var o=sc.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=ae(t).Ot({range:s},function(t,i,o){var s=t[0],a=t[1],u=t[2],c=si(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()});i.push(a)}),sI.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=sc.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new oS(rF);return ae(t).Ot({range:s},function(t,e,o){var s=t[0],u=t[1],c=t[2],l=si(u);s===n.userId&&r.isPrefixOf(l)?l.length===i&&(a=a.add(c)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(at(t).get(e).next(function(t){if(null===t)throw rL();t.userId===n.userId||rL(),r.push(sH(n.R,t))}))}),sI.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return s6(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),sI.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return sI.resolve();var r=IDBKeyRange.lowerBound(sc.prefixForUser(e.userId)),i=[];return ae(t).Ot({range:r},function(t,n,r){if(t[0]===e.userId){var o=si(t[1]);i.push(o)}else r.done()}).next(function(){0===i.length||rL()})})},t.prototype.containsKey=function(t,e){return s7(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return an(t).get(this.userId).next(function(t){return t||new sa(e.userId,-1,"")})},t}();function s7(t,e,n){var r=sc.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return ae(t).Ot({range:o,kt:!0},function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()}).next(function(){return s})}function at(t){return sL(t,su.store)}function ae(t){return sL(t,sc.store)}function an(t){return sL(t,sa.store)}var ar=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),ai=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new ar(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return rB.fromTimestamp(new rU(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return ao(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return e.targetCount>0||rL(),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return ao(t).Ot(function(s,a){var u=sQ(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return sI.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return ao(t).Ot(function(t,n){e(sQ(n))})},t.prototype.Xt=function(t){return as(t).get(sg.key).next(function(t){return null!==t||rL(),t})},t.prototype.Zt=function(t,e){return as(t).put(sg.key,e)},t.prototype.te=function(t,e){return ao(t).put(sY(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=im(e),r=IDBKeyRange.bound([n,-1/0],[n,1/0]),i=null;return ao(t).Ot({range:r,index:sp.queryTargetsIndexName},function(t,n,r){var o=sQ(n);ig(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=aa(t);return e.forEach(function(e){var s=sr(e.path);i.push(o.put(new sm(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),sI.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=aa(t);return sI.forEach(e,function(e){var o=sr(e.path);return sI.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=aa(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=aa(t),i=oP();return r.Ot({range:n,kt:!0},function(t,e,n){var r=new r6(si(t[1]));i=i.add(r)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=sr(e.path),r=IDBKeyRange.bound([n],[n+"\0"],!1,!0),i=0;return aa(t).Ot({index:sm.documentTargetsIndex,kt:!0,range:r},function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return ao(t).get(e).next(function(t){return t?sQ(t):null})},t}();function ao(t){return sL(t,sp.store)}function as(t){return sL(t,sg.store)}function aa(t){return sL(t,sm.store)}function au(t){return _(this,void 0,void 0,function(){return A(this,function(e){if(t.code!==rk.FAILED_PRECONDITION||t.message!==sE)throw t;return rN("LocalStore","Unexpectedly lost primary lease"),[2]})})}function ac(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=rF(n,i);return 0===s?rF(r,o):s}var al=function(){function t(t){this.ne=t,this.buffer=new oS(ac),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();0>ac(e,n)&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),ah=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;rN("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return _(e,void 0,void 0,function(){var e;return A(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return sP(e=n.sent())?(rN("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,au(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),af=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return sI.resolve(rA.o);var r=new al(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return -1===this.params.cacheSizeCollectionThreshold?(rN("LruGarbageCollector","Garbage collection skipped; disabled"),sI.resolve(s4)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(rN("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),s4):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(rN("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),rD()<=tv.DEBUG&&rN("LruGarbageCollector","LRU Garbage Collection\n	Counted targets in "+(o-l)+"ms\n	Determined least recently used "+r+" in "+(s-o)+"ms\n	Removed "+i+" targets in "+(a-s)+"ms\n	Removed "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),sI.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),ad=function(){function t(t,e){this.db=t,this.garbageCollector=new af(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return ap(t,n)},t.prototype.removeReference=function(t,e,n){return ap(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return ap(t,e)},t.prototype._e=function(t,e){var n;return n=!1,an(t).$t(function(r){return s7(t,r,e).next(function(t){return t&&(n=!0),sI.resolve(!t)})}).next(function(){return n})},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),aa(t).delete([0,sr(s.path)])})});i.push(u)}}).next(function(){return sI.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return ap(t,e)},t.prototype.we=function(t,e){var n,r=aa(t),i=rA.o;return r.Ot({index:sm.documentTargetsIndex},function(t,r){var o=t[0],s=(t[1],r.path),a=r.sequenceNumber;0===o?(i!==rA.o&&e(new r6(si(n)),i),i=a,n=s):i=rA.o}).next(function(){i!==rA.o&&e(new r6(si(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function ap(t,e){var n;return aa(t).put((n=t.currentSequenceNumber,new sm(0,sr(e.path),n)))}var am=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0;r<n.length;r++){var i=n[r],o=i[0],s=i[1];if(this.equalsFn(o,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){rz(this.inner,function(e,n){for(var r=0;r<n.length;r++){var i=n[r];t(i[0],i[1])}})},t.prototype.isEmpty=function(){return rK(this.inner)},t}(),ag=function(){function t(){this.changes=new am(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:rB.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:ih.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?sI.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),ay=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return aw(t).put(ax(e),n)},t.prototype.removeEntry=function(t,e){var n=aw(t),r=ax(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return aw(t).get(ax(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return aw(t).get(ax(e)).next(function(t){return{document:n.ye(e,t),size:s8(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=o_;return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=o_,i=new ox(r6.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,s8(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return sI.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return aw(t).Ot({range:r},function(t,e,r){for(var s=r6.fromSegments(t);o&&0>r6.comparator(o,s);)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=o_,o=e.path.length+1,s={};if(n.isEqual(rB.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=sz(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=sf.collectionReadTimeIndex}return aw(t).Ot(s,function(t,n,s){if(t.length===o){var a=sB(r.R,n);e.path.isPrefixOf(a.key.path)?iW(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new av(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return ab(t).get(sd.key).next(function(t){return t||rL(),t})},t.prototype.me=function(t,e){return ab(t).put(sd.key,e)},t.prototype.ye=function(t,e){if(e){var n=sB(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(rB.min()))return n}return ih.newInvalidDocument(t)},t}(),av=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new am(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return S(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new oS(function(t,e){return rF(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=sq(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=s8(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=sq(e.Ie.R,ih.newNoDocument(o,rB.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),sI.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(ag);function ab(t){return sL(t,sd.store)}function aw(t){return sL(t,sf.store)}function ax(t){return t.path.toArray()}var aE=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;n<r&&n>=0&&r<=11||rL();var o=new s_("createOrUpgrade",e);n<1&&r>=1&&(t.createObjectStore(ss.store),t.createObjectStore(sa.store,{keyPath:sa.keyPath}),t.createObjectStore(su.store,{keyPath:su.keyPath,autoIncrement:!0}).createIndex(su.userMutationsIndex,su.userMutationsKeyPath,{unique:!0}),t.createObjectStore(sc.store),aT(t),t.createObjectStore(sf.store));var s=sI.resolve();return n<3&&r>=3&&(0!==n&&(t.deleteObjectStore(sm.store),t.deleteObjectStore(sp.store),t.deleteObjectStore(sg.store),aT(t)),s=s.next(function(){var t,e;return t=o.store(sg.store),e=new sg(0,0,rB.min().toTimestamp(),0),t.put(sg.key,e)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return o.store(su.store).Nt().next(function(e){t.deleteObjectStore(su.store),t.createObjectStore(su.store,{keyPath:su.keyPath,autoIncrement:!0}).createIndex(su.userMutationsIndex,su.userMutationsKeyPath,{unique:!0});var n=o.store(su.store),r=e.map(function(t){return n.put(t)});return sI.waitFor(r)})})),s=s.next(function(){t.createObjectStore(sv.store,{keyPath:sv.keyPath})})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return t.createObjectStore(sd.store),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){var n;t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges"),(n=e.objectStore(sf.store)).createIndex(sf.readTimeIndex,sf.readTimeIndexPath,{unique:!1}),n.createIndex(sf.collectionReadTimeIndex,sf.collectionReadTimeIndexPath,{unique:!1})})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){t.createObjectStore(sb.store,{keyPath:sb.keyPath}),t.createObjectStore(sw.store,{keyPath:sw.keyPath})})),s},t.prototype.be=function(t){var e=0;return t.store(sf.store).Ot(function(t,n){e+=s8(n)}).next(function(){var n=new sd(e);return t.store(sd.store).put(sd.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(sa.store),r=t.store(su.store);return n.Nt().next(function(n){return sI.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(su.userMutationsIndex,i).next(function(r){return sI.forEach(r,function(r){r.userId===n.userId||rL();var i=sH(e.R,r);return s6(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(sm.store),n=t.store(sf.store);return t.store(sg.store).get(sg.key).next(function(t){var r=[];return n.Ot(function(n,i){var o=new rG(n),s=[0,sr(o)];r.push(e.get(s).next(function(n){return n?sI.resolve():e.put(new sm(0,sr(o),t.highestListenSequenceNumber))}))}).next(function(){return sI.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(sy.store,{keyPath:sy.keyPath});var n=e.store(sy.store),r=new s1,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:sr(i)})}};return e.store(sf.store).Ot({kt:!0},function(t,e){return i(new rG(t).popLast())}).next(function(){return e.store(sc.store).Ot({kt:!0},function(t,e){t[0];var n=t[1];return i((t[2],si(n)).popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(sp.store);return n.Ot(function(t,r){var i=sQ(r),o=sY(e.R,i);return n.put(o)})},t}();function aT(t){t.createObjectStore(sm.store,{keyPath:sm.keyPath}).createIndex(sm.documentTargetsIndex,sm.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(sp.store,{keyPath:sp.keyPath}).createIndex(sp.queryTargetsIndexName,sp.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(sg.store)}var aS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",aI=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=-1/0,this.Me=function(t){return Promise.resolve()},!t.yt())throw new rC(rk.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ad(this,i),this.Le=n+"main",this.R=new sU(u),this.Be=new sA(this.Le,11,new aE(this.R)),this.qe=new ai(this.referenceDelegate,this.R),this.Ut=new s2,this.Ue=new ay(this.R,this.Ut),this.Qe=new s$,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&rO("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new rC(rk.FAILED_PRECONDITION,aS);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new rA(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return _(e,void 0,void 0,function(){return A(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return _(e,void 0,void 0,function(){return A(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return _(e,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return aA(e).put(new sv(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(sP(e))return rN("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return rN("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return a_(t).get(ss.key).next(function(t){return sI.resolve(e.tn(t))})},t.prototype.en=function(t){return aA(t).delete(this.clientId)},t.prototype.nn=function(){return _(this,void 0,void 0,function(){var t,e,n,r,i=this;return A(this,function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=sL(t,sv.store);return e.Nt().next(function(t){var n=i.rn(t,18e5),r=t.filter(function(t){return -1===n.indexOf(t)});return sI.forEach(r,function(t){return e.delete(t.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(t=o.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)r=n[e],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?sI.resolve(!0):a_(t).get(ss.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new rC(rk.FAILED_PRECONDITION,aS);return!1}}return!(!e.networkEnabled||!e.inForeground)||aA(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(t){return e.isPrimary!==t&&rN("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return _(this,void 0,void 0,function(){var t=this;return A(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[ss.store,sv.store],function(e){var n=new sM(e,rA.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return aA(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return s9.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return rN("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",sx,function(o){return r=new sM(o,i.Ne?i.Ne.next():rA.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw rO("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new rC(rk.FAILED_PRECONDITION,sE);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return a_(t).get(ss.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new rC(rk.FAILED_PRECONDITION,aS)})},t.prototype.Ze=function(t){var e=new ss(this.clientId,this.allowTabSynchronization,Date.now());return a_(t).put(ss.key,e)},t.yt=function(){return sA.yt()},t.prototype.Xe=function(t){var e=this,n=a_(t);return n.get(ss.key).next(function(t){return e.tn(t)?(rN("IndexedDbPersistence","Releasing primary lease."),n.delete(ss.key)):sI.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(rO("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null==(t=this.window)?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null==(e=this.Ke)?void 0:e.getItem(this.on(t)));return rN("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return rO("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){rO("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function a_(t){return sL(t,ss.store)}function aA(t){return sL(t,sv.store)}function ak(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var aC=function(t,e){this.progress=t,this.wn=e},aP=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0;e<n.length;e++)n[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0;r<e.length;r++)e[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return r6.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length?this.Tn(t,e.path):iF(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new r6(e)).next(function(t){var e=oA;return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=oA;return this.Ut.getCollectionParents(t,i).next(function(s){return sI.forEach(s,function(s){var a=new iN(s.child(i),null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt);return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return i=e,o.Rn(t,i,r).next(function(t){r=t;for(var e=0;e<i.length;e++)for(var n=i[e],o=0,s=n.mutations;o<s.length;o++){var a=s[o],u=a.key,c=r.get(u);null==c&&(c=ih.newInvalidDocument(u),r=r.insert(u,c)),oe(a,c,n.localWriteTime),c.isFoundDocument()||(r=r.remove(u))}})}).next(function(){return r.forEach(function(t,n){iW(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=oP(),i=0;i<e.length;i++)for(var o=0,s=e[i].mutations;o<s.length;o++){var a=s[o];a instanceof oo&&null===n.get(a.key)&&(r=r.add(a.key))}var u=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(u=u.insert(t,e))}),u})},t}(),aD=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=oP(),i=oP(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),aN=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())||n.isEqual(rB.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(iR(e)||iM(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(rD()<=tv.DEBUG&&rN("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),iK(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new oS(iG(t));return e.forEach(function(e,r){iW(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return rD()<=tv.DEBUG&&rN("QueryEngine","Using full collection scan to execute query:",iK(e)),this.Sn.getDocumentsMatchingQuery(t,e,rB.min())},t}(),aO=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new ox(rF),this.kn=new am(function(t){return im(t)},ig),this.On=rB.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new aP(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function aR(t,e){return _(this,void 0,void 0,function(){var n,r,i,o;return A(this,function(s){switch(s.label){case 0:return r=(n=t)._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new aP(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=oP(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];s=s.add(f.key)}}for(var d=0;d<e.length;d++){var p=e[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++){var y=g[m];s=s.add(y.key)}}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function aM(t){return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.qe.getLastRemoteSnapshotVersion(e)})}function aL(t,e,n,r,i){var o=oP();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=o_;return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(rB.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):rN("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function aj(t,e){return t.persistence.runTransaction("Allocate target","readwrite",function(n){var r;return t.qe.getTargetData(n,e).next(function(i){return i?(r=i,sI.resolve(r)):t.qe.allocateTargetId(n).next(function(i){return r=new sV(e,i,0,n.currentSequenceNumber),t.qe.addTargetData(n,r).next(function(){return r})})})}).then(function(n){var r=t.Fn.get(n.targetId);return(null===r||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Fn=t.Fn.insert(n.targetId,n),t.kn.set(e,n.targetId)),n})}function aF(t,e,n){return _(this,void 0,void 0,function(){var r,i,o,s;return A(this,function(a){switch(a.label){case 0:i=(r=t).Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!sP(s=a.sent()))throw s;return rN("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function aV(t,e,n){var r=rB.min(),i=oP();return t.persistence.runTransaction("Execute query","readonly",function(o){var s,a;return(s=iU(e),void 0!==(a=t.kn.get(s))?sI.resolve(t.Fn.get(a)):t.qe.getTargetData(o,s)).next(function(e){if(e)return r=e.lastLimboFreeSnapshotVersion,t.qe.getMatchingKeysForTargetId(o,e.targetId).next(function(t){i=t})}).next(function(){return t.xn.getDocumentsMatchingQuery(o,e,n?r:rB.min(),n?i:oP())}).next(function(t){return{documents:t,Bn:i}})})}function aU(t,e){var n=t.qe,r=t.Fn.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",function(t){return n.lt(t,e).next(function(t){return t?t.target:null})})}function aB(t){return t.persistence.runTransaction("Get new document changes","readonly",function(e){var n,r,i,o,s,a;return n=t.$n,r=t.On,i=o_,o=sz(r),s=aw(e),a=IDBKeyRange.lowerBound(o,!0),s.Ot({index:sf.readTimeIndex,range:a},function(t,e){var r=sB(n.R,e);i=i.insert(r.key,r),o=e.readTime}).next(function(){return{wn:i,readTime:sK(o)}})}).then(function(e){var n=e.wn;return t.On=e.readTime,n})}var aq=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return sI.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){return this.Kn.set(e.id,{id:e.id,version:e.version,createTime:oG(e.createTime)}),sI.resolve()},t.prototype.getNamedQuery=function(t,e){return sI.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,{name:e.name,query:sX(e.bundledQuery),readTime:oG(e.readTime)}),sI.resolve()},t}(),az=function(){function t(){this.Wn=new oS(aK.Gn),this.zn=new oS(aK.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new aK(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new aK(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new r6(new rG([])),r=new aK(n,t),i=new aK(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new r6(new rG([])),n=new aK(e,t),r=new aK(e,t+1),i=oP();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new aK(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),aK=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return r6.comparator(t.key,e.key)||rF(t.ns,e.ns)},t.Hn=function(t,e){return rF(t.ns,e.ns)||r6.comparator(t.key,e.key)},t}(),aW=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new oS(aK.Gn)}return t.prototype.checkEmpty=function(t){return sI.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new sj(i,e,n,r);this._n.push(o);for(var s=0;s<r.length;s++){var a=r[s];this.rs=this.rs.add(new aK(a.key,i)),this.Ut.addToCollectionParentIndex(t,a.key.path.popLast())}return sI.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return sI.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return sI.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return sI.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return sI.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new aK(e,0),i=new aK(e,1/0),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),sI.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new oS(rF);return e.forEach(function(t){var e=new aK(t,0),i=new aK(t,1/0);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),sI.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;r6.isDocumentKey(i)||(i=i.child(""));var o=new aK(new r6(i),0),s=new oS(rF);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),sI.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;0===this.hs(e.batchId,"removed")||rL(),this._n.shift();var r=this.rs;return sI.forEach(e.mutations,function(i){var o=new aK(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new aK(e,0),r=this.rs.firstAfterOrEqual(n);return sI.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,sI.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),aG=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new ox(r6.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return sI.resolve(n?n.document.clone():ih.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=o_;return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():ih.newInvalidDocument(t))}),sI.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=o_,i=new r6(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.key,u=s.value,c=u.document,l=u.readTime;if(!e.path.isPrefixOf(a.path))break;0>=l.compareTo(n)||iW(e,c)&&(r=r.insert(c.key,c.clone()))}return sI.resolve(r)},t.prototype.fs=function(t,e){return sI.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new aH(this)},t.prototype.getSize=function(t){return sI.resolve(this.size)},t}(),aH=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return S(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),sI.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(ag),aQ=function(){function t(t){this.persistence=t,this.ds=new am(function(t){return im(t)},ig),this.lastRemoteSnapshotVersion=rB.min(),this.highestTargetId=0,this.ws=0,this._s=new az,this.targetCount=0,this.ys=ar.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),sI.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return sI.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return sI.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),sI.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),sI.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new ar(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,sI.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),sI.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,sI.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),sI.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return sI.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return sI.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),sI.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),sI.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),sI.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return sI.resolve(n)},t.prototype.containsKey=function(t,e){return sI.resolve(this._s.containsKey(e))},t}(),aY=function(){function t(t,e){var n=this;this.gs={},this.Ne=new rA(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new aQ(this),this.Ut=new s0,this.Ue=new aG(this.Ut,function(t){return n.referenceDelegate.ps(t)}),this.R=new sU(e),this.Qe=new aq(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new aW(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;rN("MemoryPersistence","Starting transaction:",t);var i=new aX(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return sI.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),aX=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return S(e,t),e}(sT),a$=function(){function t(t){this.persistence=t,this.As=new az,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw rL()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),sI.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),sI.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),sI.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return sI.forEach(this.vs,function(r){var i=r6.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return sI.or([function(){return sI.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),aJ=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function aZ(t,e){return"firestore_clients_"+t+"_"+e}function a0(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function a1(t,e){return"firestore_targets_"+t+"_"+e}aJ.UNAUTHENTICATED=new aJ(null),aJ.GOOGLE_CREDENTIALS=new aJ("google-credentials-uid"),aJ.FIRST_PARTY=new aJ("first-party-uid");var a2=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new rC(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(rO("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),a3=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new rC(i.error.code,i.error.message)),o?new t(e,i.state,r):(rO("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),a4=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=oD,s=0;i&&s<r.activeTargetIds.length;++s)i=r5(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(rO("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),a5=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(rO("SharedClientState","Failed to parse online state: "+e),null)},t}(),a6=function(){function t(){this.activeTargetIds=oD}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){return JSON.stringify({activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()})},t}(),a8=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new ox(rF),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=aZ(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.ks=this.ks.insert(this.Ns,new a6),this.Ls=RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Qs="firestore_bundle_loaded_"+this.persistenceKey,this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return _(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l,h=this;return A(this,function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(aZ(this.persistenceKey,r)))&&(o=a4.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.Os;u<c.length;u++)l=c[u],this.Fs(l);return this.Os=[],this.window.addEventListener("unload",function(){return h.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(a1(this.persistenceKey,t));if(n){var r=a3.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(a1(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return rN("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){rN("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){rN("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this;if(t.storageArea===this.storage){if(rN("SharedClientState","EVENT",t.key,t.newValue),t.key===this.$s)return void rO("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return _(e,void 0,void 0,function(){var e,n,r,i,o,s;return A(this,function(a){if(this.started){if(null!==t.key){if(this.Ls.test(t.key)){if(null==t.newValue)return e=this.ti(t.key),[2,this.ei(e,null)];if(n=this.ni(t.key,t.newValue))return[2,this.ei(n.clientId,n)]}else if(this.Bs.test(t.key)){if(null!==t.newValue&&(r=this.si(t.key,t.newValue)))return[2,this.ii(r)]}else if(this.qs.test(t.key)){if(null!==t.newValue&&(i=this.ri(t.key,t.newValue)))return[2,this.oi(i)]}else if(t.key===this.Us){if(null!==t.newValue&&(o=this.js(t.newValue)))return[2,this.Ws(o)]}else if(t.key===this.Ms)(s=function(t){var e=rA.o;if(null!=t)try{var n=JSON.parse(t);"number"==typeof n||rL(),e=n}catch(t){rO("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==rA.o&&this.sequenceNumberHandler(s);else if(t.key===this.Qs)return[2,this.syncEngine.ci()]}}else this.Os.push(t);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new a2(this.currentUser,t,e,n),i=a0(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=a0(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=a1(this.persistenceKey,t),i=new a3(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return a4.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return a2.Vs(new aJ(i),r,e)},t.prototype.ri=function(t,e){var n=Number(this.qs.exec(t)[1]);return a3.Vs(n,e)},t.prototype.js=function(t){return a5.Vs(t)},t.prototype.ii=function(t){return _(this,void 0,void 0,function(){return A(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(rN("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=oD;return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),a9=function(){function t(){this.li=new a6,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new a6,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),a7=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),ut=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){rN("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){rN("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"u">typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),ue={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},un=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),ur=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return S(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var s=new n$;s.listenOnce(e0.COMPLETE,function(){try{switch(s.getLastErrorCode()){case eZ.NO_ERROR:var e=s.getResponseJson();rN("Connection","XHR received:",JSON.stringify(e)),i(e);break;case eZ.TIMEOUT:rN("Connection",'RPC "'+t+'" timed out'),o(new rC(rk.DEADLINE_EXCEEDED,"Request time out"));break;case eZ.HTTP_ERROR:var n=s.getStatus();if(rN("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a,u=(a=r.status.toLowerCase().replace(/_/g,"-"),Object.values(rk).indexOf(a)>=0?a:rk.UNKNOWN);o(new rC(u,r.message))}else o(new rC(rk.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new rC(rk.UNAVAILABLE,"Connection failed."));break;default:rL()}}finally{rN("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.$i=function(t,e){var n,r,i=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=new rx,s=eG(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(a.initMessageHeaders,e),"u">typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(L())||"object"==typeof navigator&&"ReactNative"===navigator.product||L().indexOf("Electron/")>=0||(n=L()).indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0||L().indexOf("MSAppHost/")>=0||"object"==typeof(r="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==r.id||(a.httpHeadersOverwriteParam="$httpHeaders");var u=i.join("");rN("Connection","Creating WebChannel: "+u,a);var c=o.createWebChannel(u,a),l=!1,h=!1,f=new un({Ei:function(t){h?rN("Connection","Not sending because WebChannel is closed:",t):(l||(rN("Connection","Opening WebChannel transport."),c.open(),l=!0),rN("Connection","WebChannel sending:",t),c.send(t))},Ti:function(){return c.close()}}),d=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return d(c,e3.EventType.OPEN,function(){h||rN("Connection","WebChannel transport opened.")}),d(c,e3.EventType.CLOSE,function(){h||(h=!0,rN("Connection","WebChannel transport closed"),f.Vi())}),d(c,e3.EventType.ERROR,function(t){h||(h=!0,rR("Connection","WebChannel transport errored:",t),f.Vi(new rC(rk.UNAVAILABLE,"The operation could not be completed")))}),d(c,e3.EventType.MESSAGE,function(t){var e;if(!h){var n=t.data[0];n||rL();var r=n.error||(null==(e=n[0])?void 0:e.error);if(r){rN("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=op[t];if(void 0!==e)return ow(e)}(i),s=r.message;void 0===o&&(o=rk.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),h=!0,f.Vi(new rC(o,s)),c.close()}else rN("Connection","WebChannel received:",n),f.Si(n)}}),d(s,eK.STAT_EVENT,function(t){10===t.stat?rN("Connection","Detected buffering proxy"):11===t.stat&&rN("Connection","Detected no buffering proxy")}),setTimeout(function(){f.Pi()},0),f},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);rN("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return rN("RestConnection","Received: ",t),t},function(e){throw rR("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.5.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=ue[t];return this.Di+"/v1/"+e+":"+n},t}());function ui(){return"u">typeof window?window:null}function uo(){return"u">typeof document?document:null}function us(t){return new oz(t,!0)}var ua=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&rN("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),uu=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ua(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return _(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return _(this,void 0,void 0,function(){return A(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return _(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===rk.RESOURCE_EXHAUSTED?(rO(e.toString()),rO("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===rk.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new rC(rk.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return _(t,void 0,void 0,function(){return A(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return rN("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(rN("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),uc=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return S(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r,i,o,s="NO_CHANGE"===(r=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:rL(),a=e.targetChange.targetIds||[],u=(i=e.targetChange.resumeToken,t.I?(void 0===i||"string"==typeof i||rL(),rX.fromBase64String(i||"")):(void 0===i||i instanceof Uint8Array||rL(),rX.fromUint8Array(i||new Uint8Array))),c=(l=e.targetChange.cause)&&new rC(void 0===(o=l).code?rk.UNKNOWN:ow(o.code),o.message||"");n=new oL(s,a,u,c||null)}else if("documentChange"in e){e.documentChange,(s=e.documentChange).document,s.document.name,s.document.updateTime,a=oX(t,s.document.name),u=oG(s.document.updateTime);var l=new il({mapValue:{fields:s.document.fields}});n=new oR((c=ih.newFoundDocument(a,u,l),s.targetIds||[]),s.removedTargetIds||[],c.key,c)}else if("documentDelete"in e)e.documentDelete,(s=e.documentDelete).document,a=oX(t,s.document),u=s.readTime?oG(s.readTime):rB.min(),l=ih.newNoDocument(a,u),n=new oR([],c=s.removedTargetIds||[],l.key,l);else if("documentRemove"in e)e.documentRemove,(s=e.documentRemove).document,a=oX(t,s.document),n=new oR([],u=s.removedTargetIds||[],a,null);else{if(!("filter"in e))return rL();e.filter;var h=e.filter;h.targetId,a=new ov(s=h.count||0),n=new oM(u=h.targetId,a)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return rB.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?rB.min():e.readTime?oG(e.readTime):rB.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e,n,r,i,o={};o.database=oZ(this.R),e=this.R,(n=iy(r=t.target)?{documents:o5(e,r)}:{query:o6(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=oW(e,t.resumeToken):t.snapshotVersion.compareTo(rB.min())>0&&(n.readTime=oK(e,t.snapshotVersion.toTimestamp())),o.addTarget=n;var s=(this.R,null==(i=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rL()}}(0,t.purpose))?null:{"goog-listen-tags":i});s&&(o.labels=s),this.cr(o)},e.prototype.yr=function(t){var e={};e.database=oZ(this.R),e.removeTarget=t,this.cr(e)},e}(uu),ul=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return S(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(t.streamToken||rL(),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e,n,r=(e=t.writeResults,n=t.commitTime,e&&e.length>0?(void 0!==n||rL(),e.map(function(t){var e;return(e=t.updateTime?oG(t.updateTime):oG(n)).isEqual(rB.min())&&(e=oG(n)),new i8(e,t.transformResults||[])})):[]),i=oG(t.commitTime);return this.listener.Tr(i,r)}return t.writeResults&&0!==t.writeResults.length&&rL(),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=oZ(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return o3(e.R,t)})};this.cr(n)},e}(uu),uh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return S(e,t),e.prototype.br=function(){if(this.Rr)throw new rC(rk.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===rk.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new rC(rk.UNKNOWN,t.toString())})},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Oi(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===rk.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new rC(rk.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),uf=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(rO(e),this.Vr=!1):rN("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),ud=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return _(o,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return uE(this)?(rN("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return _(this,void 0,void 0,function(){var e;return A(this,function(n){switch(n.label){case 0:return(e=t).$r.add(4),[4,um(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,up(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new uf(n,r)};function up(t){return _(this,void 0,void 0,function(){var e,n;return A(this,function(r){switch(r.label){case 0:if(!uE(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function um(t){return _(this,void 0,void 0,function(){var e,n;return A(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function ug(t,e){t.Or.has(e.targetId)||(t.Or.set(e.targetId,e),ux(t)?uw(t):uL(t).er()&&uv(t,e))}function uy(t,e){var n=uL(t);t.Or.delete(e),n.er()&&ub(t,e),0===t.Or.size&&(n.er()?n.ir():uE(t)&&t.Br.set("Unknown"))}function uv(t,e){t.qr.U(e.targetId),uL(t).mr(e)}function ub(t,e){t.qr.U(e),uL(t).yr(e)}function uw(t){t.qr=new oF({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),uL(t).start(),t.Br.Sr()}function ux(t){return uE(t)&&!uL(t).tr()&&t.Or.size>0}function uE(t){return 0===t.$r.size}function uT(t){return _(this,void 0,void 0,function(){return A(this,function(e){return t.Or.forEach(function(e,n){uv(t,e)}),[2]})})}function uS(t,e){return _(this,void 0,void 0,function(){return A(this,function(n){return t.qr=void 0,ux(t)?(t.Br.Nr(e),uw(t)):t.Br.set("Unknown"),[2]})})}function uI(t,e,n){return _(this,void 0,void 0,function(){var r,i,o;return A(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof oL&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return _(this,void 0,void 0,function(){var n,r,i,o;return A(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?(o=i[r],t.Or.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:s.sent(),t.Or.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:case 4:return s.sent(),[3,5];case 3:return r=s.sent(),rN("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,u_(t,r)];case 5:return[3,13];case 6:if(e instanceof oR?t.qr.X(e):e instanceof oM?t.qr.rt(e):t.qr.et(e),n.isEqual(rB.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,aM(t.localStore)];case 8:var a;return i=s.sent(),n.compareTo(i)>=0?[4,((a=t.qr.ut(n)).targetChanges.forEach(function(e,r){if(e.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(e.resumeToken,n))}}),a.targetMismatches.forEach(function(e){var n=t.Or.get(e);n&&(t.Or.set(e,n.withResumeToken(rX.EMPTY_BYTE_STRING,n.snapshotVersion)),ub(t,e),uv(t,new sV(n.target,e,1,n.sequenceNumber)))}),t.remoteSyncer.applyRemoteEvent(a))]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return rN("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,u_(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function u_(t,e,n){return _(this,void 0,void 0,function(){var r=this;return A(this,function(i){switch(i.label){case 0:if(!sP(e))throw e;return t.$r.add(1),[4,um(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return aM(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return _(r,void 0,void 0,function(){return A(this,function(e){switch(e.label){case 0:return rN("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,up(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function uA(t,e){return e().catch(function(n){return u_(t,n,e)})}function uk(t){return _(this,void 0,void 0,function(){var e,n,r,i,o;return A(this,function(s){var a,u,c,l,h;switch(s.label){case 0:n=uj(e=t),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!(uE(a=e)&&a.kr.length<10))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,(u=e.localStore,c=r,u.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===c&&(c=-1),u._n.getNextMutationBatchAfterBatchId(t,c)}))];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,(l=e).kr.push(i),(h=uj(l)).er()&&h.pr&&h.Er(i.mutations),[3,6]);case 4:return o=s.sent(),[4,u_(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return uC(e)&&uP(e),[2]}})})}function uC(t){return uE(t)&&!uj(t).tr()&&t.kr.length>0}function uP(t){uj(t).start()}function uD(t){return _(this,void 0,void 0,function(){return A(this,function(e){return uj(t).Ar(),[2]})})}function uN(t){return _(this,void 0,void 0,function(){var e,n,r,i;return A(this,function(o){for(e=uj(t),n=0,r=t.kr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]})})}function uO(t,e,n){return _(this,void 0,void 0,function(){var r,i;return A(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=sF.from(r,e,n),[4,uA(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,uk(t)];case 2:return o.sent(),[2]}})})}function uR(t,e){return _(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return e&&uj(t).pr?[4,function(t,e){return _(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return ob(r=e.code)&&r!==rk.ABORTED?(n=t.kr.shift(),uj(t).sr(),[4,uA(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,uk(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return uC(t)&&uP(t),[2]}})})}function uM(t,e){return _(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return n=t,e?(n.$r.delete(2),[4,up(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,um(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function uL(t){var e,n,r,i=this;return t.Ur||(e=t.datastore,n=t.asyncQueue,r={Ii:uT.bind(null,t),Ri:uS.bind(null,t),_r:uI.bind(null,t)},e.br(),t.Ur=new uc(n,e.Hi,e.credentials,e.R,r),t.Mr.push(function(e){return _(i,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return e?(t.Ur.sr(),ux(t)?uw(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:n.sent(),t.qr=void 0,n.label=3;case 3:return[2]}})})})),t.Ur}function uj(t){var e,n,r,i=this;return t.Qr||(e=t.datastore,n=t.asyncQueue,r={Ii:uD.bind(null,t),Ri:uR.bind(null,t),Ir:uN.bind(null,t),Tr:uO.bind(null,t)},e.br(),t.Qr=new ul(n,e.Hi,e.credentials,e.R,r),t.Mr.push(function(e){return _(i,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return e?(t.Qr.sr(),[4,uk(t)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:n.sent(),t.kr.length>0&&(rN("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),n.label=4;case 4:return[2]}})})})),t.Qr}var uF=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new sS,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new rC(rk.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function uV(t,e){if(rO("AsyncQueue",e+": "+t),sP(t))return new rC(rk.UNAVAILABLE,e+": "+t);throw t}var uU=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||r6.comparator(e.key,n.key)}:function(t,e){return r6.comparator(t.key,e.key)},this.keyedMap=oA,this.sortedSet=new ox(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),uB=function(){function t(){this.Kr=new ox(r6.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):rL():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),uq=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,uU.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&iq(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),uz=function(){this.Wr=void 0,this.listeners=[]},uK=function(){this.queries=new am(function(t){return iz(t)},iq),this.onlineState="Unknown",this.Gr=new Set};function uW(t,e){return _(this,void 0,void 0,function(){var n,r,i,o,s,a;return A(this,function(u){switch(u.label){case 0:if(n=t,r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new uz),!i)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=u.sent(),[3,4];case 3:return a=uV(u.sent(),"Initialization of query '"+iK(e.query)+"' failed"),[2,void e.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&uY(n),[2]}})})}function uG(t,e){return _(this,void 0,void 0,function(){var n,r,i,o,s;return A(this,function(a){return n=t,r=e.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function uH(t,e){for(var n=!1,r=0;r<e.length;r++){var i=e[r],o=i.query,s=t.queries.get(o);if(s){for(var a=0,u=s.listeners;a<u.length;a++)u[a].Hr(i)&&(n=!0);s.Wr=i}}n&&uY(t)}function uQ(t,e,n){var r=t.queries.get(e);if(r)for(var i=0,o=r.listeners;i<o.length;i++)o[i].onError(n);t.queries.delete(e)}function uY(t){t.Gr.forEach(function(t){t.next()})}var uX=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new uq(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=uq.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),u$=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),uJ=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return oX(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?o2(this.R,t.document,!1):ih.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return oG(t)},t}();function uZ(t,e,n){var r;this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress={taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:(r=t).totalDocuments,totalBytes:r.totalBytes}}uZ.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},uZ.prototype.co=function(t){for(var e=new Map,n=new uJ(this.R),r=0;r<t.length;r++){var i=t[r];if(i.metadata.queries)for(var o=n.qn(i.metadata.name),s=0,a=i.metadata.queries;s<a.length;s++){var u=a[s],c=(e.get(u)||oP()).add(o);e.set(u,c)}}return e},uZ.prototype.complete=function(){return _(this,void 0,void 0,function(){var t,e,n,r,i;return A(this,function(o){switch(o.label){case 0:return[4,function(t,e,n,r){return _(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return A(this,function(p){switch(p.label){case 0:for(i=t,o=oP(),s=o_,a=ok,u=0,c=n;u<c.length;u++)l=c[u],h=e.qn(l.metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return f=i.$n.newChangeBuffer({trackRemovals:!0}),[4,aj(i,iU(iO(rG.fromString("__bundle__/docs/"+r))))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return aL(t,f,s,rB.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}(this.localStore,new uJ(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,function(t,e,n){return void 0===n&&(n=oP()),_(this,void 0,void 0,function(){var r,i;return A(this,function(o){switch(o.label){case 0:return[4,aj(t,iU(sX(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=t).persistence.runTransaction("Save named query","readwrite",function(t){var o=oG(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var s=r.withResumeToken(rX.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}(this.localStore,i,e.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new aC(Object.assign({},this.progress),t))]}})})};var u0=function(t){this.key=t},u1=function(t){this.key=t},u2=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=oP(),this.mutatedKeys=oP(),this.lo=iG(t),this.fo=new uU(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new uB,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=iR(this.query)&&i.size===this.query.limit?i.last():null,c=iM(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=iW(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&0>n.lo(h,c))&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),iR(this.query)||iM(this.query))for(;s.size>this.query.limit;){var l=iR(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){var n,i,o;return n=t.type,i=e.type,(o=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rL()}})(n)-o(i)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new uq(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new uB,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=oP(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new u1(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new u0(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=oP();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return uq.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),u3=function(t,e,n){this.query=t,this.targetId=e,this.view=n},u4=function(t){this.key=t,this.bo=!1},u5=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new am(function(t){return iz(t)},iq),this.Vo=new Map,this.So=new Set,this.Do=new ox(r6.comparator),this.Co=new Map,this.No=new az,this.xo={},this.Fo=new Map,this.ko=ar.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function u6(t,e){return _(this,void 0,void 0,function(){var n,r,i,o,s,a;return A(this,function(u){switch(u.label){case 0:return(o=(n=cE(t)).Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,aj(n.localStore,iU(e))];case 2:return s=u.sent(),a=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,u8(n,e,r,"current"===a)];case 3:i=u.sent(),n.isPrimaryClient&&ug(n.remoteStore,s),u.label=4;case 4:return[2,i]}})})}function u8(t,e,n,r){return _(this,void 0,void 0,function(){var i,o,s,a,u,c;return A(this,function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return _(this,void 0,void 0,function(){var i,o,s;return A(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,aV(t.localStore,e.query,!1).then(function(t){var n=t.documents;return e.view._o(n,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(cl(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,aV(t.localStore,e,!0)];case 1:return s=(o=new u2(e,(i=l.sent()).Bn))._o(i.documents),a=oO.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),cl(t,n,u.To),c=new u3(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function u9(t,e){return _(this,void 0,void 0,function(){var n,r,i;return A(this,function(o){switch(o.label){case 0:return r=(n=t).Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!iq(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,aF(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),uy(n.remoteStore,r.targetId),cu(n,r.targetId)}).catch(au)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return cu(n,r.targetId),[4,aF(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function u7(t,e,n){return _(this,void 0,void 0,function(){var r,i,o;return A(this,function(s){var a,u,c,l,h,f,d;switch(s.label){case 0:r=cT(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,(a=r.localStore,c=rU.now(),l=e.reduce(function(t,e){return t.add(e.key)},oP()),a.persistence.runTransaction("Locally write mutations","readwrite",function(t){return a.Mn.pn(t,l).next(function(n){u=n;for(var r=[],i=0;i<e.length;i++){var o=e[i],s=function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=i$(o.transform,s||null);null!=a&&(null==n&&(n=il.empty()),n.set(o.field,a))}return n||null}(o,u.get(o.key));null!=s&&r.push(new oo(o.key,s,function t(e){var n=[];return rz(e.fields||{},function(e,r){var i=new rQ([e]);if(ic(r)){var o=t(r.mapValue).fields;if(0===o.length)n.push(i);else for(var s=0;s<o.length;s++){var a=o[s];n.push(i.child(a))}}else n.push(i)}),new rY(n)}(s.toProto().mapValue),i9.exists(!0)))}return a._n.addMutationBatch(t,c,r,e)})}).then(function(t){return t.applyToLocalDocumentSet(u),{batchId:t.batchId,changes:u}}))];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),h=r,f=i.batchId,(d=h.xo[h.currentUser.toKey()])||(d=new ox(rF)),d=d.insert(f,n),h.xo[h.currentUser.toKey()]=d,[4,cf(r,i.changes)];case 3:return s.sent(),[4,uk(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=uV(s.sent(),"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function ct(t,e){return _(this,void 0,void 0,function(){var n,r;return A(this,function(i){var o,s,a;switch(i.label){case 0:n=t,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,(o=n.localStore,s=e.snapshotVersion,a=o.Fn,o.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var n=o.$n.newChangeBuffer({trackRemovals:!0});a=o.Fn;var r=[];e.targetChanges.forEach(function(e,n){var i=a.get(n);if(i){r.push(o.qe.removeMatchingKeys(t,e.removedDocuments,n).next(function(){return o.qe.addMatchingKeys(t,e.addedDocuments,n)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=i.withResumeToken(u,s).withSequenceNumber(t.currentSequenceNumber);a=a.insert(n,c),c.resumeToken.approximateByteSize()>0||rL(),(0===i.resumeToken.approximateByteSize()||c.snapshotVersion.toMicroseconds()-i.snapshotVersion.toMicroseconds()>=3e8||e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size>0)&&r.push(o.qe.updateTargetData(t,c))}}});var i=o_;if(e.documentUpdates.forEach(function(n,i){e.resolvedLimboDocuments.has(n)&&r.push(o.persistence.referenceDelegate.updateLimboDocument(t,n))}),r.push(aL(t,n,e.documentUpdates,s,void 0).next(function(t){i=t})),!s.isEqual(rB.min())){var u=o.qe.getLastRemoteSnapshotVersion(t).next(function(e){return o.qe.setTargetsMetadata(t,t.currentSequenceNumber,s)});r.push(u)}return sI.waitFor(r).next(function(){return n.apply(t)}).next(function(){return o.Mn.En(t,i)}).next(function(){return i})}).then(function(t){return o.Fn=a,t}))];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1||rL(),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?r.bo||rL():t.removedDocuments.size>0&&(r.bo||rL(),r.bo=!1))}),[4,cf(n,r,e)];case 3:case 5:return i.sent(),[3,6];case 4:return[4,au(i.sent())];case 6:return[2]}})})}function ce(t,e,n){if(t.isPrimaryClient&&0===n||!t.isPrimaryClient&&1===n){var r,i,o=[];t.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&o.push(r.snapshot)}),(r=t.eventManager).onlineState=e,i=!1,r.queries.forEach(function(t,n){for(var r=0,o=n.listeners;r<o.length;r++)o[r].zr(e)&&(i=!0)}),i&&uY(r),o.length&&t.vo._r(o),t.onlineState=e,t.isPrimaryClient&&t.sharedClientState.setOnlineState(e)}}function cn(t,e,n){return _(this,void 0,void 0,function(){var r,i,o,s,a,u;return A(this,function(c){switch(c.label){case 0:return(r=t).sharedClientState.updateQueryState(e,"rejected",n),(o=(i=r.Co.get(e))&&i.key)?(s=(s=new ox(r6.comparator)).insert(o,ih.newNoDocument(o,rB.min())),a=oP().add(o),u=new oN(rB.min(),new Map,new oS(rF),s,a),[4,ct(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),ch(r),[3,4];case 2:return[4,aF(r.localStore,e,!1).then(function(){return cu(r,e,n)}).catch(au)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function cr(t,e){return _(this,void 0,void 0,function(){var n,r,i;return A(this,function(o){var s;switch(o.label){case 0:n=t,r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(s=n.localStore,s.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var n,r,i,o=e.batch.keys(),a=s.$n.newChangeBuffer({trackRemovals:!0});return(r=(n=e.batch).keys(),i=sI.resolve(),r.forEach(function(r){i=i.next(function(){return a.getEntry(t,r)}).next(function(t){var i=e.docVersions.get(r);null!==i||rL(),0>t.version.compareTo(i)&&(n.applyToRemoteDocument(t,e),t.isValidDocument()&&a.addEntry(t,e.commitVersion))})}),i.next(function(){return s._n.removeMutationBatch(t,n)})).next(function(){return a.apply(t)}).next(function(){return s._n.performConsistencyCheck(t)}).next(function(){return s.Mn.pn(t,o)})}))];case 2:return i=o.sent(),ca(n,r,null),cs(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,cf(n,i)];case 3:case 5:return o.sent(),[3,6];case 4:return[4,au(o.sent())];case 6:return[2]}})})}function ci(t,e,n){return _(this,void 0,void 0,function(){var r,i;return A(this,function(o){var s;switch(o.label){case 0:r=t,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(s=r.localStore,s.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var n;return s._n.lookupMutationBatch(t,e).next(function(e){return null!==e||rL(),n=e.keys(),s._n.removeMutationBatch(t,e)}).next(function(){return s._n.performConsistencyCheck(t)}).next(function(){return s.Mn.pn(t,n)})}))];case 2:return i=o.sent(),ca(r,e,n),cs(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,cf(r,i)];case 3:case 5:return o.sent(),[3,6];case 4:return[4,au(o.sent())];case 6:return[2]}})})}function co(t,e){return _(this,void 0,void 0,function(){var n,r,i,o;return A(this,function(s){var a;switch(s.label){case 0:uE((n=t).remoteStore)||rN("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,(a=n.localStore).persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return a._n.getHighestUnacknowledgedBatchId(t)})];case 2:return -1===(r=s.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=uV(s.sent(),"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function cs(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function ca(t,e,n){var r=t.xo[t.currentUser.toKey()];if(r){var i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),t.xo[t.currentUser.toKey()]=r}}function cu(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||cc(t,e)})}function cc(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(uy(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),ch(t))}function cl(t,e,n){for(var r=0;r<n.length;r++){var i=n[r];i instanceof u0?(t.No.addReference(i.key,e),function(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(rN("SyncEngine","New document in limbo: "+n),t.So.add(r),ch(t))}(t,i)):i instanceof u1?(rN("SyncEngine","Document no longer in limbo: "+i.key),t.No.removeReference(i.key,e),t.No.containsKey(i.key)||cc(t,i.key)):rL()}}function ch(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new r6(rG.fromString(e)),r=t.ko.next();t.Co.set(r,new u4(n)),t.Do=t.Do.insert(n,r),ug(t.remoteStore,new sV(iU(iO(n.path)),r,2,rA.o))}}function cf(t,e,n){return _(this,void 0,void 0,function(){var r,i,o,s;return A(this,function(a){switch(a.label){case 0:return i=[],o=[],s=[],(r=t).Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.$o(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=aD.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return _(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l;return A(this,function(h){switch(h.label){case 0:n=t,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return sI.forEach(e,function(e){return sI.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return sI.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return h.sent(),[3,4];case 3:if(!sP(r=h.sent()))throw r;return rN("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(c=(u=n.Fn.get(a)).snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(a,l));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function cd(t,e){return _(this,void 0,void 0,function(){var n,r;return A(this,function(i){var o;switch(i.label){case 0:return(n=t).currentUser.isEqual(e)?[3,3]:(rN("SyncEngine","User change. New user:",e.toKey()),[4,aR(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,(o=n).Fo.forEach(function(t){t.forEach(function(t){t.reject(new rC(rk.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Fo.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,cf(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function cp(t,e){var n=t.Co.get(e);if(n&&n.bo)return oP().add(n.key);var r=oP(),i=t.Vo.get(e);if(!i)return r;for(var o=0;o<i.length;o++){var s=i[o],a=t.Po.get(s);r=r.unionWith(a.view.wo)}return r}function cm(t){return _(this,void 0,void 0,function(){var e;return A(this,function(n){return[2,aB((e=t).localStore).then(function(t){return cf(e,t)})]})})}function cg(t,e,n,r){return _(this,void 0,void 0,function(){var i,o;return A(this,function(s){var a,u,c;switch(s.label){case 0:return[4,(a=(i=t).localStore,u=a._n,a.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return u.jt(t,e).next(function(e){return e?a.Mn.pn(t,e):sI.resolve(null)})}))];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,uk(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(ca(i,e,r||null),cs(i,e),c=i.localStore,c._n.Gt(e)):rL(),s.label=4;case 4:return[4,cf(i,o)];case 5:return s.sent(),[3,7];case 6:rN("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function cy(t,e,n){return _(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p,m;return A(this,function(g){switch(g.label){case 0:n=t,r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(a=s[o],u=void 0,(c=n.Vo.get(a))&&0!==c.length?[4,aj(n.localStore,iU(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=h[l],d=n.Po.get(f),[4,function(t,e){return _(this,void 0,void 0,function(){var n,r,i;return A(this,function(o){switch(o.label){case 0:return[4,aV((n=t).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&cl(n,e.targetId,i.To),i)]}})})}(n,d)]):[3,6];case 4:(p=g.sent()).snapshot&&i.push(p.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,aU(n.localStore,a)];case 8:return m=g.sent(),[4,aj(n.localStore,m)];case 9:return u=g.sent(),[4,u8(n,cv(m),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function cv(t){var e,n,r,i,o;return e=t.path,n=t.collectionGroup,r=t.orderBy,i=t.filters,o=t.limit,new iN(e,n,r,i,o,"F",t.startAt,t.endAt)}function cb(t){return t.localStore.persistence.fn()}function cw(t,e,n,r){return _(this,void 0,void 0,function(){var i,o,s;return A(this,function(a){switch(a.label){case 0:return(i=t).Oo?(rN("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,aB(i.localStore)];case 3:return o=a.sent(),s=oN.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,cf(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,aF(i.localStore,e,!0)];case 6:return a.sent(),cu(i,e,r),[3,8];case 7:rL(),a.label=8;case 8:return[2]}})})}function cx(t,e,n){return _(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h,f;return A(this,function(d){switch(d.label){case 0:if(!(r=cE(t)).Oo)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?(s=o[i],r.Vo.has(s)?(rN("SyncEngine","Adding an already active target "+s),[3,5]):[4,aU(r.localStore,s)]):[3,6];case 2:return a=d.sent(),[4,aj(r.localStore,a)];case 3:return u=d.sent(),[4,u8(r,cv(a),u.targetId,!1)];case 4:d.sent(),ug(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return A(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,aF(r.localStore,t,!1).then(function(){uy(r.remoteStore,t),cu(r,t)}).catch(au)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function cE(t){return t.remoteStore.remoteSyncer.applyRemoteEvent=ct.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cn.bind(null,t),t.vo._r=uH.bind(null,t.eventManager),t.vo.Mo=uQ.bind(null,t.eventManager),t}function cT(t){return t.remoteStore.remoteSyncer.applySuccessfulWrite=cr.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ci.bind(null,t),t}var cS=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return _(this,void 0,void 0,function(){return A(this,function(e){switch(e.label){case 0:return this.R=us(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){var e,n;return e=this.persistence,n=new aN,new aO(e,n,t.initialUser,this.R)},t.prototype.qo=function(t){return new aY(a$.bs,this.R)},t.prototype.Bo=function(t){return new a9},t.prototype.terminate=function(){return _(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),cI=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return S(e,t),e.prototype.initialize=function(e){return _(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,function(t){return _(this,void 0,void 0,function(){var e;return A(this,function(n){return[2,(e=t).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){var e,n;return e=aw(t),n=rB.min(),e.Ot({index:sf.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=sK(e.readTime)),r.done()}).next(function(){return n})}).then(function(t){e.On=t})]})})}(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,cT(this.Ko.syncEngine)];case 4:return n.sent(),[4,uk(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){var e,n;return e=this.persistence,n=new aN,new aO(e,n,t.initialUser,this.R)},e.prototype.Uo=function(t){return new ah(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=ak(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?s5.withCacheSize(this.cacheSizeBytes):s5.DEFAULT;return new aI(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,ui(),uo(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new a9},e}(cS),c_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return S(e,t),e.prototype.initialize=function(e){return _(this,void 0,void 0,function(){var n,r=this;return A(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof a8?(this.sharedClientState.syncEngine={ui:cg.bind(null,n),ai:cw.bind(null,n),hi:cx.bind(null,n),fn:cb.bind(null,n),ci:cm.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return _(r,void 0,void 0,function(){return A(this,function(e){switch(e.label){case 0:return[4,function(t,e){return _(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return A(this,function(l){var h;switch(l.label){case 0:return cE(n=t),cT(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,cy(n,r.toArray())]);case 1:return i=l.sent(),n.Oo=!0,[4,uM(n.remoteStore,!0)];case 2:for(l.sent(),o=0,s=i;o<s.length;o++)a=s[o],ug(n.remoteStore,a);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?u.push(e):c=c.then(function(){return cu(n,e),aF(n.localStore,e,!0)}),uy(n.remoteStore,e)}),[4,c]);case 4:return l.sent(),[4,cy(n,u)];case 5:return l.sent(),(h=n).Co.forEach(function(t,e){uy(h.remoteStore,e)}),h.No.ts(),h.Co=new Map,h.Do=new ox(r6.comparator),n.Oo=!1,[4,uM(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}})})}(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=ui();if(!a8.yt(e))throw new rC(rk.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ak(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new a8(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(cI),cA=function(){function t(){}return t.prototype.initialize=function(t,e){return _(this,void 0,void 0,function(){var n=this;return A(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return ce(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=cd.bind(null,this.syncEngine),[4,uM(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new uK},t.prototype.createDatastore=function(t){var e=us(t.databaseInfo.databaseId),n=new ur(t.databaseInfo);return new uh(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r=this;return e=this.localStore,n=this.datastore,new ud(e,n,t.asyncQueue,function(t){return ce(r.syncEngine,t,0)},ut.yt()?new ut:new a7)},t.prototype.createSyncEngine=function(t,e){var n,r,i,o,s,a,u;return n=this.localStore,r=this.remoteStore,i=this.eventManager,o=this.sharedClientState,s=t.initialUser,a=t.maxConcurrentLimboResolutions,u=new u5(n,r,i,o,s,a),e&&(u.Oo=!0),u},t.prototype.terminate=function(){return function(t){return _(this,void 0,void 0,function(){var e;return A(this,function(n){switch(n.label){case 0:return e=t,rN("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,um(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),ck=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),cC=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new sS,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return _(this,void 0,void 0,function(){return A(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return _(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return _(this,void 0,void 0,function(){var t,e,n;return A(this,function(r){switch(r.label){case 0:return[4,this.Jo()];case 1:return null===(t=r.sent())?[2,null]:(isNaN(n=Number(e=this.zo.decode(t)))&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return[2,new u$(JSON.parse(r.sent()),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return 123===t})},t.prototype.Jo=function(){return _(this,void 0,void 0,function(){var t,e;return A(this,function(n){switch(n.label){case 0:return 0>this.Zo()?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return _(this,void 0,void 0,function(){var e;return A(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return _(this,void 0,void 0,function(){var t,e;return A(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return _(this,void 0,void 0,function(){var e,n=this;return A(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new rC(rk.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return _(this,void 0,void 0,function(){var n,r,i,o,s,a;return A(this,function(u){switch(u.label){case 0:return r=oZ((n=t).R)+"/documents",i={documents:e.map(function(t){return oY(n.R,t)})},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e,r,i,o,a,u,c=(e=n.R,"found"in t?(t.found||rL(),t.found.name,t.found.updateTime,r=oX(e,t.found.name),i=oG(t.found.updateTime),o=new il({mapValue:{fields:t.found.fields}}),ih.newFoundDocument(r,i,o)):"missing"in t?(t.missing||rL(),t.readTime||rL(),a=oX(e,t.missing),u=oG(t.readTime),ih.newNoDocument(a,u)):rL());s.set(c.key.toString(),c)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());e||rL(),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new og(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return _(this,void 0,void 0,function(){var t,e=this;return A(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=r6.fromPath(n);e.mutations.push(new oy(r,e.precondition(r)))}),[4,function(t,e){return _(this,void 0,void 0,function(){var n,r,i;return A(this,function(o){switch(o.label){case 0:return r=oZ((n=t).R)+"/documents",i={writes:e.map(function(t){return o3(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw rL();e=rB.min()}var e,n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new rC(rk.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?i9.updateTime(e):i9.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(rB.min()))throw new rC(rk.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return i9.updateTime(e)}return i9.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),cP=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new ua(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return _(t,void 0,void 0,function(){var t,e,n=this;return A(this,function(r){return t=new cC(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!r3(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!ob(e)}return!1},t}(),cD=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=aJ.UNAUTHENTICATED,this.clientId=rj.u(),this.credentialListener=function(){},this.receivedInitialUser=new sS,this.credentials.setChangeListener(function(t){rN("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return _(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new rC(rk.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new sS;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return _(t,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:n.sent(),n.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:n.sent(),n.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=uV(n.sent(),"Failed to shutdown persistence"),e.reject(t),[3,6];case 6:return[2]}})})}),e.promise},t}();function cN(t,e){return _(this,void 0,void 0,function(){var n,r,i=this;return A(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),rN("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return _(i,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,aR(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function cO(t,e){return _(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,cR(t)];case 1:return n=i.sent(),rN("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return _(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return(n=t).asyncQueue.verifyOperationInProgress(),rN("RemoteStore","RemoteStore received new credentials"),r=uE(n),n.$r.add(3),[4,um(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,up(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function cR(t){return _(this,void 0,void 0,function(){return A(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(rN("FirestoreClient","Using default OfflineComponentProvider"),[4,cN(t,new cS)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function cM(t){return _(this,void 0,void 0,function(){return A(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(rN("FirestoreClient","Using default OnlineComponentProvider"),[4,cO(t,new cA)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function cL(t){return cR(t).then(function(t){return t.persistence})}function cj(t){return cR(t).then(function(t){return t.localStore})}function cF(t){return cM(t).then(function(t){return t.remoteStore})}function cV(t){return cM(t).then(function(t){return t.syncEngine})}function cU(t){return _(this,void 0,void 0,function(){var e,n;return A(this,function(r){switch(r.label){case 0:return[4,cM(t)];case 1:return[2,((n=(e=r.sent()).eventManager).onListen=u6.bind(null,e.syncEngine),n.onUnlisten=u9.bind(null,e.syncEngine),n)]}})})}function cB(t,e,n){var r=this;void 0===n&&(n={});var i=new sS;return t.asyncQueue.enqueueAndForget(function(){return _(r,void 0,void 0,function(){var r;return A(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new ck({next:function(o){e.enqueueAndForget(function(){return uG(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new rC(rk.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new rC(rk.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new uX(iO(n.path),o,{includeMetadataChanges:!0,so:!0});return uW(t,s)},[4,cU(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function cq(t,e,n){var r=this;void 0===n&&(n={});var i=new sS;return t.asyncQueue.enqueueAndForget(function(){return _(r,void 0,void 0,function(){var r;return A(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new uX(n,new ck({next:function(n){e.enqueueAndForget(function(){return uG(t,o)}),n.fromCache&&"server"===r.source?i.reject(new rC(rk.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),{includeMetadataChanges:!0,so:!0});return uW(t,o)},[4,cU(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var cz=function(t,e,n,r,i,o,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s},cK=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),cW=new Map,cG=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},cH=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(aJ.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),cQ=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(this.token.user)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),cY=function(){function t(t){var e=this;this.oc=null,this.currentUser=aJ.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(rN("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?("string"==typeof n.accessToken||rL(),new cG(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return null===t||"string"==typeof t||rL(),new aJ(t)},t}(),cX=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=aJ.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),c$=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new cX(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(aJ.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function cJ(t,e,n){if(!n)throw new rC(rk.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function cZ(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new rC(rk.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function c0(t,e,n,r){if(!0===e&&!0===r)throw new rC(rk.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function c1(t){if(!r6.isDocumentKey(t))throw new rC(rk.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function c2(t){if(r6.isDocumentKey(t))throw new rC(rk.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function c3(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":rL()}function c4(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new rC(rk.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=c3(t);throw new rC(rk.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function c5(t,e){if(e<=0)throw new rC(rk.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var c6=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new rC(rk.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null==(e=t.ssl)||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=0x2800000;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new rC(rk.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,c0("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),c8=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new c6({}),this._settingsFrozen=!1,t instanceof cK?(this._databaseId=t,this._credentials=new cH):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new rC(rk.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cK(t.options.projectId)}(t),this._credentials=new cY(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new rC(rk.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new rC(rk.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new c6(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new cH;switch(t.type){case"gapi":var e=t.client;return"object"==typeof e&&null!==e&&e.auth&&e.auth.getAuthHeaderValueForFirstParty||rL(),new c$(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new rC(rk.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){var t;return(t=cW.get(this))&&(rN("ComponentProvider","Removing Datastore"),cW.delete(this),t.terminate()),Promise.resolve()},t}(),c9=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new lt(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),c7=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),lt=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,iO(r))||this)._path=r,i.type="collection",i}return S(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new c9(this.firestore,null,new r6(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(c7);function le(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=W(t),cJ("collection","path",e),t instanceof c8)return c2(n=rG.fromString.apply(rG,P([e],r))),new lt(t,null,n);if(!(t instanceof c9||t instanceof lt))throw new rC(rk.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return c2(n=rG.fromString.apply(rG,P([t.path],r)).child(rG.fromString(e))),new lt(t.firestore,null,n)}function ln(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=W(t),1==arguments.length&&(e=rj.u()),cJ("doc","path",e),t instanceof c8)return c1(n=rG.fromString.apply(rG,P([e],r))),new c9(t,null,new r6(n));if(!(t instanceof c9||t instanceof lt))throw new rC(rk.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return c1(n=t._path.child(rG.fromString.apply(rG,P([e],r)))),new c9(t.firestore,t instanceof lt?t.converter:null,new r6(n))}function lr(t,e){return t=W(t),e=W(e),(t instanceof c9||t instanceof lt)&&(e instanceof c9||e instanceof lt)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function li(t,e){return t=W(t),e=W(e),t instanceof c7&&e instanceof c7&&t.firestore===e.firestore&&iq(t._query,e._query)&&t.converter===e.converter}var lo=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new ua(this,"async_queue_retry"),this.Ec=function(){var e=uo();e&&rN("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=uo();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=uo();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(t){}):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.dc.push(t),e.Ac()})},t.prototype.Ac=function(){return _(this,void 0,void 0,function(){var t,e=this;return A(this,function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!sP(t=n.sent()))throw t;return rN("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji(function(){return e.Ac()}),n.label=5;case 5:return[2]}})})},t.prototype.Ic=function(t){var e=this,n=this.fc.then(function(){return e.yc=!0,t().catch(function(t){var n;throw e.mc=t,e.yc=!1,rO("INTERNAL UNHANDLED ERROR: ",(n=t.message||"",t.stack&&(n=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),n)),t}).then(function(t){return e.yc=!1,t})});return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=uF.createAndSchedule(this,t,e,n,function(t){return r.Rc(t)});return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&rL()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return _(this,void 0,void 0,function(){var t;return A(this,function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then(function(){e._c.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()})},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function ls(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)}function la(){this._progressObserver={},this._taskCompletionResolver=new sS,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}la.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},la.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},la.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},la.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},la.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},la.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)};var lu=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new lo,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return S(e,t),e.prototype._terminate=function(){return this._firestoreClient||ll(this),this._firestoreClient.terminate()},e}(c8);function lc(t){return t._firestoreClient||ll(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function ll(t){var e,n,r,i=t._freezeSettings(),o=(e=t._databaseId,n=(null==(r=t._app)?void 0:r.options.appId)||"",new cz(e,n,t._persistenceKey,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling));t._firestoreClient=new cD(t._credentials,t._queue,o)}function lh(t,e,n){var r=this,i=new sS;return t.asyncQueue.enqueue(function(){return _(r,void 0,void 0,function(){var r;return A(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,cN(t,n)];case 1:return o.sent(),[4,cO(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:var s;if(!("FirebaseError"===(s=r=o.sent()).name?s.code===rk.FAILED_PRECONDITION||s.code===rk.UNIMPLEMENTED:!("u">typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function lf(t){if(t._initialized||t._terminated)throw new rC(rk.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ld=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new rC(rk.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rQ(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),lp=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(rX.fromBase64String(e))}catch(t){throw new rC(rk.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},t.fromUint8Array=function(e){return new t(rX.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),lm=function(t){this._methodName=t},lg=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new rC(rk.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new rC(rk.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return rF(this._lat,t._lat)||rF(this._long,t._long)},t}(),ly=/^__.*__$/,lv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new oo(t,this.data,this.fieldMask,e,this.fieldTransforms):new oi(t,this.data,e,this.fieldTransforms)},t}(),lb=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new oo(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function lw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rL()}}var lx=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null==(e=this.path)?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null==(e=this.path)?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return lB(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(lw(this.Dc)&&ly.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),lE=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||us(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new lx({Dc:t,methodName:e,Lc:n,path:rQ.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function lT(t){var e=t._freezeSettings(),n=us(t._databaseId);return new lE(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lS(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Bc(o.merge||o.mergeFields?2:0,e,n,i);lj("Data must be an object, but it was:",s,r);var a,u,c=lM(r,s);if(o.merge)a=new rY(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=lF(e,f[h],n);if(!s.contains(d))throw new rC(rk.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");lq(l,d)||l.push(d)}a=new rY(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new lv(new il(c),a,u)}var lI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return S(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw 1===t.Dc?t.$c(this._methodName+"() can only appear at the top level of your update data"):t.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(lm);function l_(t,e,n){return new lx({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var lA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return S(e,t),e.prototype._toFieldTransform=function(t){return new i6(t.path,new iJ)},e.prototype.isEqual=function(t){return t instanceof e},e}(lm),lk=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return S(e,t),e.prototype._toFieldTransform=function(t){var e=l_(this,t,!0),n=new iZ(this.qc.map(function(t){return lR(t,e)}));return new i6(t.path,n)},e.prototype.isEqual=function(t){return this===t},e}(lm),lC=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return S(e,t),e.prototype._toFieldTransform=function(t){var e=l_(this,t,!0),n=new i1(this.qc.map(function(t){return lR(t,e)}));return new i6(t.path,n)},e.prototype.isEqual=function(t){return this===t},e}(lm),lP=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return S(e,t),e.prototype._toFieldTransform=function(t){var e=new i3(t.R,iY(t.R,this.Uc));return new i6(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(lm);function lD(t,e,n,r){var i=t.Bc(1,e,n);lj("Data must be an object, but it was:",i,r);var o=[],s=il.empty();return rz(r,function(t,r){var a=lU(e,t,n);r=W(r);var u=i.kc(a);if(r instanceof lI)o.push(a);else{var c=lR(r,u);null!=c&&(o.push(a),s.set(a,c))}}),new lb(s,new rY(o),i.fieldTransforms)}function lN(t,e,n,r,i,o){var s=t.Bc(1,e,n),a=[lF(e,r,n)],u=[i];if(o.length%2!=0)throw new rC(rk.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(lF(e,o[c])),u.push(o[c+1]);for(var l=[],h=il.empty(),f=a.length-1;f>=0;--f)if(!lq(l,a[f])){var d=a[f],p=u[f];p=W(p);var m=s.kc(d);if(p instanceof lI)l.push(d);else{var g=lR(p,m);null!=g&&(l.push(d),h.set(d,g))}}return new lb(h,new rY(l),s.fieldTransforms)}function lO(t,e,n,r){return void 0===r&&(r=!1),lR(n,t.Bc(r?4:3,e))}function lR(t,e){if(lL(t=W(t)))return lj("Unsupported field value:",e,t),lM(t,e);if(t instanceof lm)return function(t,e){if(!lw(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");for(var n=t,r=[],i=0,o=0;o<n.length;o++){var s=lR(n[o],e.Oc(i));null==s&&(s={nullValue:"NULL_VALUE"}),r.push(s),i++}return{arrayValue:{values:r}}}var a=t;if(null===(a=W(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return iY(e.R,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){var u=rU.fromDate(a);return{timestampValue:oK(e.R,u)}}if(a instanceof rU)return u=new rU(a.seconds,1e3*Math.floor(a.nanoseconds/1e3)),{timestampValue:oK(e.R,u)};if(a instanceof lg)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof lp)return{bytesValue:oW(e.R,a._byteString)};if(a instanceof c9){u=e.databaseId;var c=a.firestore._databaseId;if(!c.isEqual(u))throw e.$c("Document reference is for database "+c.projectId+"/"+c.database+" but should be for database "+u.projectId+"/"+u.database);return{referenceValue:oH(a.firestore._databaseId||e.databaseId,a._key.path)}}throw e.$c("Unsupported field value: "+c3(a))}function lM(t,e){var n={};return rK(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rz(t,function(t,r){var i=lR(r,e.Nc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function lL(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof rU||t instanceof lg||t instanceof lp||t instanceof c9||t instanceof lm)}function lj(t,e,n){if(!lL(n)||"object"!=typeof n||null===n||Object.getPrototypeOf(n)!==Object.prototype&&null!==Object.getPrototypeOf(n)){var r=c3(n);throw"an object"===r?e.$c(t+" a custom object"):e.$c(t+" "+r)}}function lF(t,e,n){if((e=W(e))instanceof ld)return e._internalPath;if("string"==typeof e)return lU(t,e);throw lB("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var lV=RegExp("[~\\*/\\[\\]]");function lU(t,e,n){if(e.search(lV)>=0)throw lB("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(ld.bind.apply(ld,P([void 0],e.split(".")))))._internalPath}catch(r){throw lB("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function lB(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new rC(rk.INVALID_ARGUMENT,(a+=". ")+t+u)}function lq(t,e){return t.some(function(t){return t.isEqual(e)})}var lz=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new c9(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new lK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(lW("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),lK=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return S(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(lz);function lW(t,e){return"string"==typeof e?lU(t,e):e instanceof ld?e._internalPath:e._delegate._internalPath}var lG=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),lH=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return S(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new lQ(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(lW("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(lz),lQ=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return S(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(lH),lY=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new lG(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new lQ(n._firestore,n._userDataWriter,r.key,r,new lG(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new rC(rk.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){var r=new lQ(t._firestore,t._userDataWriter,e.doc.key,e.doc,new lG(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new lQ(t._firestore,t._userDataWriter,e.doc.key,e.doc,new lG(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:function(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rL()}}(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function lX(t,e){return t instanceof lH&&e instanceof lH?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof lY&&e instanceof lY&&t._firestore===e._firestore&&li(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function l$(t){if(iM(t)&&0===t.explicitOrderBy.length)throw new rC(rk.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var lJ=function(){};function lZ(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++)t=e[r]._apply(t);return t}var l0=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return S(e,t),e.prototype._apply=function(t){var e,n,r=lT(t.firestore),i=function(t,e,n,r,i,o,s){if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new rC(rk.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){l8(s,o);for(var a,u=[],c=0;c<s.length;c++){var l=s[c];u.push(l6(r,t,l))}a={arrayValue:{values:u}}}else a=l6(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||l8(s,o),a=lO(n,"where",s,"in"===o||"not-in"===o);var h=iv.create(i,o,a);return function(t,e){if(e.g()){var n=ij(t);if(null!==n&&!n.isEqual(e.field))throw new rC(rk.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=iL(t);null!==r&&l9(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new rC(rk.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new rC(rk.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,r,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new c7(t.firestore,t.converter,(e=t._query,n=e.filters.concat([i]),new iN(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)))},e}(lJ),l1=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return S(e,t),e.prototype._apply=function(t){var e,n,r=function(t,e,n){if(null!==t.startAt)throw new rC(rk.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new rC(rk.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new iC(e,n);return function(t,e){if(null===iL(t)){var n=ij(t);null!==n&&l9(t,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new c7(t.firestore,t.converter,(e=t._query,n=e.explicitOrderBy.concat([r]),new iN(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)))},e}(lJ),l2=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return S(e,t),e.prototype._apply=function(t){return new c7(t.firestore,t.converter,iB(t._query,this.Gc,this.zc))},e}(lJ),l3=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return S(e,t),e.prototype._apply=function(t){var e,n=l5(t,this.type,this.Hc,this.Jc);return new c7(t.firestore,t.converter,(e=t._query,new iN(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,n,e.endAt)))},e}(lJ),l4=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return S(e,t),e.prototype._apply=function(t){var e,n=l5(t,this.type,this.Hc,this.Jc);return new c7(t.firestore,t.converter,(e=t._query,new iN(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,n)))},e}(lJ);function l5(t,e,n,r){if(n[0]=W(n[0]),n[0]instanceof lz)return function(t,e,n,r,i){if(!r)throw new rC(rk.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=iV(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(ii(e,r.key));else{var c=r.data.field(u.field);if(r1(c))throw new rC(rk.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new rC(rk.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new iA(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=lT(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new rC(rk.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new rC(rk.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!iF(t)&&-1!==c.indexOf("/"))throw new rC(rk.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(rG.fromString(c));if(!r6.isDocumentKey(l))throw new rC(rk.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new r6(l);a.push(ii(e,h))}else{var f=lO(n,r,c);a.push(f)}}return new iA(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function l6(t,e,n){if("string"==typeof(n=W(n))){if(""===n)throw new rC(rk.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!iF(e)&&-1!==n.indexOf("/"))throw new rC(rk.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(rG.fromString(n));if(!r6.isDocumentKey(r))throw new rC(rk.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ii(t,new r6(r))}if(n instanceof c9)return ii(t,n._key);throw new rC(rk.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+c3(n)+".")}function l8(t,e){if(!Array.isArray(t)||0===t.length)throw new rC(rk.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new rC(rk.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function l9(t,e,n){if(!n.isEqual(e))throw new rC(rk.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var l7=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),r8(t)){case 0:return null;case 1:return t.booleanValue;case 2:return rZ(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(r0(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw rL()}},t.prototype.convertObject=function(t,e){var n=this,r={};return rz(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new lg(rZ(t.latitude),rZ(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return r1(n)?t(n):n}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(r2(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=rJ(t);return new rU(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=rG.fromString(t);sn(n)||rL();var r=new cK(n.get(1),n.get(3)),i=new r6(n.popFirst(5));return r.isEqual(e)||rO("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function ht(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var he=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return S(e,t),e.prototype.convertBytes=function(t){return new lp(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new c9(this.firestore,null,e)},e}(l7),hn=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=lT(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=hr(t,this._firestore),i=ht(r.converter,e,n),o=lS(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,i9.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=hr(t,this._firestore);return o="string"==typeof(e=W(e))||e instanceof ld?lN(this._dataReader,"WriteBatch.update",s._key,e,n,r):lD(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,i9.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=hr(t,this._firestore);return this._mutations=this._mutations.concat(new og(e._key,i9.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new rC(rk.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function hr(t,e){if((t=W(t)).firestore!==e)throw new rC(rk.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var hi=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return S(e,t),e.prototype.convertBytes=function(t){return new lp(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new c9(this.firestore,null,e)},e}(l7);function ho(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=c4(t,c9);var o=c4(t.firestore,lu),s=lT(o);return ha(o,[("string"==typeof(e=W(e))||e instanceof ld?lN(s,"updateDoc",t._key,e,n,r):lD(s,"updateDoc",t._key,e)).toMutation(t._key,i9.exists(!0))])}function hs(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=W(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[0]||ls(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(ls(i[a])){var f=i[a];i[a]=null==(e=f.next)?void 0:e.bind(f),i[a+1]=null==(n=f.error)?void 0:n.bind(f),i[a+2]=null==(r=f.complete)?void 0:r.bind(f)}if(t instanceof c9)c=c4(t.firestore,lu),l=iO(t._key.path),u={next:function(e){i[a]&&i[a](hu(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=c4(t,c7);c=c4(d.firestore,lu),l=d._query;var p=new hi(c);u={next:function(t){i[a]&&i[a](new lY(c,p,d,t))},error:i[a+1],complete:i[a+2]},l$(t._query)}return function(t,e,n,r){var i=this,o=new ck(r),s=new uX(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return _(i,void 0,void 0,function(){var e;return A(this,function(n){switch(n.label){case 0:return e=uW,[4,cU(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return _(i,void 0,void 0,function(){var e;return A(this,function(n){switch(n.label){case 0:return e=uG,[4,cU(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(lc(c),l,h,u)}function ha(t,e){return function(t,e){var n=this,r=new sS;return t.asyncQueue.enqueueAndForget(function(){return _(n,void 0,void 0,function(){var n;return A(this,function(i){switch(i.label){case 0:return n=u7,[4,cV(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(lc(t),e)}function hu(t,e,n){var r=n.docs.get(e._key),i=new hi(t);return new lH(t,i,e._key,r,new lG(n.hasPendingWrites,n.fromCache),e.converter)}var hc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return S(e,t),e.prototype.get=function(e){var n=this,r=hr(e,this._firestore),i=new hi(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new lH(n._firestore,i,r._key,t._document,new lG(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=lT(t)}return t.prototype.get=function(t){var e=this,n=hr(t,this._firestore),r=new he(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return rL();var i=t[0];if(i.isFoundDocument())return new lz(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new lz(e._firestore,r,n._key,null,n.converter);throw rL()})},t.prototype.set=function(t,e,n){var r=hr(t,this._firestore),i=ht(r.converter,e,n),o=lS(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=hr(t,this._firestore);return o="string"==typeof(e=W(e))||e instanceof ld?lN(this._dataReader,"Transaction.update",s._key,e,n,r):lD(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=hr(t,this._firestore);return this._transaction.delete(e._key),this},t}());function hl(){if("u"<typeof Uint8Array)throw new rC(rk.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function hh(){if("u"<typeof atob)throw new rC(rk.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var hf=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return hh(),new t(lp.fromBase64String(e))},t.fromUint8Array=function(e){return hl(),new t(lp.fromUint8Array(e))},t.prototype.toBase64=function(){return hh(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return hl(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),hd=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){var n,r,i,o,s;return n=t._delegate,r={forceOwnership:e},lf(n=c4(n,lu)),i=lc(n),o=n._freezeSettings(),lh(i,s=new cA,new cI(s,o.cacheSizeBytes,null==r?void 0:r.forceOwnership))},t.prototype.enableMultiTabIndexedDbPersistence=function(t){var e,n,r,i;return lf(e=c4(e=t._delegate,lu)),n=lc(e),r=e._freezeSettings(),lh(n,i=new cA,new c_(i,r.cacheSizeBytes))},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new rC(rk.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new sS;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return _(e,void 0,void 0,function(){var e;return A(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return _(this,void 0,void 0,function(){var e;return A(this,function(n){switch(n.label){case 0:return sA.yt()?(e=t+"main",[4,sA.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}})})}(ak(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),hp=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof cK||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=c4(t,c8))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&rR("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=function(t,e){if(t.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n="demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=I({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[O.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),O.encodeString(JSON.stringify(o),!1),""].join(".")}(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new rC(rk.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new cQ(new cG(o,new aJ(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return _(e,void 0,void 0,function(){var e,n;return A(this,function(r){switch(r.label){case 0:return[4,cL(t)];case 1:return e=r.sent(),[4,cF(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),n.$r.delete(0),up(n))]}})})})}(lc(c4(this._delegate,lu)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return _(e,void 0,void 0,function(){var e,n;return A(this,function(r){switch(r.label){case 0:return[4,cL(t)];case 1:return e=r.sent(),[4,cF(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return _(this,void 0,void 0,function(){var e;return A(this,function(n){switch(n.label){case 0:return(e=t).$r.add(0),[4,um(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(lc(c4(this._delegate,lu)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&c0("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new sS;return t.asyncQueue.enqueueAndForget(function(){return _(e,void 0,void 0,function(){var e;return A(this,function(r){switch(r.label){case 0:return e=co,[4,cV(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(lc(c4(this._delegate,lu)))},t.prototype.onSnapshotsInSync=function(t){var e;return e=this._delegate,function(t,e){var n=this,r=new ck(e);return t.asyncQueue.enqueueAndForget(function(){return _(n,void 0,void 0,function(){var e;return A(this,function(n){switch(n.label){case 0:return e=function(t,e){t.Gr.add(e),e.next()},[4,cU(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return _(n,void 0,void 0,function(){var e;return A(this,function(n){switch(n.label){case 0:return e=function(t,e){t.Gr.delete(e)},[4,cU(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(lc(e=c4(e,lu)),ls(t)?t:{next:t})},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new rC(rk.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new hk(this,le(this._delegate,t))}catch(t){throw hw(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new hb(this,ln(this._delegate,t))}catch(t){throw hw(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new hI(this,function(t,e){if(t=c4(t,c8),cJ("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new rC(rk.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new c7(t,null,new iN(rG.emptyPath(),e))}(this._delegate,t))}catch(t){throw hw(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e,n,r=this;return e=this._delegate,n=function(e){return t(new hg(r,e))},function(t,e){var n=this,r=new sS;return t.asyncQueue.enqueueAndForget(function(){return _(n,void 0,void 0,function(){var n;return A(this,function(i){switch(i.label){case 0:return[4,cM(t).then(function(t){return t.datastore})];case 1:return n=i.sent(),new cP(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(lc(e),function(t){return n(new hc(e,t))})},t.prototype.batch=function(){var t=this;return lc(this._delegate),new hy(new hn(this._delegate,function(e){return ha(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new rC(rk.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new rC(rk.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),hm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return S(e,t),e.prototype.convertBytes=function(t){return new hf(new lp(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return hb.Zc(e,this.firestore,null)},e}(l7),hg=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new hm(t)}return t.prototype.get=function(t){var e=this,n=c4(t,c9);return this._delegate.get(n).then(function(t){return new hT(e._firestore,new lH(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=c4(t,c9);return n?(cZ("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=c4(t,c9);return 2==arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,P([s,e,n],i)),this},t.prototype.delete=function(t){var e=c4(t,c9);return this._delegate.delete(e),this},t}(),hy=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=c4(t,c9);return n?(cZ("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=c4(t,c9);return 2==arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,P([s,e,n],i)),this},t.prototype.delete=function(t){var e=c4(t,c9);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),hv=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new lQ(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new hS(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new hm(e),n),i.set(n,o)),o},t}();hv.eu=new WeakMap;var hb=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new hm(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new rC(rk.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new c9(n._delegate,r,new r6(e)))},t.Zc=function(e,n,r){return new t(n,new c9(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new hk(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new hk(this.firestore,le(this._delegate,t))}catch(t){throw hw(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=W(t))instanceof c9&&lr(this._delegate,t)},t.prototype.set=function(t,e){e=cZ("DocumentReference.set",e);try{var n,r,i,o;return n=this._delegate,r=e,n=c4(n,c9),i=c4(n.firestore,lu),o=ht(n.converter,t,r),ha(i,[lS(lT(i),"setDoc",n._key,o,null!==n.converter,r).toMutation(n._key,i9.none())])}catch(t){throw hw(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1==arguments.length?ho(this._delegate,t):ho.apply(void 0,P([this._delegate,t,e],n))}catch(t){throw hw(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){var t;return ha(c4((t=this._delegate).firestore,lu),[new og(t._key,i9.none())])},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=hx(e),i=hE(e,function(e){return new hT(t.firestore,new lH(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return hs(this._delegate,r,i)},t.prototype.get=function(t){var e,n,r,i,o,s,a,u,c=this;return("cache"===(null==t?void 0:t.source)?(e=c4(e=this._delegate,c9),r=lc(n=c4(e.firestore,lu)),i=new hi(n),(function(t,e){var n=this,r=new sS;return t.asyncQueue.enqueueAndForget(function(){return _(n,void 0,void 0,function(){var n;return A(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return _(this,void 0,void 0,function(){var r;return A(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t.persistence.runTransaction("read document","readonly",function(n){return t.Mn.mn(n,e)})];case 1:return(r=i.sent()).isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new rC(rk.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=uV(i.sent(),"Failed to get document '"+e+" from cache"),n.reject(r),[3,3];case 3:return[2]}})})},[4,cj(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise})(r,e._key).then(function(t){return new lH(n,i,e._key,t,new lG(null!==t&&t.hasLocalMutations,!0),e.converter)})):"server"===(null==t?void 0:t.source)?(o=c4(o=this._delegate,c9),cB(lc(s=c4(o.firestore,lu)),o._key,{source:"server"}).then(function(t){return hu(s,o,t)})):(a=c4(a=this._delegate,c9),cB(lc(u=c4(a.firestore,lu)),a._key).then(function(t){return hu(u,a,t)}))).then(function(t){return new hT(c.firestore,new lH(c.firestore._delegate,c._userDataWriter,t._key,t._document,t.metadata,c._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(hv.tu(this.firestore,e)):this._delegate.withConverter(null))},t}();function hw(t,e,n){return t.message=t.message.replace(e,n),t}function hx(t){for(var e=0;e<t.length;e++){var n=t[e];if("object"==typeof n&&!ls(n))return n}return{}}function hE(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null==(n=(i=ls(t[0])?t[0]:ls(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)?void 0:n.bind(i),complete:null==(r=i.complete)?void 0:r.bind(i)}}var hT=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new hb(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return lX(this._delegate,t._delegate)},t}(),hS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return S(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(hT),hI=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new hm(t)}return t.prototype.where=function(e,n,r){try{var i;return new t(this.firestore,lZ(this._delegate,(i=lW("where",e),new l0(i,n,r))))}catch(t){throw hw(t,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{var r,i,o;return new t(this.firestore,lZ(this._delegate,(r=n,void 0===r&&(r="asc"),i=r,o=lW("orderBy",e),new l1(o,i))))}catch(t){throw hw(t,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,lZ(this._delegate,(c5("limit",e),new l2("limit",e,"F"))))}catch(t){throw hw(t,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,lZ(this._delegate,(c5("limitToLast",e),new l2("limitToLast",e,"L"))))}catch(t){throw hw(t,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,lZ(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new l3("startAt",t,!0)}).apply(void 0,e)))}catch(t){throw hw(t,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,lZ(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new l3("startAfter",t,!1)}).apply(void 0,e)))}catch(t){throw hw(t,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,lZ(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new l4("endBefore",t,!0)}).apply(void 0,e)))}catch(t){throw hw(t,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,lZ(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new l4("endAt",t,!1)}).apply(void 0,e)))}catch(t){throw hw(t,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return li(this._delegate,t._delegate)},t.prototype.get=function(t){var e,n,r,i,o,s,a,u,c,l,h,f,d=this;return("cache"===(null==t?void 0:t.source)?(e=c4(e=this._delegate,c7),r=lc(n=c4(e.firestore,lu)),i=new hi(n),(function(t,e){var n=this,r=new sS;return t.asyncQueue.enqueueAndForget(function(){return _(n,void 0,void 0,function(){var n;return A(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return _(this,void 0,void 0,function(){var r,i,o,s;return A(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,aV(t,e,!0)];case 1:return i=(r=new u2(e,(s=a.sent()).Bn))._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=uV(a.sent(),"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}})})},[4,cj(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise})(r,e._query).then(function(t){return new lY(n,i,e,t)})):"server"===(null==t?void 0:t.source)?(o=c4(o=this._delegate,c7),a=lc(s=c4(o.firestore,lu)),u=new hi(s),cq(a,o._query,{source:"server"}).then(function(t){return new lY(s,u,o,t)})):(c=c4(c=this._delegate,c7),h=lc(l=c4(c.firestore,lu)),f=new hi(l),l$(c._query),cq(h,c._query).then(function(t){return new lY(l,f,c,t)}))).then(function(t){return new hA(d.firestore,new lY(d.firestore._delegate,d._userDataWriter,d._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=hx(e),i=hE(e,function(e){return new hA(t.firestore,new lY(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return hs(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(hv.tu(this.firestore,e)):this._delegate.withConverter(null))},t}(),h_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new hS(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),hA=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new hI(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new hS(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new h_(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new hS(n._firestore,r))})},t.prototype.isEqual=function(t){return lX(this._delegate,t._delegate)},t}(),hk=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return S(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new hb(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new hb(this.firestore,void 0===t?ln(this._delegate):ln(this._delegate,t))}catch(t){throw hw(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e,n,r,i,o=this;return(e=this._delegate,n=c4(e.firestore,lu),r=ln(e),i=ht(e.converter,t),ha(n,[lS(lT(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,i9.exists(!1))]).then(function(){return r})).then(function(t){return new hb(o.firestore,t)})},e.prototype.isEqual=function(t){return lr(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(hv.tu(this.firestore,t)):this._delegate.withConverter(null))},e}(hI),hC={Firestore:hp,GeoPoint:lg,Timestamp:rU,Blob:hf,Transaction:hg,WriteBatch:hy,DocumentReference:hb,DocumentSnapshot:hT,Query:hI,QueryDocumentSnapshot:hS,QuerySnapshot:hA,CollectionReference:hk,FieldPath:function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(ld.bind.apply(ld,P([void 0],t)))}return t.documentId=function(){return new t(rQ.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=W(t))instanceof ld&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),FieldValue:function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new lA("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new lI("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lk("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lC("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=new lP("increment",e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),setLogLevel:function(t){rP.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};tl.INTERNAL.registerComponent(new G("firestore",function(t){return function(t,e){return new hp(t,new lu(t,e),new hd)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},hC))),tl.registerVersion("@firebase/firestore","2.3.0"),tl.initializeApp({apiKey:"AIzaSyB9VDZh5MyfQ5FuOJdiKz3GBl_zm5mEqo0",authDomain:"portfolio-cv-45ef6.firebaseapp.com",projectId:"portfolio-cv-45ef6",storageBucket:"portfolio-cv-45ef6.firebasestorage.app",messagingSenderId:"980896584557",appId:"1:980896584557:web:2612a9d6c7d47506c78064"});let hP=tl.firestore(),hD=t=>{let[e,n]=(0,l.useState)(null),[r,i]=(0,l.useState)(!1),[o,s]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let e=hP.collection(t).onSnapshot(t=>{i(!0);let e=[];t.docs.forEach(t=>{e.push(c(u({},t.data()),{id:t.id}))}),n(e),i(!1),s(null)},t=>{n(null),i(!1),s("Could not fetch the data.")});return()=>e()},[t]),{data:e,isPending:r,error:o}},hN=()=>{let t=(0,l.useContext)(v);if(!t)throw Error("useLoader should be used in a LoadProvider tag.");return t},hO=(0,l.createContext)({sections:{interests:{fr:"Intrts",en:"Interests"},education:{fr:"ducation",en:"Education"},highlights:{fr:"Projets",en:"Projects"},experiences:{fr:"Expriences",en:"Experiences"},skills:{fr:"Comptences",en:"Skills"},languages:{fr:"Langues",en:"Languages"},role:{fr:"Dvelopper web fullstack",en:"Fullstack Web Developer"}},placeholders:{interestInfo:{en:"Hover an icon above to show more info!",fr:"Survolez une icne pour en savoir plus!"},goToDesktopPls:{en:"Switch to desktop for a completely different viewing experience!",fr:"Passez sur grand cran pour un visionnage compltement diffrent !"}}}),hR="heading",hM=t=>{let{level:e,className:n,children:r}=t;switch(e){case 1:return(0,a.jsx)("h1",{className:"".concat(hR," ").concat(n," font-bold text-xl my-2"),children:r});case 2:return(0,a.jsx)("h2",{className:"".concat(hR," ").concat(n," font-semibold text-lg my-1"),children:r});case 3:return(0,a.jsx)("h3",{className:"".concat(hR," ").concat(n," font-semibold text-base"),children:r});default:return(0,a.jsx)("p",{children:r})}},hL=t=>{let{className:e,text:n,large:r=!1}=t;return(0,a.jsx)("div",{className:"".concat(e," flex tracking-wider z-20 flex-col ").concat(r?"text-xl p-2":"text-lg p-1.5","  items-center font-bold shadow-slate-700 text-yellow-100 text-shadow-light rounded"),children:n.split("").map((t,e)=>(0,a.jsx)("div",{children:t},e))})};function hj(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function hV(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hF(Object(n),!0).forEach(function(e){var r,i;r=e,i=n[e],(r=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hF(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}let hU=()=>{},hB={},hq={},hz=null,hK={mark:hU,measure:hU};try{"u">typeof window&&(hB=window),"u">typeof document&&(hq=document),"u">typeof MutationObserver&&(hz=MutationObserver),"u">typeof performance&&(hK=performance)}catch(t){}let{userAgent:hW=""}=hB.navigator||{},hG=hB,hH=hq,hQ=hz,hY=hK;hG.document;let hX=!!hH.documentElement&&!!hH.head&&"function"==typeof hH.addEventListener&&"function"==typeof hH.createElement,h$=~hW.indexOf("MSIE")||~hW.indexOf("Trident/");var hJ={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},hZ=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],h0="classic",h1="duotone",h2=[h0,h1,"sharp","sharp-duotone"],h3=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),h4=["fak","fa-kit","fakd","fa-kit-duotone"],h5=["fak","fakd"],h6=["fak","fa-kit","fakd","fa-kit-duotone"],h8={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},h9=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],h7=[1,2,3,4,5,6,7,8,9,10],ft=h7.concat([11,12,13,14,15,16,17,18,19,20]),fe=["classic","duotone","sharp","sharp-duotone","solid","regular","light","thin","duotone","brands","2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","duotone-group","swap-opacity","primary","secondary"].concat(h7.map(t=>"".concat(t,"x"))).concat(ft.map(t=>"w-".concat(t)));let fn="___FONT_AWESOME___",fr="svg-inline--fa",fi="data-fa-i2svg",fo="data-fa-pseudo-element",fs="data-prefix",fa="data-icon",fu="fontawesome-i2svg",fc=["HTML","HEAD","STYLE","SCRIPT"],fl=(()=>{try{return!0}catch(t){return!1}})();function fh(t){return new Proxy(t,{get:(t,e)=>e in t?t[e]:t[h0]})}let ff=hV({},hJ);ff[h0]=hV(hV(hV(hV({},{"fa-duotone":"duotone"}),hJ[h0]),{fak:"kit","fa-kit":"kit"}),{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"});let fd=fh(ff),fp=hV({},{classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}});fp[h0]=hV(hV(hV(hV({},{duotone:"fad"}),fp[h0]),{kit:"fak"}),{"kit-duotone":"fakd"});let fm=fh(fp),fg=hV({},h8);fg[h0]=hV(hV({},fg[h0]),{fak:"fa-kit"});let fy=fh(fg),fv=hV({},{classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}});fv[h0]=hV(hV({},fv[h0]),{"fa-kit":"fak"}),fh(fv);let fb=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,fw="fa-layers-text",fx=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i;fh(hV({},{classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}}));let fE=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],fT=["kit",...fe],fS=hG.FontAwesomeConfig||{};hH&&"function"==typeof hH.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(t=>{var e;let[n,r]=t,i=""===(e=function(t){var e=hH.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(n))||"false"!==e&&("true"===e||e);null!=i&&(fS[r]=i)});let fI={styleDefault:"solid",familyDefault:h0,cssPrefix:"fa",replacementClass:fr,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};fS.familyPrefix&&(fS.cssPrefix=fS.familyPrefix);let f_=hV(hV({},fI),fS);f_.autoReplaceSvg||(f_.observeMutations=!1);let fA={};Object.keys(fI).forEach(t=>{Object.defineProperty(fA,t,{enumerable:!0,set:function(e){f_[t]=e,fk.forEach(t=>t(fA))},get:function(){return f_[t]}})}),Object.defineProperty(fA,"familyPrefix",{enumerable:!0,set:function(t){f_.cssPrefix=t,fk.forEach(t=>t(fA))},get:function(){return f_.cssPrefix}}),hG.FontAwesomeConfig=fA;let fk=[],fC={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function fP(){let t=12,e="";for(;t-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function fD(t){let e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function fN(t){return t.classList?fD(t.classList):(t.getAttribute("class")||"").split(" ").filter(t=>t)}function fO(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function fR(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function fM(t){return t.size!==fC.size||t.x!==fC.x||t.y!==fC.y||t.rotate!==fC.rotate||t.flipX||t.flipY}function fL(){let t=fA.cssPrefix,e=fA.replacementClass,n=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-counter-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(-1 * var(--fa-li-width, 2em));\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  animation-name: fa-beat;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  animation-name: fa-bounce;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  animation-name: fa-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  animation-name: fa-beat-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  animation-name: fa-flip;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  animation-name: fa-shake;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  animation-name: fa-spin;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 2s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  animation-name: fa-spin;\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    animation-delay: -1ms;\n    animation-duration: 1ms;\n    animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    transform: scale(1);\n  }\n  45% {\n    transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-shake {\n  0% {\n    transform: rotate(-15deg);\n  }\n  4% {\n    transform: rotate(15deg);\n  }\n  8%, 24% {\n    transform: rotate(-18deg);\n  }\n  12%, 28% {\n    transform: rotate(18deg);\n  }\n  16% {\n    transform: rotate(-22deg);\n  }\n  20% {\n    transform: rotate(22deg);\n  }\n  32% {\n    transform: rotate(-12deg);\n  }\n  36% {\n    transform: rotate(12deg);\n  }\n  40%, 100% {\n    transform: rotate(0deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}';if("fa"!==t||e!==fr){let r=RegExp("\\.".concat("fa","\\-"),"g"),i=RegExp("\\--".concat("fa","\\-"),"g"),o=RegExp("\\.".concat(fr),"g");n=n.replace(r,".".concat(t,"-")).replace(i,"--".concat(t,"-")).replace(o,".".concat(e))}return n}let fj=!1;function fF(){fA.autoAddCss&&!fj&&(!function(t){if(!t||!hX)return;let e=hH.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;let n=hH.head.childNodes,r=null;for(let t=n.length-1;t>-1;t--){let e=n[t];["STYLE","LINK"].indexOf((e.tagName||"").toUpperCase())>-1&&(r=e)}hH.head.insertBefore(e,r)}(fL()),fj=!0)}let fV=hG||{};fV[fn]||(fV[fn]={}),fV[fn].styles||(fV[fn].styles={}),fV[fn].hooks||(fV[fn].hooks={}),fV[fn].shims||(fV[fn].shims=[]);var fU=fV[fn];let fB=[],fq=function(){hH.removeEventListener("DOMContentLoaded",fq),fz=1,fB.map(t=>t())},fz=!1;function fK(t){let{tag:e,attributes:n={},children:r=[]}=t;return"string"==typeof t?fO(t):"<".concat(e," ").concat(Object.keys(n||{}).reduce((t,e)=>t+"".concat(e,'="').concat(fO(n[e]),'" '),"").trim(),">").concat(r.map(fK).join(""),"</").concat(e,">")}function fW(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}hX&&((fz=(hH.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(hH.readyState))||hH.addEventListener("DOMContentLoaded",fq));var fG=function(t,e,n,r){var i,o,s,a=Object.keys(t),u=a.length,c=void 0!==r?function(t,n,i,o){return e.call(r,t,n,i,o)}:e;for(void 0===n?(i=1,s=t[a[0]]):(i=0,s=n);i<u;i++)s=c(s,t[o=a[i]],o,t);return s};function fH(t){let e=function(t){let e=[],n=0,r=t.length;for(;n<r;){let i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){let r=t.charCodeAt(n++);(64512&r)==56320?e.push(((1023&i)<<10)+(1023&r)+65536):(e.push(i),n--)}else e.push(i)}return e}(t);return 1===e.length?e[0].toString(16):null}function fQ(t){return Object.keys(t).reduce((e,n)=>{let r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function fY(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{skipHooks:r=!1}=n,i=fQ(e);"function"!=typeof fU.hooks.addPack||r?fU.styles[t]=hV(hV({},fU.styles[t]||{}),i):fU.hooks.addPack(t,fQ(e)),"fas"===t&&fY("fa",e)}let{styles:fX,shims:f$}=fU,fJ=Object.keys(fy),fZ=fJ.reduce((t,e)=>(t[e]=Object.keys(fy[e]),t),{}),f0=null,f1={},f2={},f3={},f4={},f5={},f6=()=>{let t=t=>fG(fX,(e,n,r)=>(e[r]=fG(n,t,{}),e),{});f1=t((t,e,n)=>(e[3]&&(t[e[3]]=n),e[2]&&e[2].filter(t=>"number"==typeof t).forEach(e=>{t[e.toString(16)]=n}),t)),f2=t((t,e,n)=>(t[n]=n,e[2]&&e[2].filter(t=>"string"==typeof t).forEach(e=>{t[e]=n}),t)),f5=t((t,e,n)=>{let r=e[2];return t[n]=n,r.forEach(e=>{t[e]=n}),t});let e="far"in fX||fA.autoFetchSvg,n=fG(f$,(t,n)=>{let r=n[0],i=n[1],o=n[2];return"far"!==i||e||(i="fas"),"string"==typeof r&&(t.names[r]={prefix:i,iconName:o}),"number"==typeof r&&(t.unicodes[r.toString(16)]={prefix:i,iconName:o}),t},{names:{},unicodes:{}});f3=n.names,f4=n.unicodes,f0=de(fA.styleDefault,{family:fA.familyDefault})};function f8(t,e){return(f1[t]||{})[e]}function f9(t,e){return(f5[t]||{})[e]}function f7(t){return f3[t]||{prefix:null,iconName:null}}fk.push(t=>{f0=de(t.styleDefault,{family:fA.familyDefault})}),f6();let dt=()=>({prefix:null,iconName:null,rest:[]});function de(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{family:n=h0}=e,r=fd[n][t];if(n===h1&&!t)return"fad";let i=fm[n][t]||fm[n][r],o=t in fU.styles?t:null;return i||o||null}function dn(t){return t.sort().filter((t,e,n)=>n.indexOf(t)===e)}function dr(t){let e,n,r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{skipLookups:s=!1}=o,a=null,u=h9.concat(h6),c=dn(t.filter(t=>u.includes(t))),l=dn(t.filter(t=>!h9.includes(t))),[h=null]=c.filter(t=>(a=t,!hZ.includes(t))),f=(e=h0,n=fJ.reduce((t,e)=>(t[e]="".concat(fA.cssPrefix,"-").concat(e),t),{}),h2.forEach(t=>{(c.includes(n[t])||c.some(e=>fZ[t].includes(e)))&&(e=t)}),e),d=hV(hV({},(r=[],i=null,l.forEach(t=>{var e;let n,o,s,a=(e=fA.cssPrefix,o=(n=t.split("-"))[0],s=n.slice(1).join("-"),o!==e||""===s||~fT.indexOf(s)?null:s);a?i=a:t&&r.push(t)}),{iconName:i,rest:r})),{},{prefix:de(h,{family:f})});return hV(hV(hV({},d),function(t){let{values:e,family:n,canonical:r,givenPrefix:i="",styles:o={},config:s={}}=t,a=n===h1,u=e.includes("fa-duotone")||e.includes("fad"),c="duotone"===s.familyDefault,l="fad"===r.prefix||"fa-duotone"===r.prefix;return!a&&(u||c||l)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&di.includes(n)&&(Object.keys(o).find(t=>ds.includes(t))||s.autoFetchSvg)&&(r.prefix=h3.get(n).defaultShortPrefixId,r.iconName=f9(r.prefix,r.iconName)||r.iconName),("fa"===r.prefix||"fa"===i)&&(r.prefix=f0||"fas"),r}({values:t,family:f,styles:fX,config:fA,canonical:d,givenPrefix:a})),function(t,e,n){let{prefix:r,iconName:i}=n;if(t||!r||!i)return{prefix:r,iconName:i};let o="fa"===e?f7(i):{},s=f9(r,i);return i=o.iconName||s||i,"far"!==(r=o.prefix||r)||fX.far||!fX.fas||fA.autoFetchSvg||(r="fas"),{prefix:r,iconName:i}}(s,a,d))}let di=h2.filter(t=>t!==h0||t!==h1),ds=Object.keys(h8).filter(t=>t!==h0).map(t=>Object.keys(h8[t])).flat(),da=[],du={},dc={},dl=Object.keys(dc);function dh(t,e){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(du[t]||[]).forEach(t=>{e=t.apply(null,[e,...r])}),e}function df(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(du[t]||[]).forEach(t=>{t.apply(null,n)})}function dd(){let t=arguments[0],e=Array.prototype.slice.call(arguments,1);return dc[t]?dc[t].apply(null,e):void 0}function dp(t){"fa"===t.prefix&&(t.prefix="fas");let{iconName:e}=t,n=t.prefix||f0;if(e)return e=f9(n,e)||e,fW(dm.definitions,n,e)||fW(fU.styles,n,e)}let dm=new class{add(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];let r=e.reduce(this._pullDefinitions,{});Object.keys(r).forEach(t=>{this.definitions[t]=hV(hV({},this.definitions[t]||{}),r[t]),fY(t,r[t]);let e=fy[h0][t];e&&fY(e,r[t]),f6()})}reset(){this.definitions={}}_pullDefinitions(t,e){let n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map(e=>{let{prefix:r,iconName:i,icon:o}=n[e],s=o[2];t[r]||(t[r]={}),s.length>0&&s.forEach(e=>{"string"==typeof e&&(t[r][e]=o)}),t[r][i]=o}),t}constructor(){this.definitions={}}},dg={noAuto:()=>{fA.autoReplaceSvg=!1,fA.observeMutations=!1,df("noAuto")},config:fA,dom:{i2svg:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return hX?(df("beforeI2svg",t),dd("pseudoElements2svg",t),dd("i2svg",t)):Promise.reject(Error("Operation requires a DOM of some kind."))},watch:function(){var t;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{autoReplaceSvgRoot:n}=e;!1===fA.autoReplaceSvg&&(fA.autoReplaceSvg=!0),fA.observeMutations=!0,t=()=>{dy({autoReplaceSvgRoot:n}),df("watch",e)},hX&&(fz?setTimeout(t,0):fB.push(t))}},parse:{icon:t=>{if(null===t)return null;if("object"==typeof t&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:f9(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&2===t.length){let e=0===t[1].indexOf("fa-")?t[1].slice(3):t[1],n=de(t[0]);return{prefix:n,iconName:f9(n,e)||e}}if("string"==typeof t&&(t.indexOf("".concat(fA.cssPrefix,"-"))>-1||t.match(fb))){let e=dr(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||f0,iconName:f9(e.prefix,e.iconName)||e.iconName}}if("string"==typeof t){let e=f0;return{prefix:e,iconName:f9(e,t)||t}}}},library:dm,findIconDefinition:dp,toHtml:fK},dy=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{autoReplaceSvgRoot:e=hH}=t;(Object.keys(fU.styles).length>0||fA.autoFetchSvg)&&hX&&fA.autoReplaceSvg&&dg.dom.i2svg({node:e})};function dv(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(t=>fK(t))}}),Object.defineProperty(t,"node",{get:function(){if(!hX)return;let e=hH.createElement("div");return e.innerHTML=t.html,e.children}}),t}function db(t){let{icons:{main:e,mask:n},prefix:r,iconName:i,transform:o,symbol:s,title:a,maskId:u,titleId:c,extra:l,watchable:h=!1}=t,{width:f,height:d}=n.found?n:e,p=h5.includes(r),m=[fA.replacementClass,i?"".concat(fA.cssPrefix,"-").concat(i):""].filter(t=>-1===l.classes.indexOf(t)).filter(t=>""!==t||!!t).concat(l.classes).join(" "),g={children:[],attributes:hV(hV({},l.attributes),{},{"data-prefix":r,"data-icon":i,class:m,role:l.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(f," ").concat(d)})},y=p&&!~l.classes.indexOf("fa-fw")?{width:"".concat(f/d*1,"em")}:{};h&&(g.attributes[fi]=""),a&&(g.children.push({tag:"title",attributes:{id:g.attributes["aria-labelledby"]||"title-".concat(c||fP())},children:[a]}),delete g.attributes.title);let v=hV(hV({},g),{},{prefix:r,iconName:i,main:e,mask:n,maskId:u,transform:o,symbol:s,styles:hV(hV({},y),l.styles)}),{children:b,attributes:w}=n.found&&e.found?dd("generateAbstractMask",v)||{children:[],attributes:{}}:dd("generateAbstractIcon",v)||{children:[],attributes:{}};return(v.children=b,v.attributes=w,s)?function(t){let{prefix:e,iconName:n,children:r,attributes:i,symbol:o}=t,s=!0===o?"".concat(e,"-").concat(fA.cssPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:hV(hV({},i),{},{id:s}),children:r}]}]}(v):function(t){let{children:e,main:n,mask:r,attributes:i,styles:o,transform:s}=t;if(fM(s)&&n.found&&!r.found){let{width:t,height:e}=n,r={x:t/e/2,y:.5};i.style=fR(hV(hV({},o),{},{"transform-origin":"".concat(r.x+s.x/16,"em ").concat(r.y+s.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(v)}function dw(t){let{content:e,width:n,height:r,transform:i,title:o,extra:s,watchable:a=!1}=t,u=hV(hV(hV({},s.attributes),o?{title:o}:{}),{},{class:s.classes.join(" ")});a&&(u[fi]="");let c=hV({},s.styles);fM(i)&&(c.transform=function(t){let{transform:e,width:n=16,height:r=16,startCentered:i=!1}=t,o="";return i&&h$?o+="translate(".concat(e.x/16-n/2,"em, ").concat(e.y/16-r/2,"em) "):i?o+="translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):o+="translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),o+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),o+="rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),c["-webkit-transform"]=c.transform);let l=fR(c);l.length>0&&(u.style=l);let h=[];return h.push({tag:"span",attributes:u,children:[e]}),o&&h.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),h}let{styles:dx}=fU;function dE(t){let e=t[0],n=t[1],[r]=t.slice(4);return{found:!0,width:e,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(fA.cssPrefix,"-").concat("duotone-group")},children:[{tag:"path",attributes:{class:"".concat(fA.cssPrefix,"-").concat("secondary"),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(fA.cssPrefix,"-").concat("primary"),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}let dT={found:!1,width:512,height:512};function dS(t,e){let n=e;return"fa"===e&&null!==fA.styleDefault&&(e=f0),new Promise((r,i)=>{var o,s;if("fa"===n){let n=f7(t)||{};t=n.iconName||t,e=n.prefix||e}if(t&&e&&dx[e]&&dx[e][t])return r(dE(dx[e][t]));o=t,s=e,fl||fA.showMissingIcons||!o||console.error('Icon with name "'.concat(o,'" and prefix "').concat(s,'" is missing.')),r(hV(hV({},dT),{},{icon:fA.showMissingIcons&&t&&dd("missingIconAbstract")||{}}))})}let dI=()=>{},d_=fA.measurePerformance&&hY&&hY.mark&&hY.measure?hY:{mark:dI,measure:dI},dA='FA "6.7.2"';var dk=t=>(d_.mark("".concat(dA," ").concat(t," begins")),()=>{var e;return e=t,void(d_.mark("".concat(dA," ").concat(e," ends")),d_.measure("".concat(dA," ").concat(e),"".concat(dA," ").concat(e," begins"),"".concat(dA," ").concat(e," ends")))});let dC=()=>{};function dP(t){return"string"==typeof(t.getAttribute?t.getAttribute(fi):null)}function dD(t){return hH.createElementNS("http://www.w3.org/2000/svg",t)}function dN(t){return hH.createElement(t)}let dO={replace:function(t){let e=t[0];if(e.parentNode)if(t[1].forEach(t=>{e.parentNode.insertBefore(function t(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{ceFn:r="svg"===e.tag?dD:dN}=n;if("string"==typeof e)return hH.createTextNode(e);let i=r(e.tag);return Object.keys(e.attributes||[]).forEach(function(t){i.setAttribute(t,e.attributes[t])}),(e.children||[]).forEach(function(e){i.appendChild(t(e,{ceFn:r}))}),i}(t),e)}),null===e.getAttribute(fi)&&fA.keepOriginalSource){let t,n=hH.createComment((t=" ".concat(e.outerHTML," "),t="".concat(t,"Font Awesome fontawesome.com ")));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){let e=t[0],n=t[1];if(~fN(e).indexOf(fA.replacementClass))return dO.replace(t);let r=new RegExp("".concat(fA.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){let t=n[0].attributes.class.split(" ").reduce((t,e)=>(e===fA.replacementClass||e.match(r)?t.toSvg.push(e):t.toNode.push(e),t),{toNode:[],toSvg:[]});n[0].attributes.class=t.toSvg.join(" "),0===t.toNode.length?e.removeAttribute("class"):e.setAttribute("class",t.toNode.join(" "))}let i=n.map(t=>fK(t)).join("\n");e.setAttribute(fi,""),e.innerHTML=i}};function dR(t){t()}function dM(t,e){let n="function"==typeof e?e:dC;if(0===t.length)n();else{let e=dR;"async"===fA.mutateApproach&&(e=hG.requestAnimationFrame||dR),e(()=>{let e=!0===fA.autoReplaceSvg?dO.replace:dO[fA.autoReplaceSvg]||dO.replace,r=dk("mutate");t.map(e),r(),n()})}}let dL=!1,dj=null;function dF(t){if(!hQ||!fA.observeMutations)return;let{treeCallback:e=dC,nodeCallback:n=dC,pseudoElementsCallback:r=dC,observeMutationsRoot:i=hH}=t;dj=new hQ(t=>{if(dL)return;let i=f0;fD(t).forEach(t=>{if("childList"===t.type&&t.addedNodes.length>0&&!dP(t.addedNodes[0])&&(fA.searchPseudoElements&&r(t.target),e(t.target)),"attributes"===t.type&&t.target.parentNode&&fA.searchPseudoElements&&r(t.target.parentNode),"attributes"===t.type&&dP(t.target)&&~fE.indexOf(t.attributeName)){var o,s;let e,r;if("class"===t.attributeName&&(e=(o=t.target).getAttribute?o.getAttribute(fs):null,r=o.getAttribute?o.getAttribute(fa):null,e&&r)){let{prefix:e,iconName:n}=dr(fN(t.target));t.target.setAttribute(fs,e||i),n&&t.target.setAttribute(fa,n)}else(s=t.target)&&s.classList&&s.classList.contains&&s.classList.contains(fA.replacementClass)&&n(t.target)}})}),hX&&dj.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function dV(t){var e,n,r;let i,o,s,a,u,c,l,h,f,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},{iconName:p,prefix:m,rest:g}=(i=(e=t).getAttribute("data-prefix"),o=e.getAttribute("data-icon"),s=void 0!==e.innerText?e.innerText.trim():"",((a=dr(fN(e))).prefix||(a.prefix=f0),i&&o&&(a.prefix=i,a.iconName=o),a.iconName&&a.prefix)?a:(a.prefix&&s.length>0&&(n=a.prefix,r=e.innerText,a.iconName=(f2[n]||{})[r]||f8(a.prefix,fH(e.innerText))),!a.iconName&&fA.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(a.iconName=e.firstChild.data),a)),y=(u=fD(t.attributes).reduce((t,e)=>("class"!==t.name&&"style"!==t.name&&(t[e.name]=e.value),t),{}),c=t.getAttribute("title"),l=t.getAttribute("data-fa-title-id"),fA.autoA11y&&(c?u["aria-labelledby"]="".concat(fA.replacementClass,"-title-").concat(l||fP()):(u["aria-hidden"]="true",u.focusable="false")),u),v=dh("parseNodeAttributes",{},t),b=d.styleParser?(h=t.getAttribute("style"),f=[],h&&(f=h.split(";").reduce((t,e)=>{let n=e.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(t[r]=i.join(":").trim()),t},{})),f):[];return hV({iconName:p,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:m,transform:fC,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:g,styles:b,attributes:y}},v)}let{styles:dU}=fU;function dB(t){let e="nest"===fA.autoReplaceSvg?dV(t,{styleParser:!1}):dV(t);return~e.extra.classes.indexOf(fw)?dd("generateLayersText",t,e):dd("generateSvgReplacementMutation",t,e)}function dq(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!hX)return Promise.resolve();let n=hH.documentElement.classList,r=t=>n.add("".concat(fu,"-").concat(t)),i=t=>n.remove("".concat(fu,"-").concat(t)),o=fA.autoFetchSvg?[...h4,...h9]:hZ.concat(Object.keys(dU));o.includes("fa")||o.push("fa");let s=[".".concat(fw,":not([").concat(fi,"])")].concat(o.map(t=>".".concat(t,":not([").concat(fi,"])"))).join(", ");if(0===s.length)return Promise.resolve();let a=[];try{a=fD(t.querySelectorAll(s))}catch(t){}if(!(a.length>0))return Promise.resolve();r("pending"),i("complete");let u=dk("onTree"),c=a.reduce((t,e)=>{try{let n=dB(e);n&&t.push(n)}catch(t){fl||"MissingIcon"!==t.name||console.error(t)}return t},[]);return new Promise((t,n)=>{Promise.all(c).then(n=>{dM(n,()=>{r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),u(),t()})}).catch(t=>{u(),n(t)})})}function dz(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;dB(t).then(t=>{t&&dM([t],e)})}let dK=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{transform:n=fC,symbol:r=!1,mask:i=null,maskId:o=null,title:s=null,titleId:a=null,classes:u=[],attributes:c={},styles:l={}}=e;if(!t)return;let{prefix:h,iconName:f,icon:d}=t;return dv(hV({type:"icon"},t),()=>(df("beforeDOMElementCreation",{iconDefinition:t,params:e}),fA.autoA11y&&(s?c["aria-labelledby"]="".concat(fA.replacementClass,"-title-").concat(a||fP()):(c["aria-hidden"]="true",c.focusable="false")),db({icons:{main:dE(d),mask:i?dE(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:h,iconName:f,transform:hV(hV({},fC),n),symbol:r,title:s,maskId:o,titleId:a,extra:{attributes:c,styles:l,classes:u}})))},dW=RegExp('"',"ug"),dG=hV(hV(hV(hV({},{FontAwesome:{normal:"fas",400:"fas"}}),{"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}}),{"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}}),{"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}}),dH=Object.keys(dG).reduce((t,e)=>(t[e.toLowerCase()]=dG[e],t),{}),dQ=Object.keys(dH).reduce((t,e)=>{let n=dH[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function dY(t,e){let n="".concat("data-fa-pseudo-element-pending").concat(e.replace(":","-"));return new Promise((r,i)=>{if(null!==t.getAttribute(n))return r();let o=fD(t.children).filter(t=>t.getAttribute(fo)===e)[0],s=hG.getComputedStyle(t,e),a=s.getPropertyValue("font-family"),u=a.match(fx),c=s.getPropertyValue("font-weight"),l=s.getPropertyValue("content");if(o&&!u)return t.removeChild(o),r();if(u&&"none"!==l&&""!==l){var h;let l,f,d,p,m,g,y,v,b,w,x=s.getPropertyValue("content"),E=(p=a.replace(/^['"]|['"]$/g,"").toLowerCase(),g=isNaN(m=parseInt(c))?"normal":m,(dH[p]||{})[g]||dQ[p]),{value:T,isSecondary:S}=(y=x.replace(dW,""),f=(h=y).length,b=(v=(d=h.charCodeAt(0))>=55296&&d<=56319&&f>1&&(l=h.charCodeAt(1))>=56320&&l<=57343?(d-55296)*1024+l-56320+65536:d)>=1105920&&v<=1112319,{value:(w=2===y.length&&y[0]===y[1])?fH(y[0]):fH(y),isSecondary:b||w}),I=u[0].startsWith("FontAwesome"),_=f8(E,T),A=_;if(I){let t,e,n=(t=f4[T],e=f8("fas",T),t||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null});n.iconName&&n.prefix&&(_=n.iconName,E=n.prefix)}if(!_||S||o&&o.getAttribute(fs)===E&&o.getAttribute(fa)===A)r();else{t.setAttribute(n,A),o&&t.removeChild(o);let s={iconName:null,title:null,titleId:null,prefix:null,transform:fC,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},{extra:a}=s;a.attributes[fo]=e,dS(_,E).then(i=>{let o=db(hV(hV({},s),{},{icons:{main:i,mask:dt()},prefix:E,iconName:A,extra:a,watchable:!0})),u=hH.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(u,t.firstChild):t.appendChild(u),u.outerHTML=o.map(t=>fK(t)).join("\n"),t.removeAttribute(n),r()}).catch(i)}}else r()})}function dX(t){return Promise.all([dY(t,"::before"),dY(t,"::after")])}function d$(t){return t.parentNode!==document.head&&!~fc.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(fo)&&(!t.parentNode||"svg"!==t.parentNode.tagName)}function dJ(t){if(hX)return new Promise((e,n)=>{let r=fD(t.querySelectorAll("*")).filter(d$).map(dX),i=dk("searchPseudoElements");dL=!0,Promise.all(r).then(()=>{i(),dL=!1,e()}).catch(()=>{i(),dL=!1,n()})})}let dZ=!1,d0=t=>t.toLowerCase().split(" ").reduce((t,e)=>{let n=e.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return t.flipX=!0,t;if(r&&"v"===i)return t.flipY=!0,t;if(isNaN(i=parseFloat(i)))return t;switch(r){case"grow":t.size=t.size+i;break;case"shrink":t.size=t.size-i;break;case"left":t.x=t.x-i;break;case"right":t.x=t.x+i;break;case"up":t.y=t.y-i;break;case"down":t.y=t.y+i;break;case"rotate":t.rotate=t.rotate+i}return t},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0}),d1={x:0,y:0,width:"100%",height:"100%"};function d2(t){let e=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}!function(t,e){let{mixoutsTo:n}=e;da=t,du={},Object.keys(dc).forEach(t=>{-1===dl.indexOf(t)&&delete dc[t]}),da.forEach(t=>{let e=t.mixout?t.mixout():{};if(Object.keys(e).forEach(t=>{"function"==typeof e[t]&&(n[t]=e[t]),"object"==typeof e[t]&&Object.keys(e[t]).forEach(r=>{n[t]||(n[t]={}),n[t][r]=e[t][r]})}),t.hooks){let e=t.hooks();Object.keys(e).forEach(t=>{du[t]||(du[t]=[]),du[t].push(e[t])})}t.provides&&t.provides(dc)})}([{mixout:()=>({dom:{css:fL,insertCss:fF}}),hooks:()=>({beforeDOMElementCreation(){fF()},beforeI2svg(){fF()}})},{mixout:()=>({icon:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(t||{}).icon?t:dp(t||{}),{mask:r}=e;return r&&(r=(r||{}).icon?r:dp(r||{})),dK(n,hV(hV({},e),{},{mask:r}))}}),hooks:()=>({mutationObserverCallbacks:t=>(t.treeCallback=dq,t.nodeCallback=dz,t)}),provides(t){t.i2svg=function(t){let{node:e=hH,callback:n=()=>{}}=t;return dq(e,n)},t.generateSvgReplacementMutation=function(t,e){let{iconName:n,title:r,titleId:i,prefix:o,transform:s,symbol:a,mask:u,maskId:c,extra:l}=e;return new Promise((e,h)=>{Promise.all([dS(n,o),u.iconName?dS(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(u=>{let[h,f]=u;e([t,db({icons:{main:h,mask:f},prefix:o,iconName:n,transform:s,symbol:a,maskId:c,title:r,titleId:i,extra:l,watchable:!0})])}).catch(h)})},t.generateAbstractIcon=function(t){let e,{children:n,attributes:r,main:i,transform:o,styles:s}=t,a=fR(s);return a.length>0&&(r.style=a),fM(o)&&(e=dd("generateAbstractTransformGrouping",{main:i,transform:o,containerWidth:i.width,iconWidth:i.width})),n.push(e||i.icon),{children:n,attributes:r}}}},{mixout:()=>({layer(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{classes:n=[]}=e;return dv({type:"layer"},()=>{df("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(t=>{Array.isArray(t)?t.map(t=>{r=r.concat(t.abstract)}):r=r.concat(t.abstract)}),[{tag:"span",attributes:{class:["".concat(fA.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}})},{mixout:()=>({counter(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{title:n=null,classes:r=[],attributes:i={},styles:o={}}=e;return dv({type:"counter",content:t},()=>(df("beforeDOMElementCreation",{content:t,params:e}),function(t){let{content:e,title:n,extra:r}=t,i=hV(hV(hV({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),o=fR(r.styles);o.length>0&&(i.style=o);let s=[];return s.push({tag:"span",attributes:i,children:[e]}),n&&s.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),s}({content:t.toString(),title:n,extra:{attributes:i,styles:o,classes:["".concat(fA.cssPrefix,"-layers-counter"),...r]}})))}})},{mixout:()=>({text(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{transform:n=fC,title:r=null,classes:i=[],attributes:o={},styles:s={}}=e;return dv({type:"text",content:t},()=>(df("beforeDOMElementCreation",{content:t,params:e}),dw({content:t,transform:hV(hV({},fC),n),title:r,extra:{attributes:o,styles:s,classes:["".concat(fA.cssPrefix,"-layers-text"),...i]}})))}}),provides(t){t.generateLayersText=function(t,e){let{title:n,transform:r,extra:i}=e,o=null,s=null;if(h$){let e=parseInt(getComputedStyle(t).fontSize,10),n=t.getBoundingClientRect();o=n.width/e,s=n.height/e}return fA.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([t,dw({content:t.innerHTML,width:o,height:s,transform:r,title:n,extra:i,watchable:!0})])}}},{hooks:()=>({mutationObserverCallbacks:t=>(t.pseudoElementsCallback=dJ,t)}),provides(t){t.pseudoElements2svg=function(t){let{node:e=hH}=t;fA.searchPseudoElements&&dJ(e)}}},{mixout:()=>({dom:{unwatch(){dL=!0,dZ=!0}}}),hooks:()=>({bootstrap(){dF(dh("mutationObserverCallbacks",{}))},noAuto(){dj&&dj.disconnect()},watch(t){let{observeMutationsRoot:e}=t;dZ?dL=!1:dF(dh("mutationObserverCallbacks",{observeMutationsRoot:e}))}})},{mixout:()=>({parse:{transform:t=>d0(t)}}),hooks:()=>({parseNodeAttributes(t,e){let n=e.getAttribute("data-fa-transform");return n&&(t.transform=d0(n)),t}}),provides(t){t.generateAbstractTransformGrouping=function(t){let{main:e,transform:n,containerWidth:r,iconWidth:i}=t,o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),s="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),a="rotate(".concat(n.rotate," 0 0)"),u={transform:"".concat(o," ").concat(s," ").concat(a)};return{tag:"g",attributes:hV({},{transform:"translate(".concat(r/2," 256)")}),children:[{tag:"g",attributes:hV({},u),children:[{tag:e.icon.tag,children:e.icon.children,attributes:hV(hV({},e.icon.attributes),{transform:"translate(".concat(-(i/2*1)," -256)")})}]}]}}}},{hooks:()=>({parseNodeAttributes(t,e){let n=e.getAttribute("data-fa-mask"),r=n?dr(n.split(" ").map(t=>t.trim())):dt();return r.prefix||(r.prefix=f0),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}),provides(t){t.generateAbstractMask=function(t){let{children:e,attributes:n,main:r,mask:i,maskId:o,transform:s}=t,{width:a,icon:u}=r,{width:c,icon:l}=i,h=function(t){let{transform:e,containerWidth:n,iconWidth:r}=t,i="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),s="rotate(".concat(e.rotate," 0 0)"),a={transform:"".concat(i," ").concat(o," ").concat(s)};return{outer:{transform:"translate(".concat(n/2," 256)")},inner:a,path:{transform:"translate(".concat(-(r/2*1)," -256)")}}}({transform:s,containerWidth:c,iconWidth:a}),f={tag:"rect",attributes:hV(hV({},d1),{},{fill:"white"})},d=u.children?{children:u.children.map(d2)}:{},p={tag:"g",attributes:hV({},h.inner),children:[d2(hV({tag:u.tag,attributes:hV(hV({},u.attributes),h.path)},d))]},m={tag:"g",attributes:hV({},h.outer),children:[p]},g="mask-".concat(o||fP()),y="clip-".concat(o||fP()),v={tag:"mask",attributes:hV(hV({},d1),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[f,m]},b={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:"g"===l.tag?l.children:[l]},v]};return e.push(b,{tag:"rect",attributes:hV({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(g,")")},d1)}),{children:e,attributes:n}}}},{provides(t){let e=!1;hG.matchMedia&&(e=hG.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){let t=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};t.push({tag:"path",attributes:hV(hV({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});let i=hV(hV({},r),{},{attributeName:"opacity"}),o={tag:"circle",attributes:hV(hV({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||o.children.push({tag:"animate",attributes:hV(hV({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:hV(hV({},i),{},{values:"1;0;1;1;0;1;"})}),t.push(o),t.push({tag:"path",attributes:hV(hV({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:hV(hV({},i),{},{values:"1;0;0;0;0;1;"})}]}),e||t.push({tag:"path",attributes:hV(hV({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:hV(hV({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:t}}}},{hooks:()=>({parseNodeAttributes(t,e){let n=e.getAttribute("data-fa-symbol");return t.symbol=null!==n&&(""===n||n),t}})}],{mixoutsTo:dg}),dg.noAuto;let d3=dg.config;dg.library,dg.dom;let d4=dg.parse;dg.findIconDefinition,dg.toHtml;let d5=dg.icon;function d6(){let t=Object.freeze(Object.defineProperties(["(?<=^|s)","-"],{raw:{value:Object.freeze(["(?<=^|\\s)","-"])}}));return d6=function(){return t},t}function d8(t){var e;return(e=t-0)==e?t:(t=t.replace(/[_-]+(.)?/g,(t,e)=>e?e.toUpperCase():"")).charAt(0).toLowerCase()+t.slice(1)}dg.layer,dg.text,dg.counter;var d9=new Map,d7=(function t(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof n)return n;let i=(n.children||[]).map(n=>t(e,n)),o=n.attributes||{},s={};for(let[t,e]of Object.entries(o))switch(!0){case"class"===t:s.className=e;break;case"style"===t:s.style=function(t){if(d9.has(t))return d9.get(t);let e={},n=0,r=t.length;for(;n<r;){let i=t.indexOf(";",n),o=-1===i?r:i,s=t.slice(n,o).trim();if(s){let t=s.indexOf(":");if(t>0){let n=s.slice(0,t).trim(),r=s.slice(t+1).trim();if(n&&r){let t=d8(n);e[t.startsWith("webkit")?t.charAt(0).toUpperCase()+t.slice(1):t]=r}}}n=o+1}if(1e3===d9.size){let t=d9.keys().next().value;t&&d9.delete(t)}return d9.set(t,e),e}(String(e));break;case t.startsWith("aria-"):case t.startsWith("data-"):s[t.toLowerCase()]=e;break;default:s[d8(t)]=e}let{style:a,role:c,"aria-label":l}=r,h=hj(r,["style","role","aria-label"]);return a&&(s.style=s.style?u({},s.style,a):a),c&&(s.role=c),l&&(s["aria-label"]=l,s["aria-hidden"]="false"),e(n.tag,u({},h,s),...i)}).bind(null,l.default.createElement),pt=(t,e)=>{let n=(0,l.useId)();return t||(e?n:void 0)},pe=class{log(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.enabled&&console.log("[".concat(this.scope,"]"),...e)}warn(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.enabled&&console.warn("[".concat(this.scope,"]"),...e)}error(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.enabled&&console.error("[".concat(this.scope,"]"),...e)}constructor(t="react-fontawesome"){this.enabled=!1;let e=!1;try{e=void 0!==r_.default&&!1}catch(t){}this.scope=t,this.enabled=e}};void 0!==r_.default&&r_.default.env.FA_VERSION;var pn=Number.parseInt("searchPseudoElementsFullScan"in d3?"7.0.0":"6.0.0")>=7,pr={left:"fa-pull-left",right:"fa-pull-right"},pi={90:"fa-rotate-90",180:"fa-rotate-180",270:"fa-rotate-270"},po={"2xs":"fa-2xs",xs:"fa-xs",sm:"fa-sm",lg:"fa-lg",xl:"fa-xl","2xl":"fa-2xl","1x":"fa-1x","2x":"fa-2x","3x":"fa-3x","4x":"fa-4x","5x":"fa-5x","6x":"fa-6x","7x":"fa-7x","8x":"fa-8x","9x":"fa-9x","10x":"fa-10x"},ps="fa-fw";function pa(t){let e=d3.cssPrefix||d3.familyPrefix||"fa";return"fa"===e?t:t.replace(RegExp(String.raw(d6(),"fa"),"g"),"".concat(e,"-"))}function pu(t){if(t)return"object"==typeof t&&"icon"in t&&t.icon?t:d4.icon(t)}var pc=new pe("FontAwesomeIcon"),pl={border:!1,className:"",mask:void 0,maskId:void 0,fixedWidth:!1,inverse:!1,flip:!1,icon:void 0,listItem:!1,pull:void 0,pulse:!1,rotation:void 0,rotateBy:!1,size:void 0,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:void 0,transform:void 0,swapOpacity:!1,widthAuto:!1},ph=new Set(Object.keys(pl)),pf=l.default.forwardRef((t,e)=>{let n=u({},pl,t),{icon:r,mask:i,symbol:o,title:s,titleId:a,maskId:l,transform:h}=n,f=pt(l,!!i),d=pt(a,!!s),p=pu(r);if(!p)return pc.error("Icon lookup is undefined",r),null;let m=function(t){let{beat:e,fade:n,beatFade:r,bounce:i,shake:o,spin:s,spinPulse:a,spinReverse:u,pulse:c,fixedWidth:l,inverse:h,border:f,flip:d,size:p,rotation:m,pull:g,swapOpacity:y,rotateBy:v,widthAuto:b,className:w}=t,x=[];return(w&&x.push(...w.split(" ")),e&&x.push("fa-beat"),n&&x.push("fa-fade"),r&&x.push("fa-beat-fade"),i&&x.push("fa-bounce"),o&&x.push("fa-shake"),s&&x.push("fa-spin"),u&&x.push("fa-spin-reverse"),a&&x.push("fa-spin-pulse"),c&&x.push("fa-pulse"),l&&x.push(ps),h&&x.push("fa-inverse"),f&&x.push("fa-border"),!0===d&&x.push("fa-flip"),("horizontal"===d||"both"===d)&&x.push("fa-flip-horizontal"),("vertical"===d||"both"===d)&&x.push("fa-flip-vertical"),null!=p&&x.push(po[p]),null!=m&&0!==m&&x.push(pi[m]),null!=g&&x.push(pr[g]),y&&x.push("fa-swap-opacity"),pn)?(v&&x.push("fa-rotate-by"),b&&x.push("fa-width-auto"),"fa"===(d3.cssPrefix||d3.familyPrefix||"fa")?x:x.map(pa)):x}(n),g="string"==typeof h?d4.transform(h):h,y=pu(i),v=d5(p,c(u({},m.length>0&&{classes:m},g&&{transform:g},y&&{mask:y}),{symbol:o,title:s,titleId:d,maskId:f}));if(!v)return pc.error("Could not find icon",p),null;let{abstract:b}=v,w={ref:e};for(let t of Object.keys(n))ph.has(t)||(w[t]=n[t]);return d7(b[0],w)});pf.displayName="FontAwesomeIcon","".concat("fa-layers"," ").concat(ps);let pd={prefix:"fas",iconName:"arrow-up-right-from-square",icon:[512,512,["external-link"],"f08e","M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l82.7 0L201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3l0 82.7c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160c0-17.7-14.3-32-32-32L320 0zM80 32C35.8 32 0 67.8 0 112L0 432c0 44.2 35.8 80 80 80l320 0c44.2 0 80-35.8 80-80l0-112c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 112c0 8.8-7.2 16-16 16L80 448c-8.8 0-16-7.2-16-16l0-320c0-8.8 7.2-16 16-16l112 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 32z"]},pp={prefix:"fab",iconName:"react",icon:[512,512,[],"f41b","M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1.9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2.6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9C38.3 196.2 0 225.4 0 255.6c0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zm-30.3-120.3c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zm-24.5 263.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6.4 19.5.6 29.5.6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8.9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zm-149.7-15c25.3 0 45.8-20.5 45.8-45.8s-20.5-45.8-45.8-45.8c-25.3 0-45.8 20.5-45.8 45.8s20.5 45.8 45.8 45.8z"]},pm={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]},pg=()=>{let t=(0,l.useContext)(m);if(null===t)throw Error("useTheaterProjector should be used inside a TheaterProvider.");return t},py=()=>{let t=(0,l.useContext)(h);if(null===t)throw Error("useLights should be used inside a LightProvider.");return t},pv=t=>{let{children:e,className:n,height:r,width:i,minWidth:o=0}=t,{width:s}=E();return(0,a.jsx)(a.Fragment,{children:s>=o&&(0,a.jsx)("svg",{className:"absolute ".concat(n),width:i,height:r,xmlns:"http://www.w3.org/2000/svg",children:e})})},pb=t=>{let{name:e}=t,{toggleLight:n,isActiveLight:r,isPermanentLight:i}=py(),o=(0,l.createRef)(),[s,u]=(0,l.useState)(null);return(0,l.useEffect)(()=>{!s&&o.current&&u(Math.floor(o.current.getBoundingClientRect().width))},[o]),(0,a.jsxs)("div",{ref:o,children:[(0,a.jsxs)(pv,{width:s,height:34,minWidth:1280,className:"pointer-events-none",children:[(0,a.jsx)("line",{x1:0,y1:28,x2:s,y2:28,strokeWidth:1,stroke:"#475569"}),Array.from({length:s/4},(t,e)=>e+1).map(t=>(0,a.jsx)("line",{x1:4+4*t,y1:28,x2:4+4*t,y2:34,strokeWidth:1,strokeOpacity:.4,stroke:"#475569"},t))]}),(0,a.jsx)("div",{className:"\n                    my-0.5 mx-1 p-1 cursor-pointer\n                    ".concat(i(e)?"bg-teal-100 shadow-lg shadow-teal-200 text-slate-800":r(e)?"bg-yellow-100 shadow-lg shadow-yellow-200 text-slate-800":"bg-slate-700 hover:bg-slate-500"),onClick:()=>n(e),children:e})]})},pw=navigator.language.split("-")[0],px=["en","fr"].includes(pw)?pw:"en",pE=t=>t?t[px]?t[px]:t:"",pT={year:"numeric",month:"numeric",day:"numeric"},pS=(t,e)=>t.priority===e.priority?new Date(t.date)<new Date(e.date):t.priority<e.priority,pI=t=>{let{projects:e=[],experiences:n=[]}=t,{clearTheater:r,switchMovie:i}=pg(),o=[...e,...n].sort(pS);return(0,a.jsx)(a.Fragment,{children:o&&o.map((t,e)=>(0,a.jsxs)("div",{className:"mx-2 xl:px-8 px-3",onMouseEnter:()=>t.images?i(t.images[0]):r(),onMouseLeave:()=>r(),children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(hM,{level:3,children:pE(t.title)}),t.url&&(0,a.jsx)("a",{href:t.url,target:"_blank",rel:"noreferrer",children:(0,a.jsx)(pf,{className:"mx-2",icon:pd})}),t.github&&(0,a.jsx)("a",{href:t.github,target:"_blank",rel:"noreferrer",children:(0,a.jsx)(pf,{className:"mx-2",icon:pm})})]}),(0,a.jsxs)("p",{children:[t.date.includes("/")?new Date(t.date).toLocaleDateString(navigator.language,pT):t.date,t.duration&&" - ".concat(pE(t.duration))]}),t.location&&(0,a.jsx)("p",{className:"text-sm",children:pE(t.location)}),(0,a.jsx)("p",{className:"italic text-sm",children:t.description[px].split(". ").map((e,n)=>(0,a.jsxs)("span",{children:[e.trim(),n<t.description[px].split(". ").length-1&&(0,a.jsx)("br",{})]},n))}),(0,a.jsx)("div",{className:"flex flex-wrap",children:t.tags&&t.tags.map((t,e)=>(0,a.jsx)(pb,{name:t},e))})]},e))})},p_=t=>{let{front:e=!1,title:n,projects:r=[],experiences:i=[]}=t,{isMobile:o}=E();return(0,a.jsxs)("div",{className:e?"-mt-8":"",children:[(0,a.jsx)("div",{className:"trapezoid",children:(0,a.jsx)(hM,{className:"px-2 xl:px-8",level:2,children:n[px]})}),(0,a.jsxs)("div",{className:"".concat(e?"bg-slate-900 shadow-slate-900":"bg-slate-800 shadow-slate-800 pb-12"," shadow-xl xl:flex xl:h-full py-2"),children:[!o()&&e&&(0,a.jsxs)("div",{className:"-translate-x-5",children:[(0,a.jsx)(hL,{className:"bg-orange-800 hover:bg-orange-600 hover:shadow-lg hover:shadow-orange-600 translate-y-32",text:"II",large:!0}),(0,a.jsx)(hL,{className:"bg-lime-700 hover:bg-lime-400 hover:shadow-lg hover:shadow-lime-300 translate-y-40",text:"",large:!0}),(0,a.jsx)(hL,{className:"bg-teal-700 hover:bg-teal-500 hover:shadow-lg hover:shadow-teal-500 translate-y-72",text:"",large:!0})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[i&&(0,a.jsx)(pI,{experiences:i}),r&&(0,a.jsx)(pI,{projects:r})]})]})]})},pA=()=>{let t=(0,l.useContext)(hO).sections.highlights,e=(0,l.useContext)(hO).sections.experiences,{data:n,isPending:r}=hD("projects"),{data:i,isPending:o}=hD("experiences"),{loaded:s,isReady:u}=hN();return(0,l.useEffect)(()=>{r||o||s("Highlights")},[r,o,s]),u()&&(0,a.jsxs)("div",{id:"highlights-root",className:"xl:h-full xl:flex-col z-30",children:[(0,a.jsx)(p_,{title:e,experiences:i}),(0,a.jsx)(p_,{front:1,title:t,projects:n})]})},pk=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{scrollY:n}=E(),r={transform:"translateY(".concat(n*t,"px)")};return e?{style:c(u({},r),{backgroundImage:"url(".concat(e,")")})}:{style:r}};function pC(t){return null!==t&&"object"==typeof t&&"function"==typeof t.start}let pP=t=>Array.isArray(t);function pD(t,e){if(!Array.isArray(e))return!1;let n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function pN(t){return"string"==typeof t||Array.isArray(t)}function pO(t){let e=[{},{}];return null==t||t.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function pR(t,e,n,r){if("function"==typeof e){let[i,o]=pO(r);e=e(void 0!==n?n:t.custom,i,o)}if("string"==typeof e&&(e=t.variants&&t.variants[e]),"function"==typeof e){let[i,o]=pO(r);e=e(void 0!==n?n:t.custom,i,o)}return e}function pM(t,e,n){let r=t.getProps();return pR(r,e,void 0!==n?n:r.custom,t)}let pL=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pj=["initial",...pL],pF=t=>t;function pV(t){let e;return()=>(void 0===e&&(e=t()),e)}let pU=(t,e,n)=>{let r=e-t;return 0===r?1:(n-t)/r},pB=t=>1e3*t,pq=pV(()=>void 0!==window.ScrollTimeline);class pz{get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,e){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=e}attachTimeline(t,e){let n=this.animations.map(n=>pq()&&n.attachTimeline?n.attachTimeline(t):"function"==typeof e?e(n):void 0);return()=>{n.forEach((t,e)=>{t&&t(),this.animations[e].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach(e=>e[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}}class pK extends pz{then(t,e){return Promise.all(this.animations).then(t).catch(e)}}function pW(t,e){return t?t[e]||t.default||t:void 0}function pG(t){let e=0,n=t.next(e);for(;!n.done&&e<2e4;)e+=50,n=t.next(e);return e>=2e4?1/0:e}function pH(t){return"function"==typeof t}function pQ(t,e){t.timeline=e,t.onfinish=null}let pY=t=>Array.isArray(t)&&"number"==typeof t[0],pX,p$=(n=pV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0}),()=>{var t;return null!=(t=pX)?t:n()}),pJ=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="",i=Math.max(Math.round(e/n),2);for(let e=0;e<i;e++)r+=t(pU(0,i-1,e))+", ";return"linear(".concat(r.substring(0,r.length-2),")")},pZ=t=>{let[e,n,r,i]=t;return"cubic-bezier(".concat(e,", ").concat(n,", ").concat(r,", ").concat(i,")")},p0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pZ([0,.65,.55,1]),circOut:pZ([.55,0,1,.45]),backIn:pZ([.31,.01,.66,-.59]),backOut:pZ([.33,1.53,.69,.99])},p1={x:!1,y:!1};function p2(t,e){let n=function(t,e,n){if(t instanceof Element)return[t];if("string"==typeof t){let e=document.querySelectorAll(t);return e?Array.from(e):[]}return Array.from(t)}(t),r=new AbortController;return[n,c(u({passive:!0},e),{signal:r.signal}),()=>r.abort()]}function p3(t){return e=>{"touch"===e.pointerType||p1.x||p1.y||t(e)}}let p4=(t,e)=>!!e&&(t===e||p4(t,e.parentElement)),p5=t=>"mouse"===t.pointerType?"number"!=typeof t.button||t.button<=0:!1!==t.isPrimary,p6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),p8=new WeakSet;function p9(t){return e=>{"Enter"===e.key&&t(e)}}function p7(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}function mt(t){return p5(t)&&!(p1.x||p1.y)}let me=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mn=new Set(me),mr=new Set(["width","height","top","left","right","bottom",...me]),mi=t=>pP(t)?t[t.length-1]||0:t,mo=["read","resolveKeyframes","update","preRender","render","postRender"];function ms(t,e){let n=!1,r=!0,i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=mo.reduce((t,e)=>(t[e]=function(t){let e=new Set,n=new Set,r=!1,i=!1,o=new WeakSet,s={delta:0,timestamp:0,isProcessing:!1};function a(e){o.has(e)&&(u.schedule(e),t()),e(s)}let u={schedule:function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=s&&r?e:n;return i&&o.add(t),a.has(t)||a.add(t),t},cancel:t=>{n.delete(t),o.delete(t)},process:t=>{if(s=t,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,i&&(i=!1,u.process(t))}};return u}(o),t),{}),{read:a,resolveKeyframes:u,update:c,preRender:l,render:h,postRender:f}=s,d=()=>{let o=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(o-i.timestamp,40),1),i.timestamp=o,i.isProcessing=!0,a.process(i),u.process(i),c.process(i),l.process(i),h.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(d))};return{schedule:mo.reduce((e,o)=>{let a=s[o];return e[o]=function(e){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!n&&(n=!0,r=!0,i.isProcessing||t(d)),a.schedule(e,o,s)},e},{}),cancel:t=>{for(let e=0;e<mo.length;e++)s[mo[e]].cancel(t)},state:i,steps:s}}let{schedule:ma,cancel:mu,state:mc,steps:ml}=ms("u">typeof requestAnimationFrame?requestAnimationFrame:pF,!0);function mh(){e=void 0}let mf={now:()=>(void 0===e&&mf.set(mc.isProcessing?mc.timestamp:performance.now()),e),set:t=>{e=t,queueMicrotask(mh)}};function md(t,e){-1===t.indexOf(e)&&t.push(e)}function mp(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}class mm{add(t){return md(this.subscriptions,t),()=>mp(this.subscriptions,t)}notify(t,e,n){let r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](t,e,n);else for(let i=0;i<r;i++){let r=this.subscriptions[i];r&&r(t,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}constructor(){this.subscriptions=[]}}class mg{setCurrent(t){this.current=t,this.updatedAt=mf.now(),null===this.canTrackVelocity&&void 0!==t&&(this.canTrackVelocity=!isNaN(parseFloat(this.current)))}setPrevFrameValue(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new mm);let n=this.events[t].add(e);return"change"===t?()=>{n(),ma.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(let t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){let e=!(arguments.length>1)||void 0===arguments[1]||arguments[1];e&&this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t,e)}setWithVelocity(t,e,n){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t){let e=!(arguments.length>1)||void 0===arguments[1]||arguments[1];this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return r&&r.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var t;let e=mf.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;let n=Math.min(this.updatedAt-this.prevUpdatedAt,30);return t=parseFloat(this.current)-parseFloat(this.prevFrameValue),n?1e3/n*t:0}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}constructor(t,e={}){var n=this;this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(t){let e=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=mf.now();n.updatedAt!==r&&n.setPrevFrameValue(),n.prev=n.current,n.setCurrent(t),n.current!==n.prev&&n.events.change&&n.events.change.notify(n.current),e&&n.events.renderRequest&&n.events.renderRequest.notify(n.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}}function my(t,e){return new mg(t,e)}let mv=t=>!!(t&&t.getVelocity);function mb(t,e){let n=t.getValue("willChange");if(mv(n)&&n.add)return n.add(e)}let mw=t=>t.replace(RegExp("([a-z])([A-Z])","gu"),"$1-$2").toLowerCase(),mx="data-"+mw("framerAppearId"),mE=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t;function mT(t,e,n,r){return t===e&&n===r?pF:i=>0===i||1===i?i:mE(function(t,e,n,r,i){let o,s,a=0;do(o=mE(s=e+(n-e)/2,r,i)-t)>0?n=s:e=s;while(Math.abs(o)>1e-7&&++a<12)return s}(i,0,1,t,n),e,r)}let mS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,mI=t=>e=>1-t(1-e),m_=mT(.33,1.53,.69,.99),mA=mI(m_),mk=mS(mA),mC=t=>(t*=2)<1?.5*mA(t):.5*(2-Math.pow(2,-10*(t-1))),mP=t=>1-Math.sin(Math.acos(t)),mD=mI(mP),mN=mS(mP),mO=t=>RegExp("^0[^.\\s]+$","u").test(t),mR=(t,e,n)=>n>e?e:n<t?t:n,mM={test:t=>"number"==typeof t,parse:parseFloat,transform:t=>t},mL=c(u({},mM),{transform:t=>mR(0,1,t)}),mj=c(u({},mM),{default:1}),mF=t=>Math.round(1e5*t)/1e5,mV=RegExp("-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)","gu"),mU=RegExp("^(?:#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\))$","iu"),mB=(t,e)=>n=>!!("string"==typeof n&&mU.test(n)&&n.startsWith(t)||e&&null!=n&&Object.prototype.hasOwnProperty.call(n,e)),mq=(t,e,n)=>r=>{if("string"!=typeof r)return r;let[i,o,s,a]=r.match(mV);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:void 0!==a?parseFloat(a):1}},mz=c(u({},mM),{transform:t=>Math.round(mR(0,255,t))}),mK={test:mB("rgb","red"),parse:mq("red","green","blue"),transform:t=>{let{red:e,green:n,blue:r,alpha:i=1}=t;return"rgba("+mz.transform(e)+", "+mz.transform(n)+", "+mz.transform(r)+", "+mF(mL.transform(i))+")"}},mW={test:mB("#"),parse:function(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:mK.transform},mG=t=>({test:e=>"string"==typeof e&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>"".concat(e).concat(t)}),mH=mG("deg"),mQ=mG("%"),mY=mG("px"),mX=mG("vh"),m$=mG("vw"),mJ=c(u({},mQ),{parse:t=>mQ.parse(t)/100,transform:t=>mQ.transform(100*t)}),mZ={test:mB("hsl","hue"),parse:mq("hue","saturation","lightness"),transform:t=>{let{hue:e,saturation:n,lightness:r,alpha:i=1}=t;return"hsla("+Math.round(e)+", "+mQ.transform(mF(n))+", "+mQ.transform(mF(r))+", "+mF(mL.transform(i))+")"}},m0={test:t=>mK.test(t)||mW.test(t)||mZ.test(t),parse:t=>mK.test(t)?mK.parse(t):mZ.test(t)?mZ.parse(t):mW.parse(t),transform:t=>"string"==typeof t?t:t.hasOwnProperty("red")?mK.transform(t):mZ.transform(t)},m1=RegExp("(?:#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\))","giu"),m2="number",m3="color",m4=RegExp("var\\s*\\(\\s*--(?:[\\w-]+\\s*|[\\w-]+\\s*,(?:\\s*[^)(\\s]|\\s*\\((?:[^)(]|\\([^)(]*\\))*\\))+\\s*)\\)|#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\)|-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)","giu");function m5(t){let e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[],o=0,s=e.replace(m4,t=>(m0.test(t)?(r.color.push(o),i.push(m3),n.push(m0.parse(t))):t.startsWith("var(")?(r.var.push(o),i.push("var"),n.push(t)):(r.number.push(o),i.push(m2),n.push(parseFloat(t))),++o,"${}")).split("${}");return{values:n,split:s,indexes:r,types:i}}function m6(t){return m5(t).values}function m8(t){let{split:e,types:n}=m5(t),r=e.length;return t=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],void 0!==t[o]){let e=n[o];e===m2?i+=mF(t[o]):e===m3?i+=m0.transform(t[o]):i+=t[o]}return i}}let m9=t=>"number"==typeof t?0:t,m7={test:function(t){var e,n;return isNaN(t)&&"string"==typeof t&&((null==(e=t.match(mV))?void 0:e.length)||0)+((null==(n=t.match(m1))?void 0:n.length)||0)>0},parse:m6,createTransformer:m8,getAnimatableNone:function(t){let e=m6(t);return m8(t)(e.map(m9))}},gt=new Set(["brightness","contrast","saturate","opacity"]);function ge(t){let[e,n]=t.slice(0,-1).split("(");if("drop-shadow"===e)return t;let[r]=n.match(mV)||[];if(!r)return t;let i=n.replace(r,""),o=+!!gt.has(e);return r!==n&&(o*=100),e+"("+o+i+")"}let gn=RegExp("\\b([a-z-]*)\\(.*?\\)","gu"),gr=c(u({},m7),{getAnimatableNone:t=>{let e=t.match(gn);return e?e.map(ge).join(" "):t}}),gi=c(u({},mM),{transform:Math.round}),go=c(u({},{borderWidth:mY,borderTopWidth:mY,borderRightWidth:mY,borderBottomWidth:mY,borderLeftWidth:mY,borderRadius:mY,radius:mY,borderTopLeftRadius:mY,borderTopRightRadius:mY,borderBottomRightRadius:mY,borderBottomLeftRadius:mY,width:mY,maxWidth:mY,height:mY,maxHeight:mY,top:mY,right:mY,bottom:mY,left:mY,padding:mY,paddingTop:mY,paddingRight:mY,paddingBottom:mY,paddingLeft:mY,margin:mY,marginTop:mY,marginRight:mY,marginBottom:mY,marginLeft:mY,backgroundPositionX:mY,backgroundPositionY:mY},{rotate:mH,rotateX:mH,rotateY:mH,rotateZ:mH,scale:mj,scaleX:mj,scaleY:mj,scaleZ:mj,skew:mH,skewX:mH,skewY:mH,distance:mY,translateX:mY,translateY:mY,translateZ:mY,x:mY,y:mY,z:mY,perspective:mY,transformPerspective:mY,opacity:mL,originX:mJ,originY:mJ,originZ:mY}),{zIndex:gi,size:mY,fillOpacity:mL,strokeOpacity:mL,numOctaves:gi}),gs=c(u({},go),{color:m0,backgroundColor:m0,outlineColor:m0,fill:m0,stroke:m0,borderColor:m0,borderTopColor:m0,borderRightColor:m0,borderBottomColor:m0,borderLeftColor:m0,filter:gr,WebkitFilter:gr}),ga=t=>gs[t];function gu(t,e){let n=ga(t);return n!==gr&&(n=m7),n.getAnimatableNone?n.getAnimatableNone(e):void 0}let gc=new Set(["auto","none","0"]),gl=t=>t===mM||t===mY,gh=(t,e)=>parseFloat(t.split(", ")[e]),gf=(t,e)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;let o=i.match(RegExp("^matrix3d\\((.+)\\)$","u"));if(o)return gh(o[1],e);{let e=i.match(RegExp("^matrix\\((.+)\\)$","u"));return e?gh(e[1],t):0}},gd=new Set(["x","y","z"]),gp=me.filter(t=>!gd.has(t)),gm={width:(t,e)=>{let{x:n}=t,{paddingLeft:r="0",paddingRight:i="0"}=e;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(t,e)=>{let{y:n}=t,{paddingTop:r="0",paddingBottom:i="0"}=e;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(t,e)=>{let{top:n}=e;return parseFloat(n)},left:(t,e)=>{let{left:n}=e;return parseFloat(n)},bottom:(t,e)=>{let{y:n}=t,{top:r}=e;return parseFloat(r)+(n.max-n.min)},right:(t,e)=>{let{x:n}=t,{left:r}=e;return parseFloat(r)+(n.max-n.min)},x:gf(4,13),y:gf(5,14)};gm.translateX=gm.x,gm.translateY=gm.y;let gg=new Set,gy=!1,gv=!1;function gb(){if(gv){let t=Array.from(gg).filter(t=>t.needsMeasurement),e=new Set(t.map(t=>t.element)),n=new Map;e.forEach(t=>{let e,r=(e=[],gp.forEach(n=>{let r=t.getValue(n);void 0!==r&&(e.push([n,r.get()]),r.set(+!!n.startsWith("scale")))}),e);r.length&&(n.set(t,r),t.render())}),t.forEach(t=>t.measureInitialState()),e.forEach(t=>{t.render();let e=n.get(t);e&&e.forEach(e=>{var n;let[r,i]=e;null==(n=t.getValue(r))||n.set(i)})}),t.forEach(t=>t.measureEndState()),t.forEach(t=>{void 0!==t.suspendedScrollY&&window.scrollTo(0,t.suspendedScrollY)})}gv=!1,gy=!1,gg.forEach(t=>t.complete()),gg.clear()}function gw(){gg.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(gv=!0)})}class gx{scheduleResolve(){this.isScheduled=!0,this.isAsync?(gg.add(this),gy||(gy=!0,ma.read(gw),ma.resolveKeyframes(gb))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:t,name:e,element:n,motionValue:r}=this;for(let i=0;i<t.length;i++)if(null===t[i])if(0===i){let i=null==r?void 0:r.get(),o=t[t.length-1];if(void 0!==i)t[0]=i;else if(n&&e){let r=n.readValue(e,o);null!=r&&(t[0]=r)}void 0===t[0]&&(t[0]=o),r&&void 0===i&&r.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),gg.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,gg.delete(this))}resume(){this.isComplete||this.scheduleResolve()}constructor(t,e,n,r,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=n,this.motionValue=r,this.element=i,this.isAsync=o}}let gE=t=>RegExp("^-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)$","u").test(t),gT=t=>e=>"string"==typeof e&&e.startsWith(t),gS=gT("--"),gI=gT("var(--"),g_=t=>!!gI(t)&&gA.test(t.split("/*")[0].trim()),gA=RegExp("var\\(--(?:[\\w-]+\\s*|[\\w-]+\\s*,(?:\\s*[^)(\\s]|\\s*\\((?:[^)(]|\\([^)(]*\\))*\\))+\\s*)\\)$","iu"),gk=RegExp("^var\\(--(?:([\\w-]+)|([\\w-]+), ?([a-zA-Z\\d ()%#.,-]+))\\)","u"),gC=t=>e=>e.test(t),gP=[mM,mY,mQ,mH,m$,mX,{test:t=>"auto"===t,parse:t=>t}],gD=t=>gP.find(gC(t));class gN extends gx{readKeyframes(){let{unresolvedKeyframes:t,element:e,name:n}=this;if(!e||!e.current)return;super.readKeyframes();for(let n=0;n<t.length;n++){let r=t[n];if("string"==typeof r&&g_(r=r.trim())){let i=function t(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;pF(r<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));let[i,o]=function(t){let e=gk.exec(t);if(!e)return[,];let[,n,r,i]=e;return["--".concat(null!=n?n:r),i]}(e);if(!i)return;let s=window.getComputedStyle(n).getPropertyValue(i);if(s){let t=s.trim();return gE(t)?parseFloat(t):t}return g_(o)?t(o,n,r+1):o}(r,e.current);void 0!==i&&(t[n]=i),n===t.length-1&&(this.finalKeyframe=r)}}if(this.resolveNoneKeyframes(),!mr.has(n)||2!==t.length)return;let[r,i]=t,o=gD(r),s=gD(i);if(o!==s)if(gl(o)&&gl(s))for(let e=0;e<t.length;e++){let n=t[e];"string"==typeof n&&(t[e]=parseFloat(n))}else this.needsMeasurement=!0}resolveNoneKeyframes(){let{unresolvedKeyframes:t,name:e}=this,n=[];for(let e=0;e<t.length;e++){var r;("number"==typeof(r=t[e])?0===r:null===r||"none"===r||"0"===r||mO(r))&&n.push(e)}n.length&&function(t,e,n){let r,i=0;for(;i<t.length&&!r;){let e=t[i];"string"==typeof e&&!gc.has(e)&&m5(e).values.length&&(r=t[i]),i++}if(r&&n)for(let i of e)t[i]=gu(n,r)}(t,n,e)}measureInitialState(){let{element:t,unresolvedKeyframes:e,name:n}=this;if(!t||!t.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=gm[n](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;let r=e[e.length-1];void 0!==r&&t.getValue(n,r).jump(r,!1)}measureEndState(){var t;let{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;let i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);let o=r.length-1,s=r[o];r[o]=gm[n](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==s&&void 0===this.finalKeyframe&&(this.finalKeyframe=s),(null==(t=this.removedTransforms)?void 0:t.length)&&this.removedTransforms.forEach(t=>{let[n,r]=t;e.getValue(n).set(r)}),this.resolveNoneKeyframes()}constructor(t,e,n,r,i){super(t,e,n,r,i,!0)}}let gO=(t,e)=>"zIndex"!==e&&!!("number"==typeof t||Array.isArray(t)||"string"==typeof t&&(m7.test(t)||"0"===t)&&!t.startsWith("url(")),gR=t=>null!==t;function gM(t,e,n){let{repeat:r,repeatType:i="loop"}=e,o=t.filter(gR),s=r&&"loop"!==i&&r%2==1?0:o.length-1;return s&&void 0!==n?n:o[s]}class gL{calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(gw(),gb()),this._resolved}onKeyframesResolved(t,e){this.resolvedAt=mf.now(),this.hasAttemptedResolve=!0;let{name:n,type:r,velocity:i,delay:o,onComplete:s,onUpdate:a,isGenerator:c}=this.options;if(!c&&!function(t,e,n,r){let i=t[0];if(null===i)return!1;if("display"===e||"visibility"===e)return!0;let o=t[t.length-1],s=gO(i,e),a=gO(o,e);return pF(s===a,"You are trying to animate ".concat(e,' from "').concat(i,'" to "').concat(o,'". ').concat(i," is not an animatable value - to enable this animation set ").concat(i," to a value animatable to ").concat(o," via the `style` property.")),!!s&&!!a&&(function(t){let e=t[0];if(1===t.length)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}(t)||("spring"===n||pH(n))&&r)}(t,n,r,i))if(o)this.options.duration=0;else{a&&a(gM(t,this.options,e)),s&&s(),this.resolveFinishedPromise();return}let l=this.initPlayback(t,e);!1!==l&&(this._resolved=u({keyframes:t,finalKeyframe:e},l),this.onPostResolved())}onPostResolved(){}then(t,e){return this.currentFinishedPromise.then(t,e)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}constructor(t){let{autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop"}=t,a=hj(t,["autoplay","delay","type","repeat","repeatDelay","repeatType"]);this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=mf.now(),this.options=u({autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s},a),this.updateFinishedPromise()}}let gj=(t,e,n)=>t+(e-t)*n;function gF(t,e,n){return(n<0&&(n+=1),n>1&&(n-=1),n<1/6)?t+(e-t)*6*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function gV(t,e){return n=>n>0?e:t}let gU=(t,e,n)=>{let r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},gB=[mW,mK,mZ];function gq(t){let e=gB.find(e=>e.test(t));if(pF(!!e,"'".concat(t,"' is not an animatable color. Use the equivalent color code instead.")),!e)return!1;let n=e.parse(t);return e===mZ&&(n=function(t){let{hue:e,saturation:n,lightness:r,alpha:i}=t;e/=360,r/=100;let o=0,s=0,a=0;if(n/=100){let t=r<.5?r*(1+n):r+n-r*n,i=2*r-t;o=gF(i,t,e+1/3),s=gF(i,t,e),a=gF(i,t,e-1/3)}else o=s=a=r;return{red:Math.round(255*o),green:Math.round(255*s),blue:Math.round(255*a),alpha:i}}(n)),n}let gz=(t,e)=>{let n=gq(t),r=gq(e);if(!n||!r)return gV(t,e);let i=u({},n);return t=>(i.red=gU(n.red,r.red,t),i.green=gU(n.green,r.green,t),i.blue=gU(n.blue,r.blue,t),i.alpha=gj(n.alpha,r.alpha,t),mK.transform(i))},gK=(t,e)=>n=>e(t(n)),gW=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(gK)},gG=new Set(["none","hidden"]);function gH(t,e){return n=>gj(t,e,n)}function gQ(t){return"number"==typeof t?gH:"string"==typeof t?g_(t)?gV:m0.test(t)?gz:g$:Array.isArray(t)?gY:"object"==typeof t?m0.test(t)?gz:gX:gV}function gY(t,e){let n=[...t],r=n.length,i=t.map((t,n)=>gQ(t)(t,e[n]));return t=>{for(let e=0;e<r;e++)n[e]=i[e](t);return n}}function gX(t,e){let n=u({},t,e),r={};for(let i in n)void 0!==t[i]&&void 0!==e[i]&&(r[i]=gQ(t[i])(t[i],e[i]));return t=>{for(let e in r)n[e]=r[e](t);return n}}let g$=(t,e)=>{let n=m7.createTransformer(e),r=m5(t),i=m5(e);if(!(r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length))return pF(!0,"Complex values '".concat(t,"' and '").concat(e,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),gV(t,e);if(gG.has(t)&&!i.values.length||gG.has(e)&&!r.values.length)return gG.has(t)?n=>n<=0?t:e:n=>n>=1?e:t;return gW(gY(function(t,e){var n;let r=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){let s=e.types[o],a=t.indexes[s][i[s]],u=null!=(n=t.values[a])?n:0;r[o]=u,i[s]++}return r}(r,i),i.values),n)};function gJ(t,e,n){return"number"==typeof t&&"number"==typeof e&&"number"==typeof n?gj(t,e,n):gQ(t)(t,e)}function gZ(t,e,n){var r,i;let o=Math.max(e-5,0);return r=n-t(o),(i=e-o)?1e3/i*r:0}let g0=.01,g1=2,g2=.005,g3=.5;function g4(t,e){return t*Math.sqrt(1-e*e)}let g5=["duration","bounce"],g6=["stiffness","damping","mass"];function g8(t,e){return e.some(e=>void 0!==t[e])}function g9(){let t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.3,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.3,r="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:n}:e,{restSpeed:i,restDelta:o}=r,s=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],l={done:!1,value:s},{stiffness:h,damping:f,mass:d,duration:p,velocity:m,isResolvedFromDuration:g}=function(t){let e=u({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!g8(t,g6)&&g8(t,g5))if(t.visualDuration){let n=2*Math.PI/(1.2*t.visualDuration),r=n*n,i=2*mR(.05,1,1-(t.bounce||0))*Math.sqrt(r);e=c(u({},e),{mass:1,stiffness:r,damping:i})}else(e=c(u({},e,function(t){let e,n,{duration:r=800,bounce:i=.3,velocity:o=0,mass:s=1}=t;pF(r<=pB(10),"Spring duration must be 10 seconds or less");let a=1-i;a=mR(.05,1,a),r=mR(.01,10,r/1e3),a<1?(e=t=>{let e=t*a,n=e*r;return .001-(e-o)/g4(t,a)*Math.exp(-n)},n=t=>{let n=t*a*r,i=Math.pow(a,2)*Math.pow(t,2)*r,s=Math.exp(-n),u=g4(Math.pow(t,2),a);return(n*o+o-i)*s*(-e(t)+.001>0?-1:1)/u}):(e=t=>-.001+Math.exp(-t*r)*((t-o)*r+1),n=t=>r*r*(o-t)*Math.exp(-t*r));let u=function(t,e,n){let r=n;for(let n=1;n<12;n++)r-=t(r)/e(r);return r}(e,n,5/r);if(r=pB(r),isNaN(u))return{stiffness:100,damping:10,duration:r};{let t=Math.pow(u,2)*s;return{stiffness:t,damping:2*a*Math.sqrt(s*t),duration:r}}}(t)),{mass:1})).isResolvedFromDuration=!0;return e}(c(u({},r),{velocity:-((r.velocity||0)/1e3)})),y=m||0,v=f/(2*Math.sqrt(h*d)),b=a-s,w=Math.sqrt(h/d)/1e3,x=5>Math.abs(b);if(i||(i=x?g0:g1),o||(o=x?g2:g3),v<1){let e=g4(w,v);t=t=>a-Math.exp(-v*w*t)*((y+v*w*b)/e*Math.sin(e*t)+b*Math.cos(e*t))}else if(1===v)t=t=>a-Math.exp(-w*t)*(b+(y+w*b)*t);else{let e=w*Math.sqrt(v*v-1);t=t=>{let n=Math.exp(-v*w*t),r=Math.min(e*t,300);return a-n*((y+v*w*b)*Math.sinh(r)+e*b*Math.cosh(r))/e}}let E={calculatedDuration:g&&p||null,next:e=>{let n=t(e);if(g)l.done=e>=p;else{let r=0;v<1&&(r=0===e?pB(y):gZ(t,e,n));let s=Math.abs(a-n)<=o;l.done=Math.abs(r)<=i&&s}return l.value=l.done?a:n,l},toString:()=>{let t=Math.min(pG(E),2e4),e=pJ(e=>E.next(t*e).value,t,30);return t+"ms "+e}};return E}function g7(t){let e,n,{keyframes:r,velocity:i=0,power:o=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:u=500,modifyTarget:c,min:l,max:h,restDelta:f=.5,restSpeed:d}=t,p=r[0],m={done:!1,value:p},g=o*i,y=p+g,v=void 0===c?y:c(y);v!==y&&(g=v-p);let b=t=>-g*Math.exp(-t/s),w=t=>v+b(t),x=t=>{let e=b(t),n=w(t);m.done=Math.abs(e)<=f,m.value=m.done?v:n},E=t=>{let r;if(r=m.value,void 0!==l&&r<l||void 0!==h&&r>h){var i;e=t,n=g9({keyframes:[m.value,(i=m.value,void 0===l?h:void 0===h||Math.abs(l-i)<Math.abs(h-i)?l:h)],velocity:gZ(w,t,m.value),damping:a,stiffness:u,restDelta:f,restSpeed:d})}};return E(0),{calculatedDuration:null,next:t=>{let r=!1;return(n||void 0!==e||(r=!0,x(t),E(t)),void 0!==e&&t>=e)?n.next(t-e):(r||x(t),m)}}}let yt=mT(.42,0,1,1),ye=mT(0,0,.58,1),yn=mT(.42,0,.58,1),yr={linear:pF,easeIn:yt,easeInOut:yn,easeOut:ye,circIn:mP,circInOut:mN,circOut:mD,backIn:mA,backInOut:mk,backOut:m_,anticipate:mC},yi=t=>{if(pY(t)){pF(4===t.length,"Cubic bezier arrays must contain four numerical values.");let[e,n,r,i]=t;return mT(e,n,r,i)}return"string"==typeof t?(pF(void 0!==yr[t],"Invalid easing type '".concat(t,"'")),yr[t]):t};function yo(t){var e;let n,{duration:r=300,keyframes:i,times:o,ease:s="easeInOut"}=t,a=Array.isArray(s)&&"number"!=typeof s[0]?s.map(yi):yi(s),u={done:!1,value:i[0]},c=function(t,e){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t.length;if(pF(o===e.length,"Both input and output ranges must be the same length"),1===o)return()=>e[0];if(2===o&&e[0]===e[1])return()=>e[1];let s=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());let a=function(t,e,n){let r=[],i=n||gJ,o=t.length-1;for(let n=0;n<o;n++){let o=i(t[n],t[n+1]);e&&(o=gW(Array.isArray(e)?e[n]||pF:e,o)),r.push(o)}return r}(e,r,i),u=a.length,c=n=>{if(s&&n<t[0])return e[0];let r=0;if(u>1)for(;r<t.length-2&&!(n<t[r+1]);r++);let i=pU(t[r],t[r+1],n);return a[r](i)};return n?e=>c(mR(t[0],t[o-1],e)):c}((e=o&&o.length===i.length?o:(!function(t,e){let n=t[t.length-1];for(let r=1;r<=e;r++){let i=pU(0,e,r);t.push(gj(n,1,i))}}(n=[0],i.length-1),n),e.map(t=>t*r)),i,{ease:Array.isArray(a)?a:i.map(()=>a||yn).splice(0,i.length-1)});return{calculatedDuration:r,next:t=>(u.value=c(t),u.done=t>=r,u)}}let ys=t=>{let e=e=>{let{timestamp:n}=e;return t(n)};return{start:()=>ma.update(e,!0),stop:()=>mu(e),now:()=>mc.isProcessing?mc.timestamp:mf.now()}},ya={decay:g7,inertia:g7,tween:yo,keyframes:yo,spring:g9},yu=t=>t/100;class yc extends gL{flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){let e,n,{type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s,velocity:a=0}=this.options,l=pH(r)?r:ya[r]||yo;l!==yo&&"number"!=typeof t[0]&&(e=gW(yu,gJ(t[0],t[1])),t=[0,100]);let h=l(c(u({},this.options),{keyframes:t}));"mirror"===s&&(n=l(c(u({},this.options),{keyframes:[...t].reverse(),velocity:-a}))),null===h.calculatedDuration&&(h.calculatedDuration=pG(h));let{calculatedDuration:f}=h,d=f+o;return{generator:h,mirroredGenerator:n,mapPercentToKeyframes:e,calculatedDuration:f,resolvedDuration:d,totalDuration:d*(i+1)-o}}onPostResolved(){let{autoplay:t=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&t?this.state=this.pendingPlayState:this.pause()}tick(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{resolved:n}=this;if(!n){let{keyframes:t}=this.options;return{done:!0,value:t[t.length-1]}}let{finalKeyframe:r,generator:i,mirroredGenerator:o,mapPercentToKeyframes:s,keyframes:a,calculatedDuration:u,totalDuration:c,resolvedDuration:l}=n;if(null===this.startTime)return i.next(0);let{delay:h,repeat:f,repeatType:d,repeatDelay:p,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-c/this.speed,this.startTime)),e?this.currentTime=t:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;let g=this.currentTime-h*(this.speed>=0?1:-1),y=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let v=this.currentTime,b=i;if(f){let t=Math.min(this.currentTime,c)/l,e=Math.floor(t),n=t%1;!n&&t>=1&&(n=1),1===n&&e--,(e=Math.min(e,f+1))%2&&("reverse"===d?(n=1-n,p&&(n-=p/l)):"mirror"===d&&(b=o)),v=mR(0,1,n)*l}let w=y?{done:!1,value:a[0]}:b.next(v);s&&(w.value=s(w.value));let{done:x}=w;y||null===u||(x=this.speed>=0?this.currentTime>=c:this.currentTime<=0);let E=null===this.holdTime&&("finished"===this.state||"running"===this.state&&x);return E&&void 0!==r&&(w.value=gM(a,this.options,r)),m&&m(w.value),E&&this.finish(),w}get duration(){let{resolved:t}=this;return t?t.calculatedDuration/1e3:0}get time(){return this.currentTime/1e3}set time(t){t=pB(t),this.currentTime=t,null!==this.holdTime||0===this.speed?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){let e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=this.currentTime/1e3)}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;let{driver:t=ys,onPlay:e,startTime:n}=this.options;this.driver||(this.driver=t(t=>this.tick(t))),e&&e();let r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=null!=n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=null!=(t=this.currentTime)?t:0}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";let{onComplete:t}=this.options;t&&t()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();let{onStop:t}=this.options;t&&t()};const{name:e,motionValue:n,element:r,keyframes:i}=this.options,o=(null==r?void 0:r.KeyframeResolver)||gx,s=(t,e)=>this.onKeyframesResolved(t,e);this.resolver=new o(i,s,e,n,r),this.resolver.scheduleResolve()}}let yl=new Set(["opacity","clipPath","filter","transform"]),yh=pV(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),yf={anticipate:mC,backInOut:mk,circInOut:mN};class yd extends gL{initPlayback(t,e){var n;let{duration:r=300,times:i,ease:o,type:s,motionValue:a,name:l,startTime:h}=this.options;if(!a.owner||!a.owner.current)return!1;if("string"==typeof o&&p$()&&o in yf&&(o=yf[o]),pH((n=this.options).type)||"spring"===n.type||!function t(e){return!!("function"==typeof e&&p$()||!e||"string"==typeof e&&(e in p0||p$())||pY(e)||Array.isArray(e)&&e.every(t))}(n.ease)){let e=this.options,{onComplete:n,onUpdate:a,motionValue:l,element:h}=e,f=hj(e,["onComplete","onUpdate","motionValue","element"]),d=function(t,e){let n=new yc(c(u({},e),{keyframes:t,repeat:0,delay:0,isGenerator:!0})),r={done:!1,value:t[0]},i=[],o=0;for(;!r.done&&o<2e4;)i.push((r=n.sample(o)).value),o+=10;return{times:void 0,keyframes:i,duration:o-10,ease:"linear"}}(t,f);1===(t=d.keyframes).length&&(t[1]=t[0]),r=d.duration,i=d.times,o=d.ease,s="keyframes"}let f=function(t,e,n){let{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:a="easeInOut",times:u}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c={[e]:n};u&&(c.offset=u);let l=function t(e,n){if(e)return"function"==typeof e&&p$()?pJ(e,n):pY(e)?pZ(e):Array.isArray(e)?e.map(e=>t(e,n)||p0.easeOut):p0[e]}(a,i);return Array.isArray(l)&&(c.easing=l),t.animate(c,{delay:r,duration:i,easing:Array.isArray(l)?"linear":l,fill:"both",iterations:o+1,direction:"reverse"===s?"alternate":"normal"})}(a.owner.current,l,t,c(u({},this.options),{duration:r,times:i,ease:o}));return f.startTime=null!=h?h:this.calcStartTime(),this.pendingTimeline?(pQ(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{let{onComplete:n}=this.options;a.set(gM(t,this.options,e)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:r,times:i,type:s,ease:o,keyframes:t}}get duration(){let{resolved:t}=this;if(!t)return 0;let{duration:e}=t;return e/1e3}get time(){let{resolved:t}=this;if(!t)return 0;let{animation:e}=t;return(e.currentTime||0)/1e3}set time(t){let{resolved:e}=this;if(!e)return;let{animation:n}=e;n.currentTime=pB(t)}get speed(){let{resolved:t}=this;if(!t)return 1;let{animation:e}=t;return e.playbackRate}set speed(t){let{resolved:e}=this;if(!e)return;let{animation:n}=e;n.playbackRate=t}get state(){let{resolved:t}=this;if(!t)return"idle";let{animation:e}=t;return e.playState}get startTime(){let{resolved:t}=this;if(!t)return null;let{animation:e}=t;return e.startTime}attachTimeline(t){if(this._resolved){let{resolved:e}=this;if(!e)return pF;let{animation:n}=e;pQ(n,t)}else this.pendingTimeline=t;return pF}play(){if(this.isStopped)return;let{resolved:t}=this;if(!t)return;let{animation:e}=t;"finished"===e.playState&&this.updateFinishedPromise(),e.play()}pause(){let{resolved:t}=this;if(!t)return;let{animation:e}=t;e.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();let{resolved:t}=this;if(!t)return;let{animation:e,keyframes:n,duration:r,type:i,ease:o,times:s}=t;if("idle"===e.playState||"finished"===e.playState)return;if(this.time){let t=this.options,{motionValue:e,onUpdate:a,onComplete:l,element:h}=t,f=new yc(c(u({},hj(t,["motionValue","onUpdate","onComplete","element"])),{keyframes:n,duration:r,type:i,ease:o,times:s,isGenerator:!0})),d=pB(this.time);e.setWithVelocity(f.sample(d-10).value,f.sample(d).value,10)}let{onStop:a}=this.options;a&&a(),this.cancel()}complete(){let{resolved:t}=this;t&&t.animation.finish()}cancel(){let{resolved:t}=this;t&&t.animation.cancel()}static supports(t){let{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:o,type:s}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;let{onUpdate:a,transformTemplate:u}=e.owner.getProps();return yh()&&n&&yl.has(n)&&!a&&!u&&!r&&"mirror"!==i&&0!==o&&"inertia"!==s}constructor(t){super(t);const{name:e,motionValue:n,element:r,keyframes:i}=this.options;this.resolver=new gN(i,(t,e)=>this.onKeyframesResolved(t,e),e,n,r),this.resolver.scheduleResolve()}}let yp={type:"spring",stiffness:500,damping:25,restSpeed:10},ym={type:"keyframes",duration:.8},yg={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yy=function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return s=>{let a=pW(r,t)||{},l=a.delay||r.delay||0,{elapsed:h=0}=r;h-=pB(l);let f=c(u({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity()},a),{delay:-h,onUpdate:t=>{e.set(t),a.onUpdate&&a.onUpdate(t)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:o?void 0:i});!function(t){let{when:e,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:o,repeat:s,repeatType:a,repeatDelay:u,from:c,elapsed:l}=t;return!!Object.keys(hj(t,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"])).length}(a)&&(f=u({},f,((t,e)=>{let{keyframes:n}=e;return n.length>2?ym:mn.has(t)?t.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:yp:yg})(t,f))),f.duration&&(f.duration=pB(f.duration)),f.repeatDelay&&(f.repeatDelay=pB(f.repeatDelay)),void 0!==f.from&&(f.keyframes[0]=f.from);let d=!1;if(!1!==f.type&&(0!==f.duration||f.repeatDelay)||(f.duration=0,0===f.delay&&(d=!0)),d&&!o&&void 0!==e.get()){let t=gM(f.keyframes,a);if(void 0!==t)return ma.update(()=>{f.onUpdate(t),f.onComplete()}),new pK([])}return!o&&yd.supports(f)?new yd(f):new yc(f)}};function yv(t,e){var n;let{delay:r=0,transitionOverride:i,type:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:s=t.getDefaultTransition(),transitionEnd:a}=e,c=hj(e,["transition","transitionEnd"]);i&&(s=i);let l=[],h=o&&t.animationState&&t.animationState.getState()[o];for(let e in c){let i=t.getValue(e,null!=(n=t.latestValues[e])?n:null),o=c[e];if(void 0===o||h&&function(t,e){let{protectedKeys:n,needsAnimating:r}=t,i=n.hasOwnProperty(e)&&!0!==r[e];return r[e]=!1,i}(h,e))continue;let a=u({delay:r},pW(s||{},e)),f=!1;if(window.MotionHandoffAnimation){let n=t.props[mx];if(n){let t=window.MotionHandoffAnimation(n,e,ma);null!==t&&(a.startTime=t,f=!0)}}mb(t,e),i.start(yy(e,i,o,t.shouldReduceMotion&&mr.has(e)?{type:!1}:a,t,f));let d=i.animation;d&&l.push(d)}return a&&Promise.all(l).then(()=>{ma.update(()=>{a&&function(t,e){let n=pM(t,e)||{},{transitionEnd:r={},transition:i={}}=n,o=hj(n,["transitionEnd","transition"]);for(let e in o=u({},o,r)){let n=mi(o[e]);t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,my(n))}}(t,a)})}),l}function yb(t,e){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=pM(t,e,"exit"===r.type?null==(n=t.presenceContext)?void 0:n.custom:void 0),{transition:o=t.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(o=r.transitionOverride);let s=i?()=>Promise.all(yv(t,i,r)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,{delayChildren:i=0,staggerChildren:s,staggerDirection:a}=o;return function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5?arguments[5]:void 0,s=[],a=(t.variantChildren.size-1)*r,l=1===i?function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t*r}:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return a-t*r};return Array.from(t.variantChildren).sort(yw).forEach((t,r)=>{t.notify("AnimationStart",e),s.push(yb(t,e,c(u({},o),{delay:n+l(r)})).then(()=>t.notify("AnimationComplete",e)))}),Promise.all(s)}(t,e,i+n,s,a,r)}:()=>Promise.resolve(),{when:l}=o;if(!l)return Promise.all([s(),a(r.delay)]);{let[t,e]="beforeChildren"===l?[s,a]:[a,s];return t().then(()=>e())}}function yw(t,e){return t.sortNodePosition(e)}let yx=pj.length,yE=[...pL].reverse(),yT=pL.length;function yS(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yI(){return{animate:yS(!0),whileInView:yS(),whileHover:yS(),whileTap:yS(),whileDrag:yS(),whileFocus:yS(),exit:yS()}}class y_{update(){}constructor(t){this.isMounted=!1,this.node=t}}let yA=0;function yk(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function yC(t){return{point:{x:t.pageX,y:t.pageY}}}function yP(t,e,n,r){return yk(t,e,t=>p5(t)&&n(t,yC(t)),r)}let yD=(t,e)=>Math.abs(t-e);class yN{updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),mu(this.updatePoint)}constructor(t,e,{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{var t,e;if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let n=yM(this.lastMoveEventInfo,this.history),r=null!==this.startEvent,i=(t=n.offset,e={x:0,y:0},Math.sqrt(yD(t.x,e.x)**2+yD(t.y,e.y)**2)>=3);if(!r&&!i)return;let{point:o}=n,{timestamp:s}=mc;this.history.push(c(u({},o),{timestamp:s}));let{onStart:a,onMove:l}=this.handlers;r||(a&&a(this.lastMoveEvent,n),this.startEvent=this.lastMoveEvent),l&&l(this.lastMoveEvent,n)},this.handlePointerMove=(t,e)=>{this.lastMoveEvent=t,this.lastMoveEventInfo=yO(e,this.transformPagePoint),ma.update(this.updatePoint,!0)},this.handlePointerUp=(t,e)=>{this.end();let{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let o=yM("pointercancel"===t.type?this.lastMoveEventInfo:yO(e,this.transformPagePoint),this.history);this.startEvent&&n&&n(t,o),r&&r(t,o)},!p5(t))return;this.dragSnapToOrigin=i,this.handlers=e,this.transformPagePoint=n,this.contextWindow=r||window;const o=yO(yC(t),this.transformPagePoint),{point:s}=o,{timestamp:a}=mc;this.history=[c(u({},s),{timestamp:a})];const{onSessionStart:l}=e;l&&l(t,yM(o,this.history)),this.removeListeners=gW(yP(this.contextWindow,"pointermove",this.handlePointerMove),yP(this.contextWindow,"pointerup",this.handlePointerUp),yP(this.contextWindow,"pointercancel",this.handlePointerUp))}}function yO(t,e){return e?{point:e(t.point)}:t}function yR(t,e){return{x:t.x-e.x,y:t.y-e.y}}function yM(t,e){let{point:n}=t;return{point:n,delta:yR(n,yL(e)),offset:yR(n,e[0]),velocity:function(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null,i=yL(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>pB(.1)));)n--;if(!r)return{x:0,y:0};let o=(i.timestamp-r.timestamp)/1e3;if(0===o)return{x:0,y:0};let s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}(e,.1)}}function yL(t){return t[t.length-1]}function yj(t){return t&&"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}function yF(t){return t.max-t.min}function yV(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;t.origin=r,t.originPoint=gj(e.min,e.max,t.origin),t.scale=yF(n)/yF(e),t.translate=gj(n.min,n.max,t.origin)-t.originPoint,(t.scale>=.9999&&t.scale<=1.0001||isNaN(t.scale))&&(t.scale=1),(t.translate>=-.01&&t.translate<=.01||isNaN(t.translate))&&(t.translate=0)}function yU(t,e,n,r){yV(t.x,e.x,n.x,r?r.originX:void 0),yV(t.y,e.y,n.y,r?r.originY:void 0)}function yB(t,e,n){t.min=n.min+e.min,t.max=t.min+yF(e)}function yq(t,e,n){t.min=e.min-n.min,t.max=t.min+yF(e)}function yz(t,e,n){yq(t.x,e.x,n.x),yq(t.y,e.y,n.y)}function yK(t,e,n){return{min:void 0!==e?t.min+e:void 0,max:void 0!==n?t.max+n-(t.max-t.min):void 0}}function yW(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function yG(t,e,n){return{min:yH(t,e),max:yH(t,n)}}function yH(t,e){return"number"==typeof t?t:t[e]||0}let yQ=()=>({translate:0,scale:1,origin:0,originPoint:0}),yY=()=>({x:yQ(),y:yQ()}),yX=()=>({min:0,max:0}),y$=()=>({x:yX(),y:yX()});function yJ(t){return[t("x"),t("y")]}function yZ(t){let{top:e,left:n,right:r,bottom:i}=t;return{x:{min:n,max:r},y:{min:e,max:i}}}function y0(t){return void 0===t||1===t}function y1(t){let{scale:e,scaleX:n,scaleY:r}=t;return!y0(e)||!y0(n)||!y0(r)}function y2(t){return y1(t)||y3(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function y3(t){var e,n;return(e=t.x)&&"0%"!==e||(n=t.y)&&"0%"!==n}function y4(t,e,n,r,i){return void 0!==i&&(t=r+i*(t-r)),r+n*(t-r)+e}function y5(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;t.min=y4(t.min,e,n,r,i),t.max=y4(t.max,e,n,r,i)}function y6(t,e){let{x:n,y:r}=e;y5(t.x,n.translate,n.scale,n.originPoint),y5(t.y,r.translate,r.scale,r.originPoint)}function y8(t,e){t.min=t.min+e,t.max=t.max+e}function y9(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,o=gj(t.min,t.max,i);y5(t,e,n,o,r)}function y7(t,e){y9(t.x,e.x,e.scaleX,e.scale,e.originX),y9(t.y,e.y,e.scaleY,e.scale,e.originY)}function vt(t,e){return yZ(function(t,e){if(!e)return t;let n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(t.getBoundingClientRect(),e))}let ve=t=>{let{current:e}=t;return e?e.ownerDocument.defaultView:null},vn=new WeakMap;class vr{start(t){let{snapToCursor:e=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;let r=t=>{let{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(yC(t).point)},i=(t,e)=>{let{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock=function(t){if("x"===t||"y"===t)if(p1[t])return null;else return p1[t]=!0,()=>{p1[t]=!1};return p1.x||p1.y?null:(p1.x=p1.y=!0,()=>{p1.x=p1.y=!1})}(n),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),yJ(t=>{let e=this.getAxisMotionValue(t).get()||0;if(mQ.test(e)){let{projection:n}=this.visualElement;if(n&&n.layout){let r=n.layout.layoutBox[t];r&&(e=yF(r)*(parseFloat(e)/100))}}this.originPoint[t]=e}),i&&ma.postRender(()=>i(t,e)),mb(this.visualElement,"transform");let{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},o=(t,e)=>{let{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:o}=this.getProps();if(!n&&!this.openDragLock)return;let{offset:s}=e;if(r&&null===this.currentDirection){this.currentDirection=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}(s),null!==this.currentDirection&&i&&i(this.currentDirection);return}this.updateAxis("x",e.point,s),this.updateAxis("y",e.point,s),this.visualElement.render(),o&&o(t,e)},s=(t,e)=>this.stop(t,e),a=()=>yJ(t=>{var e;return"paused"===this.getAnimationState(t)&&(null==(e=this.getAxisMotionValue(t).animation)?void 0:e.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new yN(t,{onSessionStart:r,onStart:i,onMove:o,onSessionEnd:s,resumeAnimation:a},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:ve(this.visualElement)})}stop(t,e){let n=this.isDragging;if(this.cancel(),!n)return;let{velocity:r}=e;this.startAnimation(r);let{onDragEnd:i}=this.getProps();i&&ma.postRender(()=>i(t,e))}cancel(){this.isDragging=!1;let{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,n){let{drag:r}=this.getProps();if(!n||!vi(t,r,this.currentDirection))return;let i=this.getAxisMotionValue(t),o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=function(t,e,n){let{min:r,max:i}=e;return void 0!==r&&t<r?t=n?gj(r,t,n.min):Math.max(t,r):void 0!==i&&t>i&&(t=n?gj(i,t,n.max):Math.min(t,i)),t}(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;let{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null==(t=this.visualElement.projection)?void 0:t.layout,i=this.constraints;e&&yj(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=function(t,e){let{top:n,left:r,bottom:i,right:o}=e;return{x:yK(t.x,r,o),y:yK(t.y,n,i)}}(r.layoutBox,e):this.constraints=!1,this.elastic=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.35;return!1===t?t=0:!0===t&&(t=.35),{x:yG(t,"left","right"),y:yG(t,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&yJ(t=>{var e,n;let i;!1!==this.constraints&&this.getAxisMotionValue(t)&&(this.constraints[t]=(e=r.layoutBox[t],n=this.constraints[t],i={},void 0!==n.min&&(i.min=n.min-e.min),void 0!==n.max&&(i.max=n.max-e.min),i))})}resolveRefConstraints(){var t;let{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!yj(e))return!1;let r=e.current;pF(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");let{projection:i}=this.visualElement;if(!i||!i.layout)return!1;let o=function(t,e,n){let r=vt(t,n),{scroll:i}=e;return i&&(y8(r.x,i.offset.x),y8(r.y,i.offset.y)),r}(r,i.root,this.visualElement.getTransformPagePoint()),s=(t=i.layout.layoutBox,{x:yW(t.x,o.x),y:yW(t.y,o.y)});if(n){let t=n(function(t){let{x:e,y:n}=t;return{top:n.min,right:e.max,bottom:n.max,left:e.min}}(s));this.hasMutatedConstraints=!!t,t&&(s=yZ(t))}return s}startAnimation(t){let{drag:e,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),a=this.constraints||{};return Promise.all(yJ(s=>{if(!vi(s,e,this.currentDirection))return;let c=a&&a[s]||{};o&&(c={min:0,max:0});let l=u({type:"inertia",velocity:n?t[s]:0,bounceStiffness:r?200:1e6,bounceDamping:r?40:1e7,timeConstant:750,restDelta:1,restSpeed:10},i,c);return this.startAxisValueAnimation(s,l)})).then(s)}startAxisValueAnimation(t,e){let n=this.getAxisMotionValue(t);return mb(this.visualElement,t),n.start(yy(t,n,0,e,this.visualElement,!1))}stopAnimation(){yJ(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){yJ(t=>{var e;return null==(e=this.getAxisMotionValue(t).animation)?void 0:e.pause()})}getAnimationState(t){var e;return null==(e=this.getAxisMotionValue(t).animation)?void 0:e.state}getAxisMotionValue(t){let e="_drag".concat(t.toUpperCase()),n=this.visualElement.getProps();return n[e]||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){yJ(e=>{let{drag:n}=this.getProps();if(!vi(e,n,this.currentDirection))return;let{projection:r}=this.visualElement,i=this.getAxisMotionValue(e);if(r&&r.layout){let{min:n,max:o}=r.layout.layoutBox[e];i.set(t[e]-gj(n,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:t,dragConstraints:e}=this.getProps(),{projection:n}=this.visualElement;if(!yj(e)||!n||!this.constraints)return;this.stopAnimation();let r={x:0,y:0};yJ(t=>{let e=this.getAxisMotionValue(t);if(e&&!1!==this.constraints){var n,i;let o,s,a,u=e.get();r[t]=(n={min:u,max:u},i=this.constraints[t],o=.5,s=yF(n),(a=yF(i))>s?o=pU(i.min,i.max-s,n.min):s>a&&(o=pU(n.min,n.max-a,i.min)),mR(0,1,o))}});let{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),yJ(e=>{if(!vi(e,t,null))return;let n=this.getAxisMotionValue(e),{min:i,max:o}=this.constraints[e];n.set(gj(i,o,r[e]))})}addListeners(){if(!this.visualElement.current)return;vn.set(this.visualElement,this);let t=yP(this.visualElement.current,"pointerdown",t=>{let{drag:e,dragListener:n=!0}=this.getProps();e&&n&&this.start(t)}),e=()=>{let{dragConstraints:t}=this.getProps();yj(t)&&t.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",e);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),ma.read(e);let i=yk(window,"resize",()=>this.scalePositionWithinConstraints()),o=n.addEventListener("didUpdate",t=>{let{delta:e,hasLayoutChanged:n}=t;this.isDragging&&n&&(yJ(t=>{let n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())});return()=>{i(),t(),r(),o&&o()}}getProps(){let t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=.35,dragMomentum:s=!0}=t;return c(u({},t),{drag:e,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:s})}constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=y$(),this.visualElement=t}}function vi(t,e,n){return(!0===e||e===t)&&(null===n||n===t)}let vo=t=>(e,n)=>{t&&ma.postRender(()=>t(e,n))};var vs=l;let va=(0,l.createContext)(null),vu=(0,l.createContext)({}),vc=(0,l.createContext)({}),vl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vh(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}let vf={correct:(t,e)=>{if(!e.target)return t;if("string"==typeof t)if(!mY.test(t))return t;else t=parseFloat(t);let n=vh(t,e.target.x),r=vh(t,e.target.y);return"".concat(n,"% ").concat(r,"%")}},vd={},{schedule:vp,cancel:vm}=ms(queueMicrotask,!1);class vg extends vs.Component{componentDidMount(){let{visualElement:t,layoutGroup:e,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=t;Object.assign(vd,vv),i&&(e.group&&e.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions(c(u({},i.options),{onExitComplete:()=>this.safeToRemove()}))),vl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){let{layoutDependency:e,visualElement:n,drag:r,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,r||t.layoutDependency!==e||void 0===e?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||ma.postRender(()=>{let t=o.getStack();t&&t.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),vp.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:t,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){let{safeToRemove:t}=this.props;t&&t()}render(){return null}}function vy(t){let[e,n]=function(){let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0],e=(0,l.useContext)(va);if(null===e)return[!0,null];let{isPresent:n,onExitComplete:r,register:i}=e,o=(0,l.useId)();(0,l.useEffect)(()=>{t&&i(o)},[t]);let s=(0,l.useCallback)(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,s]:[!0]}(),r=(0,vs.useContext)(vu);return(0,a.jsx)(vg,c(u({},t),{layoutGroup:r,switchLayoutGroup:(0,vs.useContext)(vc),isPresent:e,safeToRemove:n}))}let vv={borderRadius:c(u({},vf),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:vf,borderTopRightRadius:vf,borderBottomLeftRadius:vf,borderBottomRightRadius:vf,boxShadow:{correct:(t,e)=>{let{treeScale:n,projectionDelta:r}=e,i=m7.parse(t);if(i.length>5)return t;let o=m7.createTransformer(t),s=+("number"!=typeof i[0]),a=r.x.scale*n.x,u=r.y.scale*n.y;i[0+s]/=a,i[1+s]/=u;let c=gj(a,u,.5);return"number"==typeof i[2+s]&&(i[2+s]/=c),"number"==typeof i[3+s]&&(i[3+s]/=c),o(i)}}},vb=(t,e)=>t.depth-e.depth;class vw{add(t){md(this.children,t),this.isDirty=!0}remove(t){mp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(vb),this.isDirty=!1,this.children.forEach(t)}constructor(){this.children=[],this.isDirty=!1}}function vx(t){let e=mv(t)?t.get():t;return e&&"object"==typeof e&&e.mix&&e.toValue?e.toValue():e}let vE=["TopLeft","TopRight","BottomLeft","BottomRight"],vT=vE.length,vS=t=>"string"==typeof t?parseFloat(t):t,vI=t=>"number"==typeof t||mY.test(t);function v_(t,e){return void 0!==t[e]?t[e]:t.borderRadius}let vA=vC(0,.5,mD),vk=vC(.5,.95,pF);function vC(t,e,n){return r=>r<t?0:r>e?1:n(pU(t,e,r))}function vP(t,e){t.min=e.min,t.max=e.max}function vD(t,e){vP(t.x,e.x),vP(t.y,e.y)}function vN(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function vO(t,e,n,r,i){return t-=e,t=r+1/n*(t-r),void 0!==i&&(t=r+1/i*(t-r)),t}function vR(t,e,n,r,i){let[o,s,a]=n;!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:t;if(mQ.test(e)&&(e=parseFloat(e),e=gj(s.min,s.max,e/100)-s.min),"number"!=typeof e)return;let a=gj(o.min,o.max,r);t===o&&(a-=e),t.min=vO(t.min,e,n,a,i),t.max=vO(t.max,e,n,a,i)}(t,e[o],e[s],e[a],e.scale,r,i)}let vM=["x","scaleX","originX"],vL=["y","scaleY","originY"];function vj(t,e,n,r){vR(t.x,e,vM,n?n.x:void 0,r?r.x:void 0),vR(t.y,e,vL,n?n.y:void 0,r?r.y:void 0)}function vF(t){return 0===t.translate&&1===t.scale}function vV(t){return vF(t.x)&&vF(t.y)}function vU(t,e){return t.min===e.min&&t.max===e.max}function vB(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function vq(t,e){return vB(t.x,e.x)&&vB(t.y,e.y)}function vz(t){return yF(t.x)/yF(t.y)}function vK(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class vW{add(t){md(this.members,t),t.scheduleRender()}remove(t){if(mp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){let t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(t){let e,n=this.members.findIndex(e=>t===e);if(0===n)return!1;for(let t=n;t>=0;t--){let n=this.members[t];if(!1!==n.isPresent){e=n;break}}return!!e&&(this.promote(e),!0)}promote(t,e){let n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,e&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);let{crossfade:r}=t.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{let{options:e,resumingFrom:n}=t;e.onExitComplete&&e.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}constructor(){this.members=[]}}let vG={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},vH="u">typeof window&&void 0!==window.MotionDebug,vQ=["","X","Y","Z"],vY={visibility:"hidden"},vX=0;function v$(t,e,n,r){let{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function vJ(t){let{attachResizeListener:e,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:o}=t;return class{addEventListener(t,e){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new mm),this.eventHandlers.get(t).add(e)}notifyListeners(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];let i=this.eventHandlers.get(t);i&&i.notify(...n)}hasListeners(t){return this.eventHandlers.has(t)}mount(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;this.isSVG=t instanceof SVGElement&&"svg"!==t.tagName,this.instance=t;let{layoutId:r,layout:i,visualElement:o}=this.options;if(o&&!o.current&&o.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(i||r)&&(this.isLayoutDirty=!0),e){let n,r=()=>this.root.updateBlockedByResize=!1;e(t,()=>{let t,e;this.root.updateBlockedByResize=!0,n&&n(),t=mf.now(),e=n=>{let{timestamp:i}=n,o=i-t;o>=250&&(mu(e),r(o-250))},ma.read(e,!0),n=()=>mu(e),vl.hasAnimatedSinceResize&&(vl.hasAnimatedSinceResize=!1,this.nodes.forEach(v8))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&o&&(r||i)&&this.addEventListener("didUpdate",t=>{let{delta:e,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=t;if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let s=this.options.transition||o.getDefaultTransition()||bo,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=o.getProps(),h=!this.targetLayout||!vq(this.targetLayout,i)||r,f=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||f||n&&(h||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,f);let t=c(u({},pW(s,"layout")),{onPlay:a,onComplete:l});(o.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else n||v8(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let t=this.getStack();t&&t.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,mu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bt),this.animationId++)}getTransformTemplate(){let{visualElement:t}=this.options;return t&&t.getProps().transformTemplate}willUpdate(){let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function t(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;let{visualElement:n}=e.options;if(!n)return;let r=n.props[mx];if(window.MotionHasOptimisedAnimation(r,"transform")){let{layout:t,layoutId:n}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",ma,!(t||n))}let{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&t(i)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let t=0;t<this.path.length;t++){let e=this.path[t];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}let{layoutId:e,layout:n}=this.options;if(void 0===e&&!n)return;let r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(v4);return}this.isUpdating||this.nodes.forEach(v5),this.isUpdating=!1,this.nodes.forEach(v6),this.nodes.forEach(vZ),this.nodes.forEach(v0),this.clearAllSnapshots();let t=mf.now();mc.delta=mR(0,1e3/60,t-mc.timestamp),mc.timestamp=t,mc.isProcessing=!0,ml.update.process(mc),ml.preRender.process(mc),ml.render.process(mc),mc.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(v3),this.sharedNodes.forEach(be)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ma.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ma.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let t=0;t<this.path.length;t++)this.path[t].updateScroll();let t=this.layout;this.layout=this.measure(!1),this.layoutCorrected=y$(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:e}=this.options;e&&e.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}updateScroll(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",e=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===t&&(e=!1),e){let e=i(this.instance);this.scroll={animationId:this.root.animationId,phase:t,isRoot:e,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:e}}}resetTransform(){if(!o)return;let t=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,e=this.projectionDelta&&!vV(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;t&&(e||y2(this.latestValues)||i)&&(o(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){var t;let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],n=this.measurePageBox(),r=this.removeElementScroll(n);return e&&(r=this.removeTransform(r)),bu((t=r).x),bu(t.y),{animationId:this.root.animationId,measuredBox:n,layoutBox:r,latestValues:{},source:this.id}}measurePageBox(){var t;let{visualElement:e}=this.options;if(!e)return y$();let n=e.measureViewportBox();if(!((null==(t=this.scroll)?void 0:t.wasRoot)||this.path.some(bl))){let{scroll:t}=this.root;t&&(y8(n.x,t.offset.x),y8(n.y,t.offset.y))}return n}removeElementScroll(t){var e;let n=y$();if(vD(n,t),null==(e=this.scroll)?void 0:e.wasRoot)return n;for(let e=0;e<this.path.length;e++){let r=this.path[e],{scroll:i,options:o}=r;r!==this.root&&i&&o.layoutScroll&&(i.wasRoot&&vD(n,t),y8(n.x,i.offset.x),y8(n.y,i.offset.y))}return n}applyTransform(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=y$();vD(n,t);for(let t=0;t<this.path.length;t++){let r=this.path[t];!e&&r.options.layoutScroll&&r.scroll&&r!==r.root&&y7(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),y2(r.latestValues)&&y7(n,r.latestValues)}return y2(this.latestValues)&&y7(n,this.latestValues),n}removeTransform(t){let e=y$();vD(e,t);for(let t=0;t<this.path.length;t++){let n=this.path[t];if(!n.instance||!y2(n.latestValues))continue;y1(n.latestValues)&&n.updateSnapshot();let r=y$();vD(r,n.measurePageBox()),vj(e,n.latestValues,n.snapshot?n.snapshot.layoutBox:void 0,r)}return y2(this.latestValues)&&vj(e,this.latestValues),e}setTargetDelta(t){this.targetDelta=t,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(t){this.options=c(u({},this.options,t),{crossfade:void 0===t.crossfade||t.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mc.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){var t,e,n,r;let i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);let s=!!this.resumingFrom||this!==o;if(!(i||s&&this.isSharedProjectionDirty||this.isProjectionDirty||(null==(t=this.parent)?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:a,layoutId:u}=this.options;if(this.layout&&(a||u)){if(this.resolvedRelativeTargetAt=mc.timestamp,!this.targetDelta&&!this.relativeTarget){let t=this.getClosestProjectingParent();t&&t.layout&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=y$(),this.relativeTargetOrigin=y$(),yz(this.relativeTargetOrigin,this.layout.layoutBox,t.layout.layoutBox),vD(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if((this.target||(this.target=y$(),this.targetWithTransforms=y$()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target)?(this.forceRelativeParentToResolveTarget(),e=this.target,n=this.relativeTarget,r=this.relativeParent.target,yB(e.x,n.x,r.x),yB(e.y,n.y,r.y)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vD(this.target,this.layout.layoutBox),y6(this.target,this.targetDelta)):vD(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let t=this.getClosestProjectingParent();t&&!!t.resumingFrom==!!this.resumingFrom&&!t.options.layoutScroll&&t.target&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=y$(),this.relativeTargetOrigin=y$(),yz(this.relativeTargetOrigin,this.target,t.target),vD(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}vH&&vG.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||y1(this.parent.latestValues)||y3(this.parent.latestValues)))if(this.parent.isProjecting())return this.parent;else return this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var t;let e=this.getLead(),n=!!this.resumingFrom||this!==e,r=!0;if((this.isProjectionDirty||(null==(t=this.parent)?void 0:t.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===mc.timestamp&&(r=!1),r)return;let{layout:i,layoutId:o}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(i||o))return;vD(this.layoutCorrected,this.layout.layoutBox);let s=this.treeScale.x,a=this.treeScale.y;!function(t,e,n){let r,i,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=n.length;if(s){e.x=e.y=1;for(let a=0;a<s;a++){i=(r=n[a]).projectionDelta;let{visualElement:s}=r.options;(!s||!s.props.style||"contents"!==s.props.style.display)&&(o&&r.options.layoutScroll&&r.scroll&&r!==r.root&&y7(t,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),i&&(e.x*=i.x.scale,e.y*=i.y.scale,y6(t,i)),o&&y2(r.latestValues)&&y7(t,r.latestValues))}e.x<1.0000000000001&&e.x>.999999999999&&(e.x=1),e.y<1.0000000000001&&e.y>.999999999999&&(e.y=1)}}(this.layoutCorrected,this.treeScale,this.path,n),e.layout&&!e.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(e.target=e.layout.layoutBox,e.targetWithTransforms=y$());let{target:u}=e;if(!u){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(vN(this.prevProjectionDelta.x,this.projectionDelta.x),vN(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),yU(this.projectionDelta,this.layoutCorrected,u,this.latestValues),this.treeScale.x===s&&this.treeScale.y===a&&vK(this.projectionDelta.x,this.prevProjectionDelta.x)&&vK(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",u)),vH&&vG.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){var t;let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(null==(t=this.options.visualElement)||t.scheduleRender(),e){let t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=yY(),this.projectionDelta=yY(),this.projectionDeltaWithTransform=yY()}setAnimationOrigin(t){let e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.snapshot,i=r?r.latestValues:{},o=u({},this.latestValues),s=yY();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!n;let a=y$(),c=(r?r.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),h=!l||l.members.length<=1,f=!!(c&&!h&&!0===this.options.crossfade&&!this.path.some(bi));this.animationProgress=0,this.mixTargetDelta=n=>{let r=n/1e3;if(bn(s.x,t.x,r),bn(s.y,t.y,r),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var u,l,d,p,m,g;yz(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),d=this.relativeTarget,p=this.relativeTargetOrigin,m=a,g=r,br(d.x,p.x,m.x,g),br(d.y,p.y,m.y,g),e&&(u=this.relativeTarget,l=e,vU(u.x,l.x)&&vU(u.y,l.y))&&(this.isProjectionDirty=!1),e||(e=y$()),vD(e,this.relativeTarget)}c&&(this.animationValues=o,function(t,e,n,r,i,o){i?(t.opacity=gj(0,void 0!==n.opacity?n.opacity:1,vA(r)),t.opacityExit=gj(void 0!==e.opacity?e.opacity:1,0,vk(r))):o&&(t.opacity=gj(void 0!==e.opacity?e.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let i=0;i<vT;i++){let o="border".concat(vE[i],"Radius"),s=v_(e,o),a=v_(n,o);(void 0!==s||void 0!==a)&&(s||(s=0),a||(a=0),0===s||0===a||vI(s)===vI(a)?(t[o]=Math.max(gj(vS(s),vS(a),r),0),(mQ.test(a)||mQ.test(s))&&(t[o]+="%")):t[o]=a)}(e.rotate||n.rotate)&&(t.rotate=gj(e.rotate||0,n.rotate||0,r))}(o,i,this.latestValues,r,f,h)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=r},this.mixTargetDelta(1e3*!!this.options.layoutRoot)}startAnimation(t){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(mu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ma.update(()=>{var e;let n;vl.hasAnimatedSinceResize=!0,this.currentAnimation=(e=c(u({},t),{onUpdate:e=>{this.mixTargetDelta(e),t.onUpdate&&t.onUpdate(e)},onComplete:()=>{t.onComplete&&t.onComplete(),this.completeAnimation()}}),(n=mv(0)?0:my(0)).start(yy("",n,1e3,e)),n.animation),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let t=this.getStack();t&&t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let t=this.getLead(),{targetWithTransforms:e,target:n,layout:r,latestValues:i}=t;if(e&&n&&r){if(this!==t&&this.layout&&r&&bc(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||y$();let e=yF(this.layout.layoutBox.x);n.x.min=t.target.x.min,n.x.max=n.x.min+e;let r=yF(this.layout.layoutBox.y);n.y.min=t.target.y.min,n.y.max=n.y.min+r}vD(e,n),y7(e,i),yU(this.projectionDeltaWithTransform,this.layoutCorrected,e,i)}}registerSharedNode(t,e){this.sharedNodes.has(t)||this.sharedNodes.set(t,new vW),this.sharedNodes.get(t).add(e);let n=e.options.initialPromotionConfig;e.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(e):void 0})}isLead(){let t=this.getStack();return!t||t.lead===this}getLead(){var t;let{layoutId:e}=this.options;return e&&(null==(t=this.getStack())?void 0:t.lead)||this}getPrevLead(){var t;let{layoutId:e}=this.options;return e?null==(t=this.getStack())?void 0:t.prevLead:void 0}getStack(){let{layoutId:t}=this.options;if(t)return this.root.sharedNodes.get(t)}promote(){let{needsReset:t,transition:e,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.getStack();r&&r.promote(this,n),t&&(this.projectionDelta=void 0,this.needsReset=!0),e&&this.setOptions({transition:e})}relegate(){let t=this.getStack();return!!t&&t.relegate(this)}resetSkewAndRotation(){let{visualElement:t}=this.options;if(!t)return;let e=!1,{latestValues:n}=t;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(e=!0),!e)return;let r={};n.z&&v$("z",t,r,this.animationValues);for(let e=0;e<vQ.length;e++)v$("rotate".concat(vQ[e]),t,r,this.animationValues),v$("skew".concat(vQ[e]),t,r,this.animationValues);for(let e in t.render(),r)t.setStaticValue(e,r[e]),this.animationValues&&(this.animationValues[e]=r[e]);t.scheduleRender()}getProjectionStyles(t){var e,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return vY;let r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=vx(null==t?void 0:t.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;let o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){let e={};return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=vx(null==t?void 0:t.pointerEvents)||""),this.hasProjected&&!y2(this.latestValues)&&(e.transform=i?i({},""):"none",this.hasProjected=!1),e}let s=o.animationValues||o.latestValues;this.applyTransformsToTarget(),r.transform=function(t,e,n){let r="",i=t.x.translate/e.x,o=t.y.translate/e.y,s=(null==n?void 0:n.z)||0;if((i||o||s)&&(r="translate3d(".concat(i,"px, ").concat(o,"px, ").concat(s,"px) ")),(1!==e.x||1!==e.y)&&(r+="scale(".concat(1/e.x,", ").concat(1/e.y,") ")),n){let{transformPerspective:t,rotate:e,rotateX:i,rotateY:o,skewX:s,skewY:a}=n;t&&(r="perspective(".concat(t,"px) ").concat(r)),e&&(r+="rotate(".concat(e,"deg) ")),i&&(r+="rotateX(".concat(i,"deg) ")),o&&(r+="rotateY(".concat(o,"deg) ")),s&&(r+="skewX(".concat(s,"deg) ")),a&&(r+="skewY(".concat(a,"deg) "))}let a=t.x.scale*e.x,u=t.y.scale*e.y;return(1!==a||1!==u)&&(r+="scale(".concat(a,", ").concat(u,")")),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,s),i&&(r.transform=i(s,r.transform));let{x:a,y:u}=this.projectionDelta;for(let t in r.transformOrigin="".concat(100*a.origin,"% ").concat(100*u.origin,"% 0"),o.animationValues?r.opacity=o===this?null!=(n=null!=(e=s.opacity)?e:this.latestValues.opacity)?n:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:r.opacity=o===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0,vd){if(void 0===s[t])continue;let{correct:e,applyTo:n}=vd[t],i="none"===r.transform?s[t]:e(s[t],o);if(n){let t=n.length;for(let e=0;e<t;e++)r[n[e]]=i}else r[t]=i}return this.options.layoutId&&(r.pointerEvents=o===this?vx(null==t?void 0:t.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(t=>{var e;return null==(e=t.currentAnimation)?void 0:e.stop()}),this.root.nodes.forEach(v4),this.root.sharedNodes.clear()}constructor(t={},e=null==n?void 0:n()){this.id=vX++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,vH&&(vG.totalNodes=vG.resolvedTargetDeltas=vG.recalculatedProjection=0),this.nodes.forEach(v1),this.nodes.forEach(v9),this.nodes.forEach(v7),this.nodes.forEach(v2),vH&&window.MotionDebug.record(vG)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=t,this.root=e?e.root||e:this,this.path=e?[...e.path,e]:[],this.parent=e,this.depth=e?e.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new vw)}}}function vZ(t){t.updateLayout()}function v0(t){var e;let n=(null==(e=t.resumeFrom)?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){let{layoutBox:e,measuredBox:r}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;"size"===i?yJ(t=>{let r=o?n.measuredBox[t]:n.layoutBox[t],i=yF(r);r.min=e[t].min,r.max=r.min+i}):bc(i,n.layoutBox,e)&&yJ(r=>{let i=o?n.measuredBox[r]:n.layoutBox[r],s=yF(e[r]);i.max=i.min+s,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[r].max=t.relativeTarget[r].min+s)});let s=yY();yU(s,e,n.layoutBox);let a=yY();o?yU(a,t.applyTransform(r,!0),n.measuredBox):yU(a,e,n.layoutBox);let u=!vV(s),c=!1;if(!t.resumeFrom){let r=t.getClosestProjectingParent();if(r&&!r.resumeFrom){let{snapshot:i,layout:o}=r;if(i&&o){let s=y$();yz(s,n.layoutBox,i.layoutBox);let a=y$();yz(a,e,o.layoutBox),vq(s,a)||(c=!0),r.options.layoutRoot&&(t.relativeTarget=a,t.relativeTargetOrigin=s,t.relativeParent=r)}}}t.notifyListeners("didUpdate",{layout:e,snapshot:n,delta:a,layoutDelta:s,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){let{onExitComplete:e}=t.options;e&&e()}t.options.transition=void 0}function v1(t){vH&&vG.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function v2(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function v3(t){t.clearSnapshot()}function v4(t){t.clearMeasurements()}function v5(t){t.isLayoutDirty=!1}function v6(t){let{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function v8(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function v9(t){t.resolveTargetDelta()}function v7(t){t.calcProjection()}function bt(t){t.resetSkewAndRotation()}function be(t){t.removeLeadSnapshot()}function bn(t,e,n){t.translate=gj(e.translate,0,n),t.scale=gj(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function br(t,e,n,r){t.min=gj(e.min,n.min,r),t.max=gj(e.max,n.max,r)}function bi(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}let bo={duration:.45,ease:[.4,0,.1,1]},bs=t=>"u">typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ba=bs("applewebkit/")&&!bs("chrome/")?Math.round:pF;function bu(t){t.min=ba(t.min),t.max=ba(t.max)}function bc(t,e,n){return"position"===t||"preserve-aspect"===t&&!(.2>=Math.abs(vz(e)-vz(n)))}function bl(t){var e;return t!==t.root&&(null==(e=t.scroll)?void 0:e.wasRoot)}let bh=vJ({attachResizeListener:(t,e)=>yk(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bf={current:void 0},bd=vJ({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!bf.current){let t=new bh({});t.mount(window),t.setOptions({layoutScroll:!0}),bf.current=t}return bf.current},resetTransform:(t,e)=>{t.style.transform=void 0!==e?e:"none"},checkIsScrollRoot:t=>"fixed"===window.getComputedStyle(t).position});function bp(t,e,n){let{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover","Start"===n);let i=r["onHover"+n];i&&ma.postRender(()=>i(e,yC(e)))}function bm(t,e,n){let{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap","Start"===n);let i=r["onTap"+("End"===n?"":n)];i&&ma.postRender(()=>i(e,yC(e)))}let bg=new WeakMap,by=new WeakMap,bv=t=>{let e=bg.get(t.target);e&&e(t)},bb=t=>{t.forEach(bv)},bw={some:0,all:1},bx=(0,l.createContext)({strict:!1}),bE=(0,l.createContext)({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),bT=(0,l.createContext)({});function bS(t){return pC(t.animate)||pj.some(e=>pN(t[e]))}function bI(t){return!!(bS(t)||t.variants)}function b_(t){return Array.isArray(t)?t.join(" "):t}let bA="u">typeof window,bk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bC={};for(let t in bk)bC[t]={isEnabled:e=>bk[t].some(t=>!!e[t])};let bP=Symbol.for("motionComponentSymbol"),bD=bA?l.useLayoutEffect:l.useEffect,bN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bO(t){if("string"!=typeof t||t.includes("-"));else if(bN.indexOf(t)>-1||RegExp("[A-Z]","u").test(t))return!0;return!1}let bR=t=>(e,n)=>{let r,i=(0,l.useContext)(bT),o=(0,l.useContext)(va),s=()=>(function(t,e,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:o,onUpdate:s}=t,a={latestValues:function(t,e,n,r){let i={},o=r(t,{});for(let t in o)i[t]=vx(o[t]);let{initial:s,animate:a}=t,u=bS(t),c=bI(t);e&&c&&!u&&!1!==t.inherit&&(void 0===s&&(s=e.initial),void 0===a&&(a=e.animate));let l=!!n&&!1===n.initial,h=(l=l||!1===s)?a:s;if(h&&"boolean"!=typeof h&&!pC(h)){let e=Array.isArray(h)?h:[h];for(let n=0;n<e.length;n++){let r=pR(t,e[n]);if(r){let{transitionEnd:t,transition:e}=r,n=hj(r,["transitionEnd","transition"]);for(let t in n){let e=n[t];if(Array.isArray(e)){let t=l?e.length-1:0;e=e[t]}null!==e&&(i[t]=e)}for(let e in t)i[e]=t[e]}}}return i}(e,n,r,i),renderState:o()};return s&&(a.onMount=t=>s(u({props:e,current:t},a)),a.onUpdate=t=>s(t)),a})(t,e,i,o);return n?s():(null===(r=(0,l.useRef)(null)).current&&(r.current=s()),r.current)},bM=(t,e)=>e&&"number"==typeof t?e.transform(t):t,bL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bj=me.length;function bF(t,e,n){let{style:r,vars:i,transformOrigin:o}=t,s=!1,a=!1;for(let t in e){let n=e[t];if(mn.has(t)){s=!0;continue}if(gS(t)){i[t]=n;continue}{let e=bM(n,go[t]);t.startsWith("origin")?(a=!0,o[t]=e):r[t]=e}}if(!e.transform&&(s||n?r.transform=function(t,e,n){let r="",i=!0;for(let o=0;o<bj;o++){let s=me[o],a=t[s];if(void 0===a)continue;let u=!0;if(!(u="number"==typeof a?a===+!!s.startsWith("scale"):0===parseFloat(a))||n){let t=bM(a,go[s]);if(!u){i=!1;let e=bL[s]||s;r+="".concat(e,"(").concat(t,") ")}n&&(e[s]=t)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}(e,t.transform,n):r.transform&&(r.transform="none")),a){let{originX:t="50%",originY:e="50%",originZ:n=0}=o;r.transformOrigin="".concat(t," ").concat(e," ").concat(n)}}let bV={offset:"stroke-dashoffset",array:"stroke-dasharray"},bU={offset:"strokeDashoffset",array:"strokeDasharray"};function bB(t,e,n){return"string"==typeof t?t:mY.transform(e+n*t)}function bq(t,e,n,r){let i,o,[s,...a]=[e,n,r],{attrX:u,attrY:c,attrScale:l,originX:h,originY:f,pathLength:d,pathSpacing:p=1,pathOffset:m=0}=s,g=hj(s,["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"]),[y,...v]=a,[b]=v;if(bF(t,g,b),y){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};let{attrs:w,style:x,dimensions:E}=t;w.transform&&(E&&(x.transform=w.transform),delete w.transform),E&&(void 0!==h||void 0!==f||x.transform)&&(i=bB(void 0!==h?h:.5,E.x,E.width),o=bB(void 0!==f?f:.5,E.y,E.height),x.transformOrigin="".concat(i," ").concat(o)),void 0!==u&&(w.x=u),void 0!==c&&(w.y=c),void 0!==l&&(w.scale=l),void 0!==d&&function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4)||void 0===arguments[4]||arguments[4];t.pathLength=1;let o=i?bV:bU;t[o.offset]=mY.transform(-r);let s=mY.transform(e),a=mY.transform(n);t[o.array]="".concat(s," ").concat(a)}(w,d,p,m,!1)}let bz=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),bK=()=>c(u({},bz()),{attrs:{}}),bW=t=>"string"==typeof t&&"svg"===t.toLowerCase();function bG(t,e,n,r){let{style:i,vars:o}=e;for(let e in Object.assign(t.style,i,r&&r.getProjectionStyles(n)),o)t.style.setProperty(e,o[e])}let bH=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function bQ(t,e,n,r){for(let n in bG(t,e,void 0,r),e.attrs)t.setAttribute(bH.has(n)?n:mw(n),e.attrs[n])}function bY(t,e){let{layout:n,layoutId:r}=e;return mn.has(t)||t.startsWith("origin")||(n||void 0!==r)&&(!!vd[t]||"opacity"===t)}function bX(t,e,n){var r;let{style:i}=t,o={};for(let s in i)(mv(i[s])||e.style&&mv(e.style[s])||bY(s,t)||(null==(r=null==n?void 0:n.getValue(s))?void 0:r.liveStyle)!==void 0)&&(o[s]=i[s]);return o}function b$(t,e,n){let r=bX(t,e,n);for(let n in t)(mv(t[n])||mv(e[n]))&&(r[-1!==me.indexOf(n)?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n]=t[n]);return r}let bJ=["x","y","width","height","cx","cy","r"],bZ={useVisualState:bR({scrapeMotionValuesFromProps:b$,createRenderState:bK,onUpdate:t=>{let{props:e,prevProps:n,current:r,renderState:i,latestValues:o}=t;if(!r)return;let s=!!e.drag;if(!s){for(let t in o)if(mn.has(t)){s=!0;break}}if(!s)return;let a=!n;if(n)for(let t=0;t<bJ.length;t++){let r=bJ[t];e[r]!==n[r]&&(a=!0)}a&&ma.read(()=>{try{i.dimensions="function"==typeof r.getBBox?r.getBBox():r.getBoundingClientRect()}catch(t){i.dimensions={x:0,y:0,width:0,height:0}}ma.render(()=>{bq(i,o,bW(r.tagName),e.transformTemplate),bQ(r,i)})})}})},b0={useVisualState:bR({scrapeMotionValuesFromProps:bX,createRenderState:bz})};function b1(t,e,n){for(let r in e)mv(e[r])||bY(r,n)||(t[r]=e[r])}let b2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function b3(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||b2.has(t)}let b4=t=>!b3(t);try{(i=(()=>{let t=Error("Cannot find module '@emotion/is-prop-valid'");throw t.code="MODULE_NOT_FOUND",t})().default)&&(b4=t=>t.startsWith("on")?!b3(t):i(t))}catch(t){}let b5={current:null},b6={current:!1},b8=[...gP,m0,m7],b9=new WeakMap,b7=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class wt{scrapeMotionValuesFromProps(t,e,n){return{}}mount(t){this.current=t,b9.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,e)=>this.bindToMotionValue(e,t)),b6.current||function(){if(b6.current=!0,bA)if(window.matchMedia){let t=window.matchMedia("(prefers-reduced-motion)"),e=()=>b5.current=t.matches;t.addListener(e),e()}else b5.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||b5.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){for(let t in b9.delete(this.current),this.projection&&this.projection.unmount(),mu(this.notifyUpdate),mu(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[t].clear();for(let t in this.features){let e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){let n;this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();let r=mn.has(t),i=e.on("change",e=>{this.latestValues[t]=e,this.props.onUpdate&&ma.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=e.on("renderRequest",this.scheduleRender);window.MotionCheckAppearSync&&(n=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{i(),o(),n&&n(),e.owner&&e.stop()})}sortNodePosition(t){return this.current&&this.sortInstanceNodePosition&&this.type===t.type?this.sortInstanceNodePosition(this.current,t.current):0}updateFeatures(){let t="animation";for(t in bC){let e=bC[t];if(!e)continue;let{isEnabled:n,Feature:r}=e;if(!this.features[t]&&r&&n(this.props)&&(this.features[t]=new r(this)),this.features[t]){let e=this.features[t];e.isMounted?e.update():(e.mount(),e.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):y$()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let e=0;e<b7.length;e++){let n=b7[e];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);let r=t["on"+n];r&&(this.propEventSubscriptions[n]=this.on(n,r))}this.prevMotionValues=function(t,e,n){for(let r in e){let i=e[r],o=n[r];if(mv(i))t.addValue(r,i);else if(mv(o))t.addValue(r,my(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){let e=t.getValue(r);!0===e.liveStyle?e.jump(i):e.hasAnimated||e.set(i)}else{let e=t.getStaticValue(r);t.addValue(r,my(void 0!==e?e:i,{owner:t}))}}for(let r in n)void 0===e[r]&&t.removeValue(r);return e}(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){let e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){let n=this.values.get(t);e!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);let e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return void 0===n&&void 0!==e&&(n=my(null===e?void 0:e,{owner:this}),this.addValue(t,n)),n}readValue(t,e){var n;let r=void 0===this.latestValues[t]&&this.current?null!=(n=this.getBaseTargetFromProps(this.props,t))?n:this.readValueFromInstance(this.current,t,this.options):this.latestValues[t];if(null!=r){if("string"==typeof r&&(gE(r)||mO(r)))r=parseFloat(r);else{let n;n=r,!b8.find(gC(n))&&m7.test(e)&&(r=gu(t,e))}this.setBaseTarget(t,mv(r)?r.get():r)}return mv(r)?r.get():r}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;let n,{initial:r}=this.props;if("string"==typeof r||"object"==typeof r){let i=pR(this.props,r,null==(e=this.presenceContext)?void 0:e.custom);i&&(n=i[t])}if(r&&void 0!==n)return n;let i=this.getBaseTargetFromProps(this.props,t);return void 0===i||mv(i)?void 0!==this.initialValues[t]&&void 0===n?void 0:this.baseTarget[t]:i}on(t,e){return this.events[t]||(this.events[t]=new mm),this.events[t].add(e)}notify(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.events[t]&&this.events[t].notify(...n)}constructor({parent:t,props:e,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:i,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let t=mf.now();this.renderScheduledAt<t&&(this.renderScheduledAt=t,ma.render(this.render,!1,!0))};const{latestValues:a,renderState:c,onUpdate:l}=o;this.onUpdate=l,this.latestValues=a,this.baseTarget=u({},a),this.initialValues=e.initial?u({},a):{},this.renderState=c,this.parent=t,this.props=e,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=s,this.blockInitialAnimation=!!i,this.isControllingVariants=bS(e),this.isVariantNode=bI(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const h=this.scrapeMotionValuesFromProps(e,{},this),{willChange:f}=h,d=hj(h,["willChange"]);for(const t in d){const e=d[t];void 0!==a[t]&&mv(e)&&e.set(a[t],!1)}}}class we extends wt{sortInstanceNodePosition(t,e){return 2&t.compareDocumentPosition(e)?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,e){let{vars:n,style:r}=e;delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:t}=this.props;mv(t)&&(this.childSubscription=t.on("change",t=>{this.current&&(this.current.textContent="".concat(t))}))}constructor(){super(...arguments),this.KeyframeResolver=gN}}class wn extends we{readValueFromInstance(t,e){if(mn.has(e)){let t=ga(e);return t&&t.default||0}{let n=window.getComputedStyle(t),r=(gS(e)?n.getPropertyValue(e):n[e])||0;return"string"==typeof r?r.trim():r}}measureInstanceViewportBox(t,e){let{transformPagePoint:n}=e;return vt(t,n)}build(t,e,n){bF(t,e,n.transformTemplate)}scrapeMotionValuesFromProps(t,e,n){return bX(t,e,n)}constructor(){super(...arguments),this.type="html",this.renderInstance=bG}}class wr extends we{getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(mn.has(e)){let t=ga(e);return t&&t.default||0}return e=bH.has(e)?e:mw(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,n){return b$(t,e,n)}build(t,e,n){bq(t,e,this.isSVGTag,n.transformTemplate)}renderInstance(t,e,n,r){bQ(t,e,n,r)}mount(t){this.isSVGTag=bW(t.tagName),super.mount(t)}constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=y$}}let wi=function(t){if("u"<typeof Proxy)return t;let e=new Map;return new Proxy(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t(...n)},{get:(n,r)=>"create"===r?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}((o=u({},{animation:{Feature:class extends y_{updateAnimationControlsSubscription(){let{animate:t}=this.node.getProps();pC(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),null==(t=this.unmountControls)||t.call(this)}constructor(t){super(t),t.animationState||(t.animationState=function(t){let e=e=>Promise.all(e.map(e=>{let{animation:n,options:r}=e;return function(t,e){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t.notify("AnimationStart",e),Array.isArray(e))n=Promise.all(e.map(e=>yb(t,e,r)));else if("string"==typeof e)n=yb(t,e,r);else{let i="function"==typeof e?pM(t,e,r.custom):e;n=Promise.all(yv(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}(t,n,r)})),n=yI(),r=!0,i=e=>(n,r)=>{var i;let o=pM(t,r,"exit"===e?null==(i=t.presenceContext)?void 0:i.custom:void 0);if(o){let{transition:t,transitionEnd:e}=o;n=u({},n,hj(o,["transition","transitionEnd"]),e)}return n};function o(o){let{props:s}=t,a=function t(e){if(!e)return;if(!e.isControllingVariants){let n=e.parent&&t(e.parent)||{};return void 0!==e.props.initial&&(n.initial=e.props.initial),n}let n={};for(let t=0;t<yx;t++){let r=pj[t],i=e.props[r];(pN(i)||!1===i)&&(n[r]=i)}return n}(t.parent)||{},c=[],l=new Set,h={},f=1/0;for(let e=0;e<yT;e++){var d,p;let m=yE[e],g=n[m],y=void 0!==s[m]?s[m]:a[m],v=pN(y),b=m===o?g.isActive:null;!1===b&&(f=e);let w=y===a[m]&&y!==s[m]&&v;if(w&&r&&t.manuallyAnimateOnMount&&(w=!1),g.protectedKeys=u({},h),!g.isActive&&null===b||!y&&!g.prevProp||pC(y)||"boolean"==typeof y)continue;let x=(d=g.prevProp,"string"==typeof(p=y)?p!==d:!!Array.isArray(p)&&!pD(p,d)),E=x||m===o&&g.isActive&&!w&&v||e>f&&v,T=!1,S=Array.isArray(y)?y:[y],I=S.reduce(i(m),{});!1===b&&(I={});let{prevResolvedValues:_={}}=g,A=u({},_,I),k=e=>{E=!0,l.has(e)&&(T=!0,l.delete(e)),g.needsAnimating[e]=!0;let n=t.getValue(e);n&&(n.liveStyle=!1)};for(let t in A){let e=I[t],n=_[t];if(!h.hasOwnProperty(t))(pP(e)&&pP(n)?pD(e,n):e===n)?void 0!==e&&l.has(t)?k(t):g.protectedKeys[t]=!0:null!=e?k(t):l.add(t)}g.prevProp=y,g.prevResolvedValues=I,g.isActive&&(h=u({},h,I)),r&&t.blockInitialAnimation&&(E=!1);let C=!(w&&x)||T;E&&C&&c.push(...S.map(t=>({animation:t,options:{type:m}})))}if(l.size){let e={};l.forEach(n=>{let r=t.getBaseTarget(n),i=t.getValue(n);i&&(i.liveStyle=!0),e[n]=null!=r?r:null}),c.push({animation:e})}let m=!!c.length;return r&&(!1===s.initial||s.initial===s.animate)&&!t.manuallyAnimateOnMount&&(m=!1),r=!1,m?e(c):Promise.resolve()}return{animateChanges:o,setActive:function(e,r){var i;if(n[e].isActive===r)return Promise.resolve();null==(i=t.variantChildren)||i.forEach(t=>{var n;return null==(n=t.animationState)?void 0:n.setActive(e,r)}),n[e].isActive=r;let s=o(e);for(let t in n)n[t].protectedKeys={};return s},setAnimateFunction:function(n){e=n(t)},getState:()=>n,reset:()=>{n=yI(),r=!0}}}(t))}}},exit:{Feature:class extends y_{update(){if(!this.node.presenceContext)return;let{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;let r=this.node.animationState.setActive("exit",!t);e&&!t&&r.then(()=>e(this.id))}mount(){let{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}constructor(){super(...arguments),this.id=yA++}}}},{inView:{Feature:class extends y_{startObserver(){var t;let e;this.unmount();let{viewport:n={}}=this.node.getProps(),{root:r,margin:i,amount:o="some",once:s}=n,a={root:r?r.current:void 0,rootMargin:i,threshold:"number"==typeof o?o:bw[o]},c=t=>{let{isIntersecting:e}=t;if(this.isInView===e||(this.isInView=e,s&&!e&&this.hasEnteredView))return;e&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",e);let{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=e?n:r;i&&i(t)};return t=this.node.current,e=function(t){let{root:e}=t,n=hj(t,["root"]),r=e||document;by.has(r)||by.set(r,{});let i=by.get(r),o=JSON.stringify(n);return i[o]||(i[o]=new IntersectionObserver(bb,u({root:e},n))),i[o]}(a),bg.set(t,c),e.observe(t),()=>{bg.delete(t),e.unobserve(t)}}mount(){this.startObserver()}update(){if("u"<typeof IntersectionObserver)return;let{props:t,prevProps:e}=this.node;["amount","margin","root"].some(function(t){let{viewport:e={}}=t,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=>e[t]!==n[t]}(t,e))&&this.startObserver()}unmount(){}constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}}},tap:{Feature:class extends y_{mount(){let{current:t}=this.node;t&&(this.unmount=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},[r,i,o]=p2(t,n),s=t=>{let r=t.currentTarget;if(!mt(t)||p8.has(r))return;p8.add(r);let o=e(t),s=(t,e)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",u),mt(t)&&p8.has(r)&&(p8.delete(r),"function"==typeof o&&o(t,{success:e}))},a=t=>{s(t,n.useGlobalTarget||p4(r,t.target))},u=t=>{s(t,!1)};window.addEventListener("pointerup",a,i),window.addEventListener("pointercancel",u,i)};return r.forEach(t=>{p6.has(t.tagName)||-1!==t.tabIndex||null!==t.getAttribute("tabindex")||(t.tabIndex=0),(n.useGlobalTarget?window:t).addEventListener("pointerdown",s,i),t.addEventListener("focus",t=>((t,e)=>{let n=t.currentTarget;if(!n)return;let r=p9(()=>{if(p8.has(n))return;p7(n,"down");let t=p9(()=>{p7(n,"up")});n.addEventListener("keyup",t,e),n.addEventListener("blur",()=>p7(n,"cancel"),e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)})(t,i),i)}),o}(t,t=>(bm(this.node,t,"Start"),(t,e)=>{let{success:n}=e;return bm(this.node,t,n?"End":"Cancel")}),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends y_{onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(e){t=!0}t&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gW(yk(this.node.current,"focus",()=>this.onFocus()),yk(this.node.current,"blur",()=>this.onBlur()))}unmount(){}constructor(){super(...arguments),this.isActive=!1}}},hover:{Feature:class extends y_{mount(){let{current:t}=this.node;t&&(this.unmount=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},[r,i,o]=p2(t,n),s=p3(t=>{let{target:n}=t,r=e(t);if("function"!=typeof r||!n)return;let o=p3(t=>{r(t),n.removeEventListener("pointerleave",o)});n.addEventListener("pointerleave",o,i)});return r.forEach(t=>{t.addEventListener("pointerenter",s,i)}),o}(t,t=>(bp(this.node,t,"Start"),t=>bp(this.node,t,"End"))))}unmount(){}}}},{pan:{Feature:class extends y_{onPointerDown(t){this.session=new yN(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ve(this.node)})}createPanHandlers(){let{onPanSessionStart:t,onPanStart:e,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:vo(t),onStart:vo(e),onMove:n,onEnd:(t,e)=>{delete this.session,r&&ma.postRender(()=>r(t,e))}}}mount(){this.removePointerDownListener=yP(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}constructor(){super(...arguments),this.removePointerDownListener=pF}}},drag:{Feature:class extends y_{mount(){let{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||pF}unmount(){this.removeGroupControls(),this.removeListeners()}constructor(t){super(t),this.removeGroupControls=pF,this.removeListeners=pF,this.controls=new vr(t)}},ProjectionNode:bd,MeasureLayout:vy}},{layout:{ProjectionNode:bd,MeasureLayout:vy}}),s=(t,e)=>bO(t)?new wr(e):new wn(e,{allowProjection:t!==l.Fragment}),function(t){let{forwardMotionProps:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};return function(t){var e,n;let{preloadedFeatures:r,createVisualElement:i,useRender:o,useVisualState:s,Component:h}=t;function f(t,e){var n;let r,f=c(u({},(0,l.useContext)(bE),t),{layoutId:function(t){let{layoutId:e}=t,n=(0,l.useContext)(vu).id;return n&&void 0!==e?n+"-"+e:e}(t)}),{isStatic:d}=f,p=function(t){let{initial:e,animate:n}=function(t,e){if(bS(t)){let{initial:e,animate:n}=t;return{initial:!1===e||pN(e)?e:void 0,animate:pN(n)?n:void 0}}return!1!==t.inherit?e:{}}(t,(0,l.useContext)(bT));return(0,l.useMemo)(()=>({initial:e,animate:n}),[b_(e),b_(n)])}(t),m=s(t,d);if(!d&&bA){(0,l.useContext)(bx).strict;let t=function(t){let{drag:e,layout:n}=bC;if(!e&&!n)return{};let r=u({},e,n);return{MeasureLayout:(null==e?void 0:e.isEnabled(t))||(null==n?void 0:n.isEnabled(t))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(f);r=t.MeasureLayout,p.visualElement=function(t,e,n,r,i){var o,s;let{visualElement:a}=(0,l.useContext)(bT),u=(0,l.useContext)(bx),c=(0,l.useContext)(va),h=(0,l.useContext)(bE).reducedMotion,f=(0,l.useRef)(null);r=r||u.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:!!c&&!1===c.initial,reducedMotionConfig:h}));let d=f.current,p=(0,l.useContext)(vc);d&&!d.projection&&i&&("html"===d.type||"svg"===d.type)&&function(t,e,n,r){let{layoutId:i,layout:o,drag:s,dragConstraints:a,layoutScroll:u,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:function t(e){if(e)return!1!==e.options.allowProjection?e.projection:t(e.parent)}(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!s||a&&yj(a),visualElement:t,animationType:"string"==typeof o?o:"both",initialPromotionConfig:r,layoutScroll:u,layoutRoot:c})}(f.current,n,i,p);let m=(0,l.useRef)(!1);(0,l.useInsertionEffect)(()=>{d&&m.current&&d.update(n,c)});let g=n[mx],y=(0,l.useRef)(!!g&&!(null==(o=window.MotionHandoffIsComplete)?void 0:o.call(window,g))&&(null==(s=window.MotionHasOptimisedAnimation)?void 0:s.call(window,g)));return bD(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),vp.render(d.render),y.current&&d.animationState&&d.animationState.animateChanges())}),(0,l.useEffect)(()=>{d&&(!y.current&&d.animationState&&d.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var t;null==(t=window.MotionHandoffMarkAsComplete)||t.call(window,g)}),y.current=!1))}),d}(h,m,f,i,t.ProjectionNode)}return(0,a.jsxs)(bT.Provider,{value:p,children:[r&&p.visualElement?(0,a.jsx)(r,u({visualElement:p.visualElement},f)):null,o(h,t,(n=p.visualElement,(0,l.useCallback)(t=>{t&&m.onMount&&m.onMount(t),n&&(t?n.mount(t):n.unmount()),e&&("function"==typeof e?e(t):yj(e)&&(e.current=t))},[n])),m,d,p.visualElement)]})}r&&function(t){for(let e in t)bC[e]=u({},bC[e],t[e])}(r),f.displayName="motion.".concat("string"==typeof h?h:"create(".concat(null!=(n=null!=(e=h.displayName)?e:h.name)?n:"",")"));let d=(0,l.forwardRef)(f);return d[bP]=h,d}(c(u({},bO(t)?bZ:b0),{preloadedFeatures:o,useRender:function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(e,n,r,i,o)=>{let{latestValues:s}=i,a=(bO(e)?function(t,e,n,r){let i=(0,l.useMemo)(()=>{let n=bK();return bq(n,e,bW(r),t.transformTemplate),c(u({},n.attrs),{style:u({},n.style)})},[e]);if(t.style){let e={};b1(e,t.style,t),i.style=u({},e,i.style)}return i}:function(t,e){let n,r,i={},o=(n=t.style||{},b1(r={},n,t),Object.assign(r,function(t,e){let{transformTemplate:n}=t;return(0,l.useMemo)(()=>{let t=bz();return bF(t,e,n),Object.assign({},t.vars,t.style)},[e])}(t,e)),r);return t.drag&&!1!==t.dragListener&&(i.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=!0===t.drag?"none":"pan-".concat("x"===t.drag?"y":"x")),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=o,i})(n,s,o,e),h=function(t,e,n){let r={};for(let i in t)("values"!==i||"object"!=typeof t.values)&&(b4(i)||!0===n&&b3(i)||!e&&!b3(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}(n,"string"==typeof e,t),f=e!==l.Fragment?c(u({},h,a),{ref:r}):{},{children:d}=n,p=(0,l.useMemo)(()=>mv(d)?d.get():d,[d]);return(0,l.createElement)(e,c(u({},f),{children:p}))}}(e),createVisualElement:s,Component:t}))})),wo=l.default.memo(t=>{let{name:e,level:n,certification:r}=t,[i,o]=(0,l.useState)(!1),s=(0,l.useCallback)(()=>o(!0),[]),u=(0,l.useCallback)(()=>o(!1),[]);return(0,a.jsx)(a.Fragment,{children:r?(0,a.jsx)("div",{className:"my-1 mx-2",onMouseEnter:s,onMouseLeave:u,children:(0,a.jsxs)("p",{children:[e," ",n," ",i&&(0,a.jsx)(wi.span,{className:"italic text-sm px-1 xl:text-yellow-300 xl:text-shadow-light xl:pixel-font",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},children:r})]})}):(0,a.jsx)("div",{className:"my-1 mx-2",children:(0,a.jsxs)("p",{children:[e," ",n]})})})}),ws=()=>{let t=(0,l.useContext)(hO).sections.languages,{data:e,isPending:n,error:r}=hD("languages"),{loaded:i,isReady:o}=hN();return(0,l.useEffect)(()=>{!n&&e&&i("Languages")},[n,e,i]),o()&&(0,a.jsxs)("div",{className:"my-2 xl:pl-8",children:[(0,a.jsx)(hM,{level:2,children:t[px]}),(0,a.jsx)("div",{className:"xl:pl-1 xl:rounded-md xl:bg-[#020617] xl:m-2 xl:w-67.5",children:e&&e.map((t,e)=>(0,a.jsx)(wo,{name:t.name[px],level:pE(t.level[px]),certification:t.certification},e))})]})},wa=(0,l.createContext)({externalLink:pd,mail:{prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48L48 64zM0 176L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-208L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"]},location:{prefix:"fas",iconName:"location-dot",icon:[384,512,["map-marker-alt"],"f3c5","M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"]},phone:{prefix:"fas",iconName:"phone-volume",icon:[512,512,["volume-control-phone"],"f2a0","M280 0C408.1 0 512 103.9 512 232c0 13.3-10.7 24-24 24s-24-10.7-24-24c0-101.6-82.4-184-184-184c-13.3 0-24-10.7-24-24s10.7-24 24-24zm8 192a32 32 0 1 1 0 64 32 32 0 1 1 0-64zm-32-72c0-13.3 10.7-24 24-24c75.1 0 136 60.9 136 136c0 13.3-10.7 24-24 24s-24-10.7-24-24c0-48.6-39.4-88-88-88c-13.3 0-24-10.7-24-24zM117.5 1.4c19.4-5.3 39.7 4.6 47.4 23.2l40 96c6.8 16.3 2.1 35.2-11.6 46.3L144 207.3c33.3 70.4 90.3 127.4 160.7 160.7L345 318.7c11.2-13.7 30-18.4 46.3-11.6l96 40c18.6 7.7 28.5 28 23.2 47.4l-24 88C481.8 499.9 466 512 448 512C200.6 512 0 311.4 0 64C0 46 12.1 30.2 29.5 25.4l88-24z"]},github:pm,linkedin:{prefix:"fab",iconName:"linkedin-in",icon:[448,512,[],"f0e1","M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"]},Running:{prefix:"fas",iconName:"person-running",icon:[448,512,[127939,"running"],"f70c","M320 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM125.7 175.5c9.9-9.9 23.4-15.5 37.5-15.5c1.9 0 3.8 .1 5.6 .3L137.6 254c-9.3 28 1.7 58.8 26.8 74.5l86.2 53.9-25.4 88.8c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l28.7-100.4c5.9-20.6-2.6-42.6-20.7-53.9L238 299l30.9-82.4 5.1 12.3C289 264.7 323.9 288 362.7 288l21.3 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-21.3 0c-12.9 0-24.6-7.8-29.5-19.7l-6.3-15c-14.6-35.1-44.1-61.9-80.5-73.1l-48.7-15c-11.1-3.4-22.7-5.2-34.4-5.2c-31 0-60.8 12.3-82.7 34.3L57.4 153.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l23.1-23.1zM91.2 352L32 352c-17.7 0-32 14.3-32 32s14.3 32 32 32l69.6 0c19 0 36.2-11.2 43.9-28.5L157 361.6l-9.5-6c-17.5-10.9-30.5-26.8-37.9-44.9L91.2 352z"]},Travel:{prefix:"fas",iconName:"plane-departure",icon:[640,512,[128747],"f5b0","M381 114.9L186.1 41.8c-16.7-6.2-35.2-5.3-51.1 2.7L89.1 67.4C78 73 77.2 88.5 87.6 95.2l146.9 94.5L136 240 77.8 214.1c-8.7-3.9-18.8-3.7-27.3 .6L18.3 230.8c-9.3 4.7-11.8 16.8-5 24.7l73.1 85.3c6.1 7.1 15 11.2 24.3 11.2l137.7 0c5 0 9.9-1.2 14.3-3.4L535.6 212.2c46.5-23.3 82.5-63.3 100.8-112C645.9 75 627.2 48 600.2 48l-57.4 0c-20.2 0-40.2 4.8-58.2 14L381 114.9zM0 480c0 17.7 14.3 32 32 32l576 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 448c-17.7 0-32 14.3-32 32z"]},Draw:{prefix:"fas",iconName:"paintbrush",icon:[576,512,[128396,"paint-brush"],"f1fc","M339.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L568.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S517.7-4.4 499.1 9.6L262.4 187.2c-24 18-38.2 46.1-38.4 76.1L339.3 367.1zm-19.6 25.4l-116-104.4C143.9 290.3 96 339.6 96 400c0 3.9 .2 7.8 .6 11.6C98.4 429.1 86.4 448 68.8 448L64 448c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"]},Play:{prefix:"fas",iconName:"gamepad",icon:[640,512,[],"f11b","M192 64C86 64 0 150 0 256S86 448 192 448l256 0c106 0 192-86 192-192s-86-192-192-192L192 64zM496 168a40 40 0 1 1 0 80 40 40 0 1 1 0-80zM392 304a40 40 0 1 1 80 0 40 40 0 1 1 -80 0zM168 200c0-13.3 10.7-24 24-24s24 10.7 24 24l0 32 32 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-32 0 0 32c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-32-32 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l32 0 0-32z"]}}),wu=()=>{let{data:t,isPending:e,error:n}=hD("personal"),{loaded:r,isReady:i}=hN(),o=(0,l.useContext)(hO).sections.role[px],s=(0,l.useContext)(wa);return(0,l.useEffect)(()=>{!e&&t&&r("Contacts")},[e,t,r]),i()&&(0,a.jsxs)("div",{className:"my-2 xl:pl-8 xl:flex",children:[(0,a.jsxs)("div",{className:"xl:pr-4",children:[(0,a.jsx)(hM,{level:2,children:"Guy Luong"}),(0,a.jsx)(hM,{level:3,children:o})]}),(0,a.jsx)("div",{className:"max-lg:pl-4 my-2 xl:px-4 xl:flex-1",children:t.map((t,e)=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(pf,{className:"mr-2",icon:s[t.label]}),t.value&&(0,a.jsx)("p",{children:t.value}),t.link&&(0,a.jsxs)("a",{href:"https://".concat(t.link),target:"_blank",rel:"noreferrer",children:[t.link," ",(0,a.jsx)(pf,{icon:s.externalLink})]})]},e))})]})};var wc=t.i(57688);let wl={src:t.i(46138).default,width:749,height:205,blurWidth:0,blurHeight:0},wh={src:t.i(50509).default,width:248,height:31,blurWidth:0,blurHeight:0},wf={src:t.i(6718).default,width:180,height:180,blurWidth:0,blurHeight:0},wd={src:t.i(46007).default,width:116,height:111,blurWidth:0,blurHeight:0},wp=t=>{let{position:e}=t;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("circle",{cx:e.x,cy:e.y,r:6,fill:"black"}),(0,a.jsx)("circle",{cx:e.x+1,cy:e.y-6,r:3,fill:"black"}),(0,a.jsx)("circle",{className:"bird-beak",cx:e.x+4,r:1,cy:e.y-5,fill:"gray"})]})},wm=t=>{let{name:e,icon:n,faIcon:r,noname:i=!1}=t,{toggleLight:o}=py();return(0,a.jsxs)("div",{className:"flex items-center cursor-pointer min-h-11",onClick:()=>o(e),children:[n&&(0,a.jsx)(wc.default,{className:"m-2",unoptimized:!0,src:n,alt:e,width:i?96:32,height:32,"aria-label":"icon for ".concat(n)}),r&&(0,a.jsx)(pf,{icon:r,className:"m-2",size:"2x"}),!i&&(0,a.jsx)("p",{className:"mx-2",children:e})]})},wg=()=>{let{isActiveLight:t}=py(),{isReady:e}=hN(),{width:n}=E(),r=(0,l.useContext)(hO).sections.skills[px];return e()&&(0,a.jsxs)("div",{className:"my-2 xl:pl-8 relative",children:[(0,a.jsx)(hM,{level:2,children:r}),(0,a.jsxs)(pv,{className:"-z-10 translate-y-[0.4rem] absolute",height:700,width:.7*n,minWidth:1280,children:[(0,a.jsx)("line",{x1:-100,y1:14,x2:.7*n,y2:14,stroke:"black",strokeWidth:4}),(0,a.jsx)("line",{x1:630,y1:11,x2:680,y2:11,stroke:"lightgray",strokeWidth:1}),(0,a.jsx)(wp,{position:{x:n>=1920?786:586,y:9}}),(0,a.jsx)(wp,{position:{x:n>=1920?770:570,y:9}}),(0,a.jsx)("line",{x1:-100,y1:26,x2:.7*n,y2:26,stroke:"black",strokeWidth:4}),(0,a.jsx)("line",{x1:610,y1:24,x2:660,y2:24,stroke:"lightgray",strokeWidth:1})]}),(0,a.jsx)("div",{className:"flex items-center text-white flex-wrap",children:[{name:"React",faIcon:pp,color:"cyan"},{name:"Next.JS",icon:wf,color:"gray",nofilter:!0},{name:"Firebase",icon:wl,color:"orange",nofilter:!0,noname:!0},{name:"D3",icon:wd,color:"gray",nofilter:!0},{name:"Tailwind",icon:wh,color:"sky",nofilter:!0,noname:!0}].map((e,n)=>(0,a.jsx)("div",{className:"xl:border-solid xl:rounded xl:mx-1 ".concat(t(e.name)?"xl:bg-".concat(e.color,"-500"):"xl:bg-".concat(e.color,"-950")),children:(0,a.jsx)(wm,{name:e.name,icon:e.icon,faIcon:e.faIcon,noname:e.noname})},n))})]})},wy=t=>{let{data:e,onHover:n,onExit:r}=t,i=(0,l.useContext)(wa);return(0,a.jsxs)("div",{className:"flex items-center",onMouseEnter:n,onMouseLeave:r,children:[(0,a.jsx)(pf,{className:"m-2",size:"2x",icon:i[e.id],"aria-label":"icon for ".concat(e.icon)}),(0,a.jsx)("p",{className:"mx-1",children:e.name[px]})]})},wv=()=>{let t=(0,l.useContext)(hO).sections.interests,e=(0,l.useContext)(hO).placeholders.interestInfo,[n,r]=(0,l.useState)(""),{data:i,isPending:o,error:s}=hD("interests"),u=()=>r(""),{loaded:c,isReady:h}=hN();return(0,l.useEffect)(()=>{!o&&i&&c("Interests")},[o,i,c]),h()&&(0,a.jsxs)("div",{className:"my-2 xl:pl-8",children:[(0,a.jsx)(hM,{level:2,children:t[px]}),(0,a.jsxs)("div",{className:"text-white",children:[(0,a.jsx)("div",{className:"flex flex-wrap",children:i.map((t,e)=>(0,a.jsx)(wy,{data:t,onHover:()=>r(t.info[px]),onExit:u},e))}),(0,a.jsx)("div",{className:"xl:pl-3 xl:rounded-md xl:bg-[#020617] xl:m-2 xl:w-145",children:n.length>0?(0,a.jsx)(wi.p,{className:"xl:text-yellow-300 xl:text-shadow-light xl:pixel-font",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:1},children:n}):(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate-400 italic",children:e[px]}),(0,a.jsx)("br",{}),(0,a.jsx)("p",{})]})})]})]})},wb=()=>{let{isMobile:t}=E(),e=(0,l.useContext)(hO).sections.education,{data:n,isPending:r,error:i}=hD("education"),{loaded:o,isReady:s}=hN();return(0,l.useEffect)(()=>{!r&&n&&o("Education")},[r,n,o]),s()&&(0,a.jsxs)("div",{className:"xl:h-1/2 max-xl:pb-6 xl:flex",children:[!t()&&(0,a.jsx)("div",{className:"translate-x-5 translate-y-10",children:(0,a.jsx)(hL,{className:"bg-green-800 hover:bg-green-600 hover:shadow-green-600 hover:shadow-lg shadow",text:""})}),(0,a.jsxs)("div",{className:"xl:flex-1",children:[(0,a.jsx)("div",{className:"xl:pl-2 xl:trapezoid xl:w-188",children:(0,a.jsx)(hM,{className:"xl:pl-8",level:2,children:e[px]})}),(0,a.jsx)("div",{className:"xl:bg-slate-800 xl:w-188 xl:h-45 xl:flex xl:flex-wrap xl:pl-8 xl:pb-8 xl:shadow xl:shadow-slate-800",children:n.map(t=>(0,a.jsxs)("div",{className:"pt-2 px-2",children:[(0,a.jsx)(hM,{level:3,children:t.degree[px]}),t.specialty&&(0,a.jsx)(hM,{level:3,children:t.specialty[px]}),(0,a.jsx)("p",{className:"text-sm",children:t.schoolName}),(0,a.jsx)("p",{className:"text-sm",children:t.years}),(0,a.jsx)("div",{className:"flex flex-wrap",children:t.skills&&t.skills.map((t,e)=>(0,a.jsx)(pb,{name:t},e))})]},t.id))})]})]})},ww=(t,e,n)=>Math.max(Math.min(n,t),e),wx=()=>(0,a.jsx)(a.Fragment,{children:Array.from({length:5},(t,e)=>e).map(t=>(0,a.jsx)(wi.circle,{initial:{cx:650,cy:528,r:3,fillOpacity:1},animate:{cx:650+ww(100*Math.random(),50,150),cy:354-ww(340*Math.random(),100,170),r:15,fillOpacity:0},transition:{duration:3+ww(Math.floor(5*Math.random()),2,4),repeat:1/0,ease:"easeOut",delay:Math.random()},fill:"gray"},t))});function wE(){let{isReady:t}=hN();return t()&&(0,a.jsx)(pv,{className:"-z-10 pl-8 translate-y-2",height:700,width:800,minWidth:1280,children:(0,a.jsxs)("g",{children:[(0,a.jsx)(wp,{position:{x:680,y:139}}),(0,a.jsx)("line",{x1:50,y1:144,x2:50,y2:700,stroke:"black",strokeWidth:15}),(0,a.jsx)("line",{x1:55,y1:144,x2:55,y2:145,stroke:"lightgray",strokeWidth:3}),(0,a.jsx)("line",{x1:245,y1:244,x2:245,y2:700,stroke:"black",strokeWidth:15}),(0,a.jsx)("line",{x1:248,y1:244,x2:248,y2:245,stroke:"lightgray",strokeWidth:7}),(0,a.jsx)("line",{x1:680,y1:144,x2:680,y2:700,stroke:"black",strokeWidth:15}),(0,a.jsx)("line",{x1:683,y1:144,x2:683,y2:145,stroke:"lightgray",strokeWidth:7}),(0,a.jsx)("line",{x1:490,y1:484,x2:490,y2:700,stroke:"black",strokeWidth:15}),(0,a.jsx)("line",{x1:493,y1:484,x2:493,y2:485,stroke:"lightgray",strokeWidth:7}),(0,a.jsx)("line",{x1:650,y1:534,x2:650,y2:700,stroke:"#54647b",strokeWidth:10}),(0,a.jsx)("line",{x1:650,y1:524,x2:650,y2:528,stroke:"#54647b",strokeWidth:10}),(0,a.jsx)("line",{x1:646,y1:528,x2:646,y2:534,stroke:"#54647b",strokeWidth:2}),(0,a.jsx)("line",{x1:654,y1:528,x2:654,y2:534,stroke:"#54647b",strokeWidth:2}),(0,a.jsx)(wx,{})]})})}let wT=(0,l.memo)(()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(pv,{minWidth:1280,className:"-z-30 w-60 h-100",children:[(0,a.jsx)("rect",{x:0,y:176,width:240,height:400,fill:"#132135"}),(0,a.jsx)("line",{x1:30,y1:0,x2:30,y2:176,strokeWidth:4,stroke:"#000"}),(0,a.jsx)("line",{x1:120,y1:0,x2:120,y2:176,strokeWidth:4,stroke:"#000"}),(0,a.jsx)("line",{x1:210,y1:0,x2:210,y2:176,strokeWidth:4,stroke:"#000"})]}),(0,a.jsxs)(pv,{minWidth:1280,className:"w-60 h-100",children:[[1,2,3,4,5,6,7].map(t=>(0,a.jsx)("line",{x1:30*t,y1:176,x2:30*t,y2:400,strokeWidth:1,stroke:"#475569"},t)),[1,2,3,4].map(t=>(0,a.jsx)("line",{x1:0,y1:176+44*t,x2:240,y2:176+44*t,strokeWidth:1,stroke:"#475569"},t))]})]})),wS=t=>{let{className:e,style:n}=t,{url:r,color:i}=pg(),{isReady:o}=hN();return o()&&(0,a.jsxs)("div",{className:"-z-20 ".concat(e),style:u({},n),children:[(0,a.jsx)(wT,{}),(0,a.jsx)("div",{className:"-z-30 h-40 w-60 max-h-40 max-w-60 px-2 flex justify-center items-center ".concat(r?"bg-slate-500":"bg-slate-800"),children:r?(0,a.jsx)("img",{src:r,alt:"Project preview",className:"".concat(i?"shadow-md ".concat({pink:"shadow-pink-200",slate:"shadow-slate-400",white:"shadow-white",purple:"shadow-purple-400"}[i]):"")}):(0,a.jsxs)("p",{className:"font-bold font-[Meiryo] text-center text-slate-300",children:[(0,a.jsx)("span",{className:"tracking-widest text-4xl",children:""}),(0,a.jsx)("br",{}),""]})})]})},wI=()=>{let{isMobile:t}=E(),{isReady:e}=hN(),n=(0,l.useRef)(null),[r,i]=(0,l.useState)(.3),o=e();(0,l.useEffect)(()=>{if(!o||!n.current)return;let t=n.current.getBoundingClientRect(),e=document.getElementById("highlights-root");if(!e)return;let r=e.getBoundingClientRect().height-t.height,s=document.documentElement.scrollHeight-window.innerHeight;s<=0||r<=0||i(Math.min(Math.max(r/s,.05),.6))},[o]);let{style:s}=pk(r),{style:c}=pk(.1),h=(0,l.useContext)(hO).placeholders.goToDesktopPls[px];return(0,a.jsxs)("div",{ref:n,className:"xl:h-full xl:pt-16",style:t()?{}:u({},s),children:[(0,a.jsx)(wE,{}),t()&&(0,a.jsx)("p",{className:"italic py-5",children:h}),(0,a.jsx)(wu,{}),(0,a.jsx)(wg,{}),(0,a.jsxs)("div",{className:"flex space-x-24",children:[(0,a.jsx)(ws,{}),!t()&&(0,a.jsx)(wS,{style:t()?{}:u({},c)})]}),(0,a.jsx)(wv,{}),(0,a.jsx)(wb,{})]})},w_=Array.from({length:30},()=>({x:Math.floor(Math.random()*window.innerWidth*.9),y:Math.floor(Math.random()*window.innerHeight*.7),radius:Math.floor(4*Math.random())}));function wA(){let{width:t,height:e}=E();return(0,a.jsxs)(pv,{className:"z-0",width:.9*t,height:.7*e,children:[(0,a.jsx)("defs",{children:(0,a.jsx)("filter",{id:"blur",children:(0,a.jsx)("feGaussianBlur",{stdDeviation:"0.5"})})}),w_.map((t,e)=>(0,a.jsx)("circle",{r:t.radius,cx:t.x,cy:t.y,fill:t.radius>=3?"#a5f3fc":"white",filter:"url(#blur)",fillOpacity:1-t.y/(.8*window.innerHeight)},e))]})}let wk=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"px-8 2xl:px-16",children:(0,a.jsx)(wA,{})}),(0,a.jsx)("div",{className:"px-8 2xl:px-16 pt-8 bg-linear-to-b from-slate-900 from-50% via-teal-700 via-85% to-cyan-400",children:(0,a.jsx)(d,{children:(0,a.jsx)(g,{children:(0,a.jsx)(b,{children:(0,a.jsxs)("div",{className:"xl:flex relative xl:h-full z-10",children:[(0,a.jsx)(wI,{}),(0,a.jsx)(pA,{})]})})})})})]}),wC=()=>(0,a.jsx)("footer",{className:"p-2 text-center",children:" Guy Luong, 2024-2026"});t.s(["default",0,function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(wk,{}),(0,a.jsx)(wC,{})]})}],4193)},36840,t=>{t.n(t.i(4193))}]);